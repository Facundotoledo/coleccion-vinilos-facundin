(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function jw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function kw(){if(j0)return Al;j0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var k0;function qw(){return k0||(k0=1,qd.exports=kw()),qd.exports}var at=qw(),Fd={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function Fw(){if(q0)return Dt;q0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,G={};function H(x,tt,ut){this.props=x,this.context=tt,this.refs=G,this.updater=ut||V}H.prototype.isReactComponent={},H.prototype.setState=function(x,tt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,tt,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=H.prototype;function st(x,tt,ut){this.props=x,this.context=tt,this.refs=G,this.updater=ut||V}var Z=st.prototype=new X;Z.constructor=st,j(Z,H.prototype),Z.isPureReactComponent=!0;var ot=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function I(x,tt,ut,it,yt,xt){return ut=xt.ref,{$$typeof:n,type:x,key:tt,ref:ut!==void 0?ut:null,props:xt}}function w(x,tt){return I(x.type,tt,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function M(x){var tt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ut){return tt[ut]})}var N=/\/+/g;function P(x,tt){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):tt.toString(36)}function R(){}function bt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(R,R):(x.status="pending",x.then(function(tt){x.status==="pending"&&(x.status="fulfilled",x.value=tt)},function(tt){x.status==="pending"&&(x.status="rejected",x.reason=tt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function vt(x,tt,ut,it,yt){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var wt=!1;if(x===null)wt=!0;else switch(xt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(x.$$typeof){case n:case t:wt=!0;break;case v:return wt=x._init,vt(wt(x._payload),tt,ut,it,yt)}}if(wt)return yt=yt(x),wt=it===""?"."+P(x,0):it,ot(yt)?(ut="",wt!=null&&(ut=wt.replace(N,"$&/")+"/"),vt(yt,tt,ut,"",function(Qn){return Qn})):yt!=null&&(C(yt)&&(yt=w(yt,ut+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(N,"$&/")+"/")+wt)),tt.push(yt)),1;wt=0;var xe=it===""?".":it+":";if(ot(x))for(var Wt=0;Wt<x.length;Wt++)it=x[Wt],xt=xe+P(it,Wt),wt+=vt(it,tt,ut,xt,yt);else if(Wt=b(x),typeof Wt=="function")for(x=Wt.call(x),Wt=0;!(it=x.next()).done;)it=it.value,xt=xe+P(it,Wt++),wt+=vt(it,tt,ut,xt,yt);else if(xt==="object"){if(typeof x.then=="function")return vt(bt(x),tt,ut,it,yt);throw tt=String(x),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function F(x,tt,ut){if(x==null)return x;var it=[],yt=0;return vt(x,it,"","",function(xt){return tt.call(ut,xt,yt++)}),it}function W(x){if(x._status===-1){var tt=x._result;tt=tt(),tt.then(function(ut){(x._status===0||x._status===-1)&&(x._status=1,x._result=ut)},function(ut){(x._status===0||x._status===-1)&&(x._status=2,x._result=ut)}),x._status===-1&&(x._status=0,x._result=tt)}if(x._status===1)return x._result.default;throw x._result}var lt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Tt(){}return Dt.Children={map:F,forEach:function(x,tt,ut){F(x,function(){tt.apply(this,arguments)},ut)},count:function(x){var tt=0;return F(x,function(){tt++}),tt},toArray:function(x){return F(x,function(tt){return tt})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Dt.Component=H,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=st,Dt.StrictMode=r,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return nt.H.useMemoCache(x)}},Dt.cache=function(x){return function(){return x.apply(null,arguments)}},Dt.cloneElement=function(x,tt,ut){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=j({},x.props),yt=x.key,xt=void 0;if(tt!=null)for(wt in tt.ref!==void 0&&(xt=void 0),tt.key!==void 0&&(yt=""+tt.key),tt)!ft.call(tt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&tt.ref===void 0||(it[wt]=tt[wt]);var wt=arguments.length-2;if(wt===1)it.children=ut;else if(1<wt){for(var xe=Array(wt),Wt=0;Wt<wt;Wt++)xe[Wt]=arguments[Wt+2];it.children=xe}return I(x.type,yt,void 0,void 0,xt,it)},Dt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Dt.createElement=function(x,tt,ut){var it,yt={},xt=null;if(tt!=null)for(it in tt.key!==void 0&&(xt=""+tt.key),tt)ft.call(tt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(yt[it]=tt[it]);var wt=arguments.length-2;if(wt===1)yt.children=ut;else if(1<wt){for(var xe=Array(wt),Wt=0;Wt<wt;Wt++)xe[Wt]=arguments[Wt+2];yt.children=xe}if(x&&x.defaultProps)for(it in wt=x.defaultProps,wt)yt[it]===void 0&&(yt[it]=wt[it]);return I(x,xt,void 0,void 0,null,yt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(x){return{$$typeof:d,render:x}},Dt.isValidElement=C,Dt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:W}},Dt.memo=function(x,tt){return{$$typeof:g,type:x,compare:tt===void 0?null:tt}},Dt.startTransition=function(x){var tt=nt.T,ut={};nt.T=ut;try{var it=x(),yt=nt.S;yt!==null&&yt(ut,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Tt,lt)}catch(xt){lt(xt)}finally{nt.T=tt}},Dt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Dt.use=function(x){return nt.H.use(x)},Dt.useActionState=function(x,tt,ut){return nt.H.useActionState(x,tt,ut)},Dt.useCallback=function(x,tt){return nt.H.useCallback(x,tt)},Dt.useContext=function(x){return nt.H.useContext(x)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(x,tt){return nt.H.useDeferredValue(x,tt)},Dt.useEffect=function(x,tt,ut){var it=nt.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(x,tt)},Dt.useId=function(){return nt.H.useId()},Dt.useImperativeHandle=function(x,tt,ut){return nt.H.useImperativeHandle(x,tt,ut)},Dt.useInsertionEffect=function(x,tt){return nt.H.useInsertionEffect(x,tt)},Dt.useLayoutEffect=function(x,tt){return nt.H.useLayoutEffect(x,tt)},Dt.useMemo=function(x,tt){return nt.H.useMemo(x,tt)},Dt.useOptimistic=function(x,tt){return nt.H.useOptimistic(x,tt)},Dt.useReducer=function(x,tt,ut){return nt.H.useReducer(x,tt,ut)},Dt.useRef=function(x){return nt.H.useRef(x)},Dt.useState=function(x){return nt.H.useState(x)},Dt.useSyncExternalStore=function(x,tt,ut){return nt.H.useSyncExternalStore(x,tt,ut)},Dt.useTransition=function(){return nt.H.useTransition()},Dt.version="19.1.0",Dt}var F0;function up(){return F0||(F0=1,Fd.exports=Fw()),Fd.exports}var mt=up();const Ur=jw(mt);var Hd={exports:{}},Sl={},Gd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function Hw(){return H0||(H0=1,function(n){function t(F,W){var lt=F.length;F.push(W);t:for(;0<lt;){var Tt=lt-1>>>1,x=F[Tt];if(0<o(x,W))F[Tt]=W,F[lt]=x,lt=Tt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],lt=F.pop();if(lt!==W){F[0]=lt;t:for(var Tt=0,x=F.length,tt=x>>>1;Tt<tt;){var ut=2*(Tt+1)-1,it=F[ut],yt=ut+1,xt=F[yt];if(0>o(it,lt))yt<x&&0>o(xt,it)?(F[Tt]=xt,F[yt]=lt,Tt=yt):(F[Tt]=it,F[ut]=lt,Tt=ut);else if(yt<x&&0>o(xt,lt))F[Tt]=xt,F[yt]=lt,Tt=yt;else break t}}return W}function o(F,W){var lt=F.sortIndex-W.sortIndex;return lt!==0?lt:F.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,E=null,b=3,V=!1,j=!1,G=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ot(F){for(var W=i(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=F)r(g),W.sortIndex=W.expirationTime,t(p,W);else break;W=i(g)}}function nt(F){if(G=!1,ot(F),!j)if(i(p)!==null)j=!0,ft||(ft=!0,P());else{var W=i(g);W!==null&&vt(nt,W.startTime-F)}}var ft=!1,I=-1,w=5,C=-1;function M(){return H?!0:!(n.unstable_now()-C<w)}function N(){if(H=!1,ft){var F=n.unstable_now();C=F;var W=!0;try{t:{j=!1,G&&(G=!1,st(I),I=-1),V=!0;var lt=b;try{e:{for(ot(F),E=i(p);E!==null&&!(E.expirationTime>F&&M());){var Tt=E.callback;if(typeof Tt=="function"){E.callback=null,b=E.priorityLevel;var x=Tt(E.expirationTime<=F);if(F=n.unstable_now(),typeof x=="function"){E.callback=x,ot(F),W=!0;break e}E===i(p)&&r(p),ot(F)}else r(p);E=i(p)}if(E!==null)W=!0;else{var tt=i(g);tt!==null&&vt(nt,tt.startTime-F),W=!1}}break t}finally{E=null,b=lt,V=!1}W=void 0}}finally{W?P():ft=!1}}}var P;if(typeof Z=="function")P=function(){Z(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,bt=R.port2;R.port1.onmessage=N,P=function(){bt.postMessage(null)}}else P=function(){X(N,0)};function vt(F,W){I=X(function(){F(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(F){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var lt=b;b=W;try{return F()}finally{b=lt}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var lt=b;b=F;try{return W()}finally{b=lt}},n.unstable_scheduleCallback=function(F,W,lt){var Tt=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Tt+lt:Tt):lt=Tt,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=lt+x,F={id:v++,callback:W,priorityLevel:F,startTime:lt,expirationTime:x,sortIndex:-1},lt>Tt?(F.sortIndex=lt,t(g,F),i(p)===null&&F===i(g)&&(G?(st(I),I=-1):G=!0,vt(nt,lt-Tt))):(F.sortIndex=x,t(p,F),j||V||(j=!0,ft||(ft=!0,P()))),F},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(F){var W=b;return function(){var lt=b;b=W;try{return F.apply(this,arguments)}finally{b=lt}}}}(Kd)),Kd}var G0;function Gw(){return G0||(G0=1,Gd.exports=Hw()),Gd.exports}var Yd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function Kw(){if(K0)return Qe;K0=1;var n=up();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Qe.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},Qe.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Qe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Qe.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:V}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qe.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Qe.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qe.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Qe.requestFormReset=function(p){r.d.r(p)},Qe.unstable_batchedUpdates=function(p,g){return p(g)},Qe.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Qe.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var Y0;function Yw(){if(Y0)return Yd.exports;Y0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yd.exports=Kw(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function Qw(){if(Q0)return Sl;Q0=1;var n=Gw(),t=up(),i=Yw();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),e;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,l=m;break}if(A===l){T=!0,l=f,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=f;break}if(A===l){T=!0,l=m,a=f;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case H:return"Profiler";case G:return"StrictMode";case nt:return"Suspense";case ft:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case st:return(e._context.displayName||"Context")+".Consumer";case ot:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return s=e.displayName||null,s!==null?s:bt(e.type)||"Memo";case w:s=e._payload,e=e._init;try{return bt(e(s))}catch{}}return null}var vt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Tt=[],x=-1;function tt(e){return{current:e}}function ut(e){0>x||(e.current=Tt[x],Tt[x]=null,x--)}function it(e,s){x++,Tt[x]=e.current,e.current=s}var yt=tt(null),xt=tt(null),wt=tt(null),xe=tt(null);function Wt(e,s){switch(it(wt,s),it(xt,e),it(yt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?m0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=m0(s),e=p0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(yt),it(yt,e)}function Qn(){ut(yt),ut(xt),ut(wt)}function Zi(e){e.memoizedState!==null&&it(xe,e);var s=yt.current,a=p0(s,e.type);s!==a&&(it(xt,e),it(yt,a))}function _i(e){xt.current===e&&(ut(yt),ut(xt)),xe.current===e&&(ut(xe),yl._currentValue=lt)}var Ks=Object.prototype.hasOwnProperty,Ys=n.unstable_scheduleCallback,Qs=n.unstable_cancelCallback,mo=n.unstable_shouldYield,cu=n.unstable_requestPaint,bn=n.unstable_now,kh=n.unstable_getCurrentPriorityLevel,po=n.unstable_ImmediatePriority,Kr=n.unstable_UserBlockingPriority,Xs=n.unstable_NormalPriority,qh=n.unstable_LowPriority,Yr=n.unstable_IdlePriority,go=n.log,hu=n.unstable_setDisableYieldValue,le=null,Gt=null;function dn(e){if(typeof go=="function"&&hu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,e)}catch{}}var Ke=Math.clz32?Math.clz32:$s,fu=Math.log,Fh=Math.LN2;function $s(e){return e>>>=0,e===0?32:31-(fu(e)/Fh|0)|0}var Zs=256,Js=4194304;function jn(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=jn(l):(T&=A,T!==0?f=jn(T):a||(a=A&~e,a!==0&&(f=jn(a))))):(A=l&~m,A!==0?f=jn(A):T!==0?f=jn(T):a||(a=l&~e,a!==0&&(f=jn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ws(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function yo(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var e=Zs;return Zs<<=1,(Zs&4194048)===0&&(Zs=256),e}function _o(){var e=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),e}function Ti(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ei(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,s,a,l,f,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-Ke(a),$=1<<Y;A[Y]=0,D[Y]=-1;var k=z[Y];if(k!==null)for(z[Y]=null,Y=0;Y<k.length;Y++){var q=k[Y];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&Xn(e,l,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function Xn(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Ke(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Eo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Ke(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wi(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:N0(e.type))}function du(e,s){var a=W.p;try{return W.p=e,s()}finally{W.p=a}}var ne=Math.random().toString(36).slice(2),be="__reactFiber$"+ne,ve="__reactProps$"+ne,wn="__reactContainer$"+ne,Ao="__reactEvents$"+ne,Hh="__reactListeners$"+ne,ts="__reactHandles$"+ne,mu="__reactResources$"+ne,tr="__reactMarker$"+ne;function es(e){delete e[be],delete e[ve],delete e[Ao],delete e[Hh],delete e[ts]}function Ai(e){var s=e[be];if(s)return s;for(var a=e.parentNode;a;){if(s=a[wn]||a[be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=_0(e);e!==null;){if(a=e[be])return a;e=_0(e)}return s}e=a,a=e.parentNode}return null}function $n(e){if(e=e[be]||e[wn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function Zn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function en(e){var s=e[mu];return s||(s=e[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fe(e){e[tr]=!0}var So=new Set,$r={};function kn(e,s){Si(e,s),Si(e+"Capture",s)}function Si(e,s){for($r[e]=s,e=0;e<s.length;e++)So.add(s[e])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},er={};function yu(e){return Ks.call(er,e)?!0:Ks.call(gu,e)?!1:pu.test(e)?er[e]=!0:(gu[e]=!0,!1)}function ns(e,s,a){if(yu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Jn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Be(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var nr,vu;function bi(e){if(nr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);nr=s&&s[1]||"",vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+e+vu}var Zr=!1;function Jr(e,s){if(!e||Zr)return"";Zr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var k=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){k=q}e.call($.prototype)}}else{try{throw Error()}catch(q){k=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),z=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===z.length)for(l=D.length-1,f=z.length-1;1<=l&&0<=f&&D[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==z[f]){var Y=`
`+D[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Zr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function bo(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Jr(e.type,!1);case 11:return Jr(e.type.render,!1);case 1:return Jr(e.type,!0);case 31:return bi("Activity");default:return""}}function Wr(e){try{var s="";do s+=bo(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wo(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Gh(e){var s=wo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function ta(e){e._valueTracker||(e._valueTracker=Gh(e))}function Ro(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=wo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kh=/[\n"\\]/g;function _e(e){return e.replace(Kh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mn(e,s,a,l,f,m,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+nn(s)):e.value!==""+nn(s)&&(e.value=""+nn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?is(e,T,nn(s)):a!=null?is(e,T,nn(a)):l!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+nn(A):e.removeAttribute("name")}function sr(e,s,a,l,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function is(e,s,a){s==="number"&&ir(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wi(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Qt(e,s,a){if(s!=null&&(s=""+nn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+nn(a):""}function rr(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Rn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var ar=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _u(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||ar.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Co(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&_u(e,f,l)}else for(var m in s)s.hasOwnProperty(m)&&_u(e,m,s[m])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return Qh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Di=null;function Vo(e){var s=$n(e);if(s&&(e=s.stateNode)){var a=e[ve]||null;t:switch(e=s.stateNode,s.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[ve]||null;if(!f)throw Error(r(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Ro(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&wi(e,!!a.multiple,s,!1)}}}var Wn=!1;function Tu(e,s,a){if(Wn)return e(s,a);Wn=!0;try{var l=e(s);return l}finally{if(Wn=!1,(Ci!==null||Di!==null)&&(dc(),Ci&&(s=Ci,e=Di,Di=Ci=null,Vo(s),e)))for(s=0;s<e.length;s++)Vo(e[s])}}function or(e,s){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(qn)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Dn=!1}var ti=null,ss=null,Vi=null;function xo(){if(Vi)return Vi;var e,s=ss,a=s.length,l,f="value"in ti?ti.value:ti.textContent,m=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return Vi=f.slice(e,1<l?1-l:void 0)}function ei(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Io(){return!1}function Ie(e){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ni:Io,this.isPropagationStopped=Io,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),s}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Ie(Ht),ur=v({},Ht,{view:0,detail:0}),Eu=Ie(ur),ia,sa,ii,cr=v({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(ia=e.screenX-ii.screenX,sa=e.screenY-ii.screenY):sa=ia=0,ii=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Vn=Ie(cr),Au=v({},cr,{dataTransfer:0}),Xh=Ie(Au),hr=v({},ur,{relatedTarget:0}),ra=Ie(hr),Mo=v({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=Ie(Mo),Su=v({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oa=Ie(Su),$h=v({},Ht,{data:0}),Oo=Ie($h),fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=wu[e])?!!s[e]:!1}function dr(){return No}var Ru=v({},ur,{key:function(e){if(e.key){var s=fr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),la=Ie(Ru),Cu=v({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Ie(Cu),xi=v({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),Du=Ie(xi),Vu=v({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=Ie(Vu),Iu=v({},cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=Ie(Iu),sn=v({},Ht,{newState:0,oldState:0}),Mu=Ie(sn),Ou=[9,13,27,32],si=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,_=qn&&(!si||c&&8<c&&11>=c),S=" ",U=!1;function K(e,s){switch(e){case"keyup":return Ou.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function we(e,s){switch(e){case"compositionend":return rt(s);case"keypress":return s.which!==32?null:(U=!0,S);case"textInput":return e=s.data,e===S&&U?null:e;default:return null}}function Lt(e,s){if(Pt)return e==="compositionend"||!si&&K(e,s)?(e=xo(),Vi=ss=ti=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Me[e.type]:s==="textarea"}function Ii(e,s,a,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,s=_c(s,"onChange"),0<s.length&&(a=new na("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var ze=null,ri=null;function Lo(e){u0(e,0)}function Nu(e){var s=Zn(e);if(Ro(s))return e}function xg(e,s){if(e==="change")return s}var Ig=!1;if(qn){var Zh;if(qn){var Jh="oninput"in document;if(!Jh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Jh=typeof Mg.oninput=="function"}Zh=Jh}else Zh=!1;Ig=Zh&&(!document.documentMode||9<document.documentMode)}function Og(){ze&&(ze.detachEvent("onpropertychange",Ng),ri=ze=null)}function Ng(e){if(e.propertyName==="value"&&Nu(ri)){var s=[];Ii(s,ri,e,Cn(e)),Tu(Lo,s)}}function gb(e,s,a){e==="focusin"?(Og(),ze=s,ri=a,ze.attachEvent("onpropertychange",Ng)):e==="focusout"&&Og()}function yb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(ri)}function vb(e,s){if(e==="click")return Nu(s)}function _b(e,s){if(e==="input"||e==="change")return Nu(s)}function Tb(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var pn=typeof Object.is=="function"?Object.is:Tb;function Uo(e,s){if(pn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ks.call(s,f)||!pn(e[f],s[f]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lg(e,s){var a=Pg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pg(a)}}function Ug(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Ug(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=ir(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=ir(e.document)}return s}function Wh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Eb=qn&&"documentMode"in document&&11>=document.documentMode,ca=null,tf=null,Bo=null,ef=!1;function zg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||ca==null||ca!==ir(l)||(l=ca,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&Uo(Bo,l)||(Bo=l,l=_c(tf,"onSelect"),0<l.length&&(s=new na("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=ca)))}function mr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var ha={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},nf={},jg={};qn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function pr(e){if(nf[e])return nf[e];if(!ha[e])return e;var s=ha[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in jg)return nf[e]=s[a];return e}var kg=pr("animationend"),qg=pr("animationiteration"),Fg=pr("animationstart"),Ab=pr("transitionrun"),Sb=pr("transitionstart"),bb=pr("transitioncancel"),Hg=pr("transitionend"),Gg=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function Fn(e,s){Gg.set(e,s),kn(s,[e])}var Kg=new WeakMap;function xn(e,s){if(typeof e=="object"&&e!==null){var a=Kg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Wr(s)},Kg.set(e,s),s)}return{value:e,source:s,stack:Wr(s)}}var In=[],fa=0,rf=0;function Pu(){for(var e=fa,s=rf=fa=0;s<e;){var a=In[s];In[s++]=null;var l=In[s];In[s++]=null;var f=In[s];In[s++]=null;var m=In[s];if(In[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Yg(a,f,m)}}function Lu(e,s,a,l){In[fa++]=e,In[fa++]=s,In[fa++]=a,In[fa++]=l,rf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function af(e,s,a,l){return Lu(e,s,a,l),Uu(e)}function da(e,s){return Lu(e,null,null,s),Uu(e)}function Yg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&s!==null&&(f=31-Ke(a),e=m.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Uu(e){if(50<ul)throw ul=0,fd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ma={};function wb(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,s,a,l){return new wb(e,s,a,l)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,s){var a=e.alternate;return a===null?(a=gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qg(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Bu(e,s,a,l,f,m){var T=0;if(l=e,typeof e=="function")of(e)&&(T=1);else if(typeof e=="string")T=Cw(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,s,f),e.elementType=C,e.lanes=m,e;case j:return gr(a.children,f,m,s);case G:T=8,f|=24;break;case H:return e=gn(12,a,s,f|2),e.elementType=H,e.lanes=m,e;case nt:return e=gn(13,a,s,f),e.elementType=nt,e.lanes=m,e;case ft:return e=gn(19,a,s,f),e.elementType=ft,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case Z:T=10;break t;case st:T=9;break t;case ot:T=11;break t;case I:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=gn(T,a,s,f),s.elementType=e,s.type=l,s.lanes=m,s}function gr(e,s,a,l){return e=gn(7,e,l,s),e.lanes=a,e}function lf(e,s,a){return e=gn(6,e,null,s),e.lanes=a,e}function uf(e,s,a){return s=gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var pa=[],ga=0,zu=null,ju=0,Mn=[],On=0,yr=null,Oi=1,Ni="";function vr(e,s){pa[ga++]=ju,pa[ga++]=zu,zu=e,ju=s}function Xg(e,s,a){Mn[On++]=Oi,Mn[On++]=Ni,Mn[On++]=yr,yr=e;var l=Oi;e=Ni;var f=32-Ke(l)-1;l&=~(1<<f),a+=1;var m=32-Ke(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Oi=1<<32-Ke(s)+f|a<<f|l,Ni=m+e}else Oi=1<<m|a<<f|l,Ni=e}function cf(e){e.return!==null&&(vr(e,1),Xg(e,1,0))}function hf(e){for(;e===zu;)zu=pa[--ga],pa[ga]=null,ju=pa[--ga],pa[ga]=null;for(;e===yr;)yr=Mn[--On],Mn[On]=null,Ni=Mn[--On],Mn[On]=null,Oi=Mn[--On],Mn[On]=null}var rn=null,ue=null,Ft=!1,_r=null,ai=!1,ff=Error(r(519));function Tr(e){var s=Error(r(418,""));throw ko(xn(s,e)),ff}function $g(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[be]=e,s[ve]=l,a){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(a=0;a<hl.length;a++)Nt(hl[a],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),sr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ta(s);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),rr(s,l.value,l.defaultValue,l.children),ta(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||d0(s.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),l.onScroll!=null&&Nt("scroll",s),l.onScrollEnd!=null&&Nt("scrollend",s),l.onClick!=null&&(s.onclick=Tc),s=!0):s=!1,s||Tr(e)}function Zg(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:rn=rn.return}}function zo(e){if(e!==rn)return!1;if(!Ft)return Zg(e),Ft=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Dd(e.type,e.memoizedProps)),a=!a),a&&ue&&Tr(e),Zg(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){ue=Gn(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}ue=null}}else s===27?(s=ue,Ts(e.type)?(e=Md,Md=null,ue=e):ue=s):ue=rn?Gn(e.stateNode.nextSibling):null;return!0}function jo(){ue=rn=null,Ft=!1}function Jg(){var e=_r;return e!==null&&(un===null?un=e:un.push.apply(un,e),_r=null),e}function ko(e){_r===null?_r=[e]:_r.push(e)}var df=tt(null),Er=null,Pi=null;function rs(e,s,a){it(df,s._currentValue),s._currentValue=a}function Li(e){e._currentValue=df.current,ut(df)}function mf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function pf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),mf(m.return,a,e),l||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),mf(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function qo(e,s,a,l){e=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=f.type;pn(f.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(f===xe.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}f=f.return}e!==null&&pf(s,e,a,l),s.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Er=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Wg(Er,e)}function qu(e,s){return Er===null&&Ar(e),Wg(e,s)}function Wg(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(r(308));Pi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Pi=Pi.next=s;return a}var Rb=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Cb=n.unstable_scheduleCallback,Db=n.unstable_NormalPriority,Ce={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new Rb,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&Cb(Db,function(){e.controller.abort()})}var Ho=null,yf=0,ya=0,va=null;function Vb(e,s){if(Ho===null){var a=Ho=[];yf=0,ya=_d(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,s.then(ty,ty),s}function ty(){if(--yf===0&&Ho!==null){va!==null&&(va.status="fulfilled");var e=Ho;Ho=null,ya=0,va=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function xb(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ey=F.S;F.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Vb(e,s),ey!==null&&ey(e,s)};var Sr=tt(null);function vf(){var e=Sr.current;return e!==null?e:te.pooledCache}function Fu(e,s){s===null?it(Sr,Sr.current):it(Sr,s.pool)}function ny(){var e=vf();return e===null?null:{parent:Ce._currentValue,pool:e}}var Go=Error(r(460)),iy=Error(r(474)),Hu=Error(r(542)),_f={then:function(){}};function sy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(){}function ry(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Gu,Gu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,oy(e),e;default:if(typeof s.status=="string")s.then(Gu,Gu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,oy(e),e}throw Ko=s,Go}}var Ko=null;function ay(){if(Ko===null)throw Error(r(459));var e=Ko;return Ko=null,e}function oy(e){if(e===Go||e===Hu)throw Error(r(483))}var as=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ls(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Uu(e),Yg(e,null,a),s}return Lu(e,l,s,a),Uu(e)}function Yo(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Eo(e,a)}}function Af(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Sf=!1;function Qo(){if(Sf){var e=va;if(e!==null)throw e}}function Xo(e,s,a,l){Sf=!1;var f=e.updateQueue;as=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,z=D.next;D.next=null,T===null?m=z:T.next=z,T=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==T&&(A===null?Y.firstBaseUpdate=z:A.next=z,Y.lastBaseUpdate=D))}if(m!==null){var $=f.baseState;T=0,Y=z=D=null,A=m;do{var k=A.lane&-536870913,q=k!==A.lane;if(q?(Ut&k)===k:(l&k)===k){k!==0&&k===ya&&(Sf=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var At=e,_t=A;k=s;var Zt=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){$=At.call(Zt,$,k);break t}$=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,k=typeof At=="function"?At.call(Zt,$,k):At,k==null)break t;$=v({},$,k);break t;case 2:as=!0}}k=A.callback,k!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[k]:q.push(k))}else q={lane:k,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(z=Y=q,D=$):Y=Y.next=q,T|=k;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Y===null&&(D=$),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),gs|=T,e.lanes=T,e.memoizedState=$}}function ly(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function uy(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ly(a[e],s)}var _a=tt(null),Ku=tt(0);function cy(e,s){e=Fi,it(Ku,e),it(_a,s),Fi=e|s.baseLanes}function bf(){it(Ku,Fi),it(_a,_a.current)}function wf(){Fi=Ku.current,ut(_a),ut(Ku)}var us=0,Vt=null,Xt=null,Te=null,Yu=!1,Ta=!1,br=!1,Qu=0,$o=0,Ea=null,Ib=0;function de(){throw Error(r(321))}function Rf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!pn(e[a],s[a]))return!1;return!0}function Cf(e,s,a,l,f,m){return us=m,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=e===null||e.memoizedState===null?Yy:Qy,br=!1,m=a(l,f),br=!1,Ta&&(m=fy(s,a,l,f)),hy(e),m}function hy(e){F.H=tc;var s=Xt!==null&&Xt.next!==null;if(us=0,Te=Xt=Vt=null,Yu=!1,$o=0,Ea=null,s)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&ku(e)&&(Oe=!0))}function fy(e,s,a,l){Vt=e;var f=0;do{if(Ta&&(Ea=null),$o=0,Ta=!1,25<=f)throw Error(r(301));if(f+=1,Te=Xt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=Bb,m=s(a,l)}while(Ta);return m}function Mb(){var e=F.H,s=e.useState()[0];return s=typeof s.then=="function"?Zo(s):s,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Vt.flags|=1024),s}function Df(){var e=Qu!==0;return Qu=0,e}function Vf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function xf(e){if(Yu){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Yu=!1}us=0,Te=Xt=Vt=null,Ta=!1,$o=Qu=0,Ea=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Vt.memoizedState=Te=e:Te=Te.next=e,Te}function Ee(){if(Xt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var s=Te===null?Vt.memoizedState:Te.next;if(s!==null)Te=s,Xt=e;else{if(e===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Vt.memoizedState=Te=e:Te=Te.next=e}return Te}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var s=$o;return $o+=1,Ea===null&&(Ea=[]),e=ry(Ea,e,s),s=Vt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?Yy:Qy),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===Z)return Ye(e)}throw Error(r(438,String(e)))}function Mf(e){var s=null,a=Vt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=If(),Vt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=M;return s.index++,a}function Ui(e,s){return typeof s=="function"?s(e):s}function $u(e){var s=Ee();return Of(s,Xt,e)}function Of(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{s=f.next;var A=T=null,D=null,z=s,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ut&$)===$:(us&$)===$){var k=z.revertLane;if(k===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ya&&(Y=!0);else if((us&k)===k){z=z.next,k===ya&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=$,T=m):D=D.next=$,Vt.lanes|=k,gs|=k;$=z.action,br&&a(m,$),m=z.hasEagerState?z.eagerState:a(m,$)}else k={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=k,T=m):D=D.next=k,Vt.lanes|=$,gs|=$;z=z.next}while(z!==null&&z!==s);if(D===null?T=m:D.next=A,!pn(m,e.memoizedState)&&(Oe=!0,Y&&(a=va,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Nf(e){var s=Ee(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);pn(m,s.memoizedState)||(Oe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function dy(e,s,a){var l=Vt,f=Ee(),m=Ft;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!pn((Xt||f).memoizedState,a);T&&(f.memoizedState=a,Oe=!0),f=f.queue;var A=gy.bind(null,l,f,e);if(Jo(2048,8,A,[e]),f.getSnapshot!==s||T||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Aa(9,Zu(),py.bind(null,l,f,a,s),null),te===null)throw Error(r(349));m||(us&124)!==0||my(l,s,a)}return a}function my(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Vt.updateQueue,s===null?(s=If(),Vt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function py(e,s,a,l){s.value=a,s.getSnapshot=l,yy(s)&&vy(e)}function gy(e,s,a){return a(function(){yy(s)&&vy(e)})}function yy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!pn(e,a)}catch{return!0}}function vy(e){var s=da(e,2);s!==null&&En(s,e,2)}function Pf(e){var s=on();if(typeof e=="function"){var a=e;if(e=a(),br){dn(!0);try{a()}finally{dn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},s}function _y(e,s,a,l){return e.baseState=a,Of(e,Xt,typeof l=="function"?l:Ui)}function Ob(e,s,a,l,f){if(Wu(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Ty(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Ty(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var m=F.T,T={};F.T=T;try{var A=a(f,l),D=F.S;D!==null&&D(T,A),Ey(e,s,A)}catch(z){Lf(e,s,z)}finally{F.T=m}}else try{m=a(f,l),Ey(e,s,m)}catch(z){Lf(e,s,z)}}function Ey(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(e,s,l)},function(l){return Lf(e,s,l)}):Ay(e,s,a)}function Ay(e,s,a){s.status="fulfilled",s.value=a,Sy(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Ty(e,a)))}function Lf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Sy(s),s=s.next;while(s!==l)}e.action=null}function Sy(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function by(e,s){return s}function wy(e,s){if(Ft){var a=te.formState;if(a!==null){t:{var l=Vt;if(Ft){if(ue){e:{for(var f=ue,m=ai;f.nodeType!==8;){if(!m){f=null;break e}if(f=Gn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ue=Gn(f.nextSibling),l=f.data==="F!";break t}}Tr(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:s},a.queue=l,a=Hy.bind(null,Vt,l),l.dispatch=a,l=Pf(!1),m=kf.bind(null,Vt,!1,l.queue),l=on(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=Ob.bind(null,Vt,f,m,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function Ry(e){var s=Ee();return Cy(s,Xt,e)}function Cy(e,s,a){if(s=Of(e,s,by)[0],e=$u(Ui)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Zo(s)}catch(T){throw T===Go?Hu:T}else l=s;s=Ee();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Vt.flags|=2048,Aa(9,Zu(),Nb.bind(null,f,a),null)),[l,m,e]}function Nb(e,s){e.action=s}function Dy(e){var s=Ee(),a=Xt;if(a!==null)return Cy(s,a,e);Ee(),s=s.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Aa(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Vt.updateQueue,s===null&&(s=If(),Vt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Zu(){return{destroy:void 0,resource:void 0}}function Vy(){return Ee().memoizedState}function Ju(e,s,a,l){var f=on();l=l===void 0?null:l,Vt.flags|=e,f.memoizedState=Aa(1|s,Zu(),a,l)}function Jo(e,s,a,l){var f=Ee();l=l===void 0?null:l;var m=f.memoizedState.inst;Xt!==null&&l!==null&&Rf(l,Xt.memoizedState.deps)?f.memoizedState=Aa(s,m,a,l):(Vt.flags|=e,f.memoizedState=Aa(1|s,m,a,l))}function xy(e,s){Ju(8390656,8,e,s)}function Iy(e,s){Jo(2048,8,e,s)}function My(e,s){return Jo(4,2,e,s)}function Oy(e,s){return Jo(4,4,e,s)}function Ny(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Py(e,s,a){a=a!=null?a.concat([e]):null,Jo(4,4,Ny.bind(null,s,e),a)}function Uf(){}function Ly(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Rf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Uy(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Rf(s,l[1]))return l[0];if(l=e(),br){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,s],l}function Bf(e,s,a){return a===void 0||(us&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=jv(),Vt.lanes|=e,gs|=e,a)}function By(e,s,a,l){return pn(a,s)?a:_a.current!==null?(e=Bf(e,a,l),pn(e,s)||(Oe=!0),e):(us&42)===0?(Oe=!0,e.memoizedState=a):(e=jv(),Vt.lanes|=e,gs|=e,s)}function zy(e,s,a,l,f){var m=W.p;W.p=m!==0&&8>m?m:8;var T=F.T,A={};F.T=A,kf(e,!1,s,a);try{var D=f(),z=F.S;if(z!==null&&z(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=xb(D,l);Wo(e,s,Y,Tn(e))}else Wo(e,s,l,Tn(e))}catch($){Wo(e,s,{then:function(){},status:"rejected",reason:$},Tn())}finally{W.p=m,F.T=T}}function Pb(){}function zf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=jy(e).queue;zy(e,f,s,lt,a===null?Pb:function(){return ky(e),a(l)})}function jy(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:lt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function ky(e){var s=jy(e).next.queue;Wo(e,s,{},Tn())}function jf(){return Ye(yl)}function qy(){return Ee().memoizedState}function Fy(){return Ee().memoizedState}function Lb(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Tn();e=os(a);var l=ls(s,e,a);l!==null&&(En(l,s,a),Yo(l,s,a)),s={cache:gf()},e.payload=s;return}s=s.return}}function Ub(e,s,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Gy(s,a):(a=af(e,s,a,l),a!==null&&(En(a,e,l),Ky(a,s,l)))}function Hy(e,s,a){var l=Tn();Wo(e,s,a,l)}function Wo(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Gy(s,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,A=m(T,a);if(f.hasEagerState=!0,f.eagerState=A,pn(A,T))return Lu(e,s,f,0),te===null&&Pu(),!1}catch{}finally{}if(a=af(e,s,f,l),a!==null)return En(a,e,l),Ky(a,s,l),!0}return!1}function kf(e,s,a,l){if(l={lane:2,revertLane:_d(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(s)throw Error(r(479))}else s=af(e,a,l,2),s!==null&&En(s,e,2)}function Wu(e){var s=e.alternate;return e===Vt||s!==null&&s===Vt}function Gy(e,s){Ta=Yu=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Ky(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Eo(e,a)}}var tc={readContext:Ye,use:Xu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Yy={readContext:Ye,use:Xu,useCallback:function(e,s){return on().memoizedState=[e,s===void 0?null:s],e},useContext:Ye,useEffect:xy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Ju(4194308,4,Ny.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Ju(4194308,4,e,s)},useInsertionEffect:function(e,s){Ju(4,2,e,s)},useMemo:function(e,s){var a=on();s=s===void 0?null:s;var l=e();if(br){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=on();if(a!==void 0){var f=a(s);if(br){dn(!0);try{a(s)}finally{dn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Ub.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var s=on();return e={current:e},s.memoizedState=e},useState:function(e){e=Pf(e);var s=e.queue,a=Hy.bind(null,Vt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(e,s){var a=on();return Bf(a,e,s)},useTransition:function(){var e=Pf(!1);return e=zy.bind(null,Vt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Vt,f=on();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),te===null)throw Error(r(349));(Ut&124)!==0||my(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,xy(gy.bind(null,l,m,e),[e]),l.flags|=2048,Aa(9,Zu(),py.bind(null,l,m,a,s),null),a},useId:function(){var e=on(),s=te.identifierPrefix;if(Ft){var a=Ni,l=Oi;a=(l&~(1<<32-Ke(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Qu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=Ib++,s="«"+s+"r"+a.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:jf,useFormState:wy,useActionState:wy,useOptimistic:function(e){var s=on();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=kf.bind(null,Vt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Mf,useCacheRefresh:function(){return on().memoizedState=Lb.bind(null,Vt)}},Qy={readContext:Ye,use:Xu,useCallback:Ly,useContext:Ye,useEffect:Iy,useImperativeHandle:Py,useInsertionEffect:My,useLayoutEffect:Oy,useMemo:Uy,useReducer:$u,useRef:Vy,useState:function(){return $u(Ui)},useDebugValue:Uf,useDeferredValue:function(e,s){var a=Ee();return By(a,Xt.memoizedState,e,s)},useTransition:function(){var e=$u(Ui)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:Zo(e),s]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:jf,useFormState:Ry,useActionState:Ry,useOptimistic:function(e,s){var a=Ee();return _y(a,Xt,e,s)},useMemoCache:Mf,useCacheRefresh:Fy},Bb={readContext:Ye,use:Xu,useCallback:Ly,useContext:Ye,useEffect:Iy,useImperativeHandle:Py,useInsertionEffect:My,useLayoutEffect:Oy,useMemo:Uy,useReducer:Nf,useRef:Vy,useState:function(){return Nf(Ui)},useDebugValue:Uf,useDeferredValue:function(e,s){var a=Ee();return Xt===null?Bf(a,e,s):By(a,Xt.memoizedState,e,s)},useTransition:function(){var e=Nf(Ui)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:Zo(e),s]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:jf,useFormState:Dy,useActionState:Dy,useOptimistic:function(e,s){var a=Ee();return Xt!==null?_y(a,Xt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Fy},Sa=null,tl=0;function ec(e){var s=tl;return tl+=1,Sa===null&&(Sa=[]),ry(Sa,e,s)}function el(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function nc(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Xy(e){var s=e._init;return s(e._payload)}function $y(e){function s(L,O){if(e){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Mi(L,O),L.index=0,L.sibling=null,L}function m(L,O,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function T(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,B,Q){return O===null||O.tag!==6?(O=lf(B,L.mode,Q),O.return=L,O):(O=f(O,B),O.return=L,O)}function D(L,O,B,Q){var dt=B.type;return dt===j?Y(L,O,B.props.children,Q,B.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Xy(dt)===O.type)?(O=f(O,B.props),el(O,B),O.return=L,O):(O=Bu(B.type,B.key,B.props,null,L.mode,Q),el(O,B),O.return=L,O)}function z(L,O,B,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=uf(B,L.mode,Q),O.return=L,O):(O=f(O,B.children||[]),O.return=L,O)}function Y(L,O,B,Q,dt){return O===null||O.tag!==7?(O=gr(B,L.mode,Q,dt),O.return=L,O):(O=f(O,B),O.return=L,O)}function $(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=lf(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return B=Bu(O.type,O.key,O.props,null,L.mode,B),el(B,O),B.return=L,B;case V:return O=uf(O,L.mode,B),O.return=L,O;case w:var Q=O._init;return O=Q(O._payload),$(L,O,B)}if(vt(O)||P(O))return O=gr(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return $(L,ec(O),B);if(O.$$typeof===Z)return $(L,qu(L,O),B);nc(L,O)}return null}function k(L,O,B,Q){var dt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return dt!==null?null:A(L,O,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===dt?D(L,O,B,Q):null;case V:return B.key===dt?z(L,O,B,Q):null;case w:return dt=B._init,B=dt(B._payload),k(L,O,B,Q)}if(vt(B)||P(B))return dt!==null?null:Y(L,O,B,Q,null);if(typeof B.then=="function")return k(L,O,ec(B),Q);if(B.$$typeof===Z)return k(L,O,qu(L,B),Q);nc(L,B)}return null}function q(L,O,B,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(B)||null,A(O,L,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return L=L.get(Q.key===null?B:Q.key)||null,D(O,L,Q,dt);case V:return L=L.get(Q.key===null?B:Q.key)||null,z(O,L,Q,dt);case w:var It=Q._init;return Q=It(Q._payload),q(L,O,B,Q,dt)}if(vt(Q)||P(Q))return L=L.get(B)||null,Y(O,L,Q,dt,null);if(typeof Q.then=="function")return q(L,O,B,ec(Q),dt);if(Q.$$typeof===Z)return q(L,O,B,qu(O,Q),dt);nc(O,Q)}return null}function At(L,O,B,Q){for(var dt=null,It=null,pt=O,Et=O=0,Pe=null;pt!==null&&Et<B.length;Et++){pt.index>Et?(Pe=pt,pt=null):Pe=pt.sibling;var qt=k(L,pt,B[Et],Q);if(qt===null){pt===null&&(pt=Pe);break}e&&pt&&qt.alternate===null&&s(L,pt),O=m(qt,O,Et),It===null?dt=qt:It.sibling=qt,It=qt,pt=Pe}if(Et===B.length)return a(L,pt),Ft&&vr(L,Et),dt;if(pt===null){for(;Et<B.length;Et++)pt=$(L,B[Et],Q),pt!==null&&(O=m(pt,O,Et),It===null?dt=pt:It.sibling=pt,It=pt);return Ft&&vr(L,Et),dt}for(pt=l(pt);Et<B.length;Et++)Pe=q(pt,L,Et,B[Et],Q),Pe!==null&&(e&&Pe.alternate!==null&&pt.delete(Pe.key===null?Et:Pe.key),O=m(Pe,O,Et),It===null?dt=Pe:It.sibling=Pe,It=Pe);return e&&pt.forEach(function(ws){return s(L,ws)}),Ft&&vr(L,Et),dt}function _t(L,O,B,Q){if(B==null)throw Error(r(151));for(var dt=null,It=null,pt=O,Et=O=0,Pe=null,qt=B.next();pt!==null&&!qt.done;Et++,qt=B.next()){pt.index>Et?(Pe=pt,pt=null):Pe=pt.sibling;var ws=k(L,pt,qt.value,Q);if(ws===null){pt===null&&(pt=Pe);break}e&&pt&&ws.alternate===null&&s(L,pt),O=m(ws,O,Et),It===null?dt=ws:It.sibling=ws,It=ws,pt=Pe}if(qt.done)return a(L,pt),Ft&&vr(L,Et),dt;if(pt===null){for(;!qt.done;Et++,qt=B.next())qt=$(L,qt.value,Q),qt!==null&&(O=m(qt,O,Et),It===null?dt=qt:It.sibling=qt,It=qt);return Ft&&vr(L,Et),dt}for(pt=l(pt);!qt.done;Et++,qt=B.next())qt=q(pt,L,Et,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&pt.delete(qt.key===null?Et:qt.key),O=m(qt,O,Et),It===null?dt=qt:It.sibling=qt,It=qt);return e&&pt.forEach(function(zw){return s(L,zw)}),Ft&&vr(L,Et),dt}function Zt(L,O,B,Q){if(typeof B=="object"&&B!==null&&B.type===j&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:t:{for(var dt=B.key;O!==null;){if(O.key===dt){if(dt=B.type,dt===j){if(O.tag===7){a(L,O.sibling),Q=f(O,B.props.children),Q.return=L,L=Q;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Xy(dt)===O.type){a(L,O.sibling),Q=f(O,B.props),el(Q,B),Q.return=L,L=Q;break t}a(L,O);break}else s(L,O);O=O.sibling}B.type===j?(Q=gr(B.props.children,L.mode,Q,B.key),Q.return=L,L=Q):(Q=Bu(B.type,B.key,B.props,null,L.mode,Q),el(Q,B),Q.return=L,L=Q)}return T(L);case V:t:{for(dt=B.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),Q=f(O,B.children||[]),Q.return=L,L=Q;break t}else{a(L,O);break}else s(L,O);O=O.sibling}Q=uf(B,L.mode,Q),Q.return=L,L=Q}return T(L);case w:return dt=B._init,B=dt(B._payload),Zt(L,O,B,Q)}if(vt(B))return At(L,O,B,Q);if(P(B)){if(dt=P(B),typeof dt!="function")throw Error(r(150));return B=dt.call(B),_t(L,O,B,Q)}if(typeof B.then=="function")return Zt(L,O,ec(B),Q);if(B.$$typeof===Z)return Zt(L,O,qu(L,B),Q);nc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),Q=f(O,B),Q.return=L,L=Q):(a(L,O),Q=lf(B,L.mode,Q),Q.return=L,L=Q),T(L)):a(L,O)}return function(L,O,B,Q){try{tl=0;var dt=Zt(L,O,B,Q);return Sa=null,dt}catch(pt){if(pt===Go||pt===Hu)throw pt;var It=gn(29,pt,null,L.mode);return It.lanes=Q,It.return=L,It}finally{}}}var ba=$y(!0),Zy=$y(!1),Nn=tt(null),oi=null;function cs(e){var s=e.alternate;it(De,De.current&1),it(Nn,e),oi===null&&(s===null||_a.current!==null||s.memoizedState!==null)&&(oi=e)}function Jy(e){if(e.tag===22){if(it(De,De.current),it(Nn,e),oi===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(oi=e)}}else hs()}function hs(){it(De,De.current),it(Nn,Nn.current)}function Bi(e){ut(Nn),oi===e&&(oi=null),ut(De)}var De=tt(0);function ic(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Id(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function qf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ff={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Tn(),f=os(l);f.payload=s,a!=null&&(f.callback=a),s=ls(e,f,l),s!==null&&(En(s,e,l),Yo(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Tn(),f=os(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ls(e,f,l),s!==null&&(En(s,e,l),Yo(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Tn(),l=os(a);l.tag=2,s!=null&&(l.callback=s),s=ls(e,l,a),s!==null&&(En(s,e,a),Yo(s,e,a))}};function Wy(e,s,a,l,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Uo(a,l)||!Uo(f,m):!0}function tv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Ff.enqueueReplaceState(s,s.state,null)}function wr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ev(e){sc(e)}function nv(e){console.error(e)}function iv(e){sc(e)}function rc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function sv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hf(e,s,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(e,s)},a}function rv(e){return e=os(e),e.tag=3,e}function av(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;e.payload=function(){return f(m)},e.callback=function(){sv(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){sv(s,a,l),typeof f!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function zb(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&qo(s,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return oi===null?md():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_f?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),gd(e,l,f)),!1;case 22:return a.flags|=65536,l===_f?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),gd(e,l,f)),!1}throw Error(r(435,a.tag))}return gd(e,l,f),md(),!1}if(Ft)return s=Nn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==ff&&(e=Error(r(422),{cause:l}),ko(xn(e,a)))):(l!==ff&&(s=Error(r(423),{cause:l}),ko(xn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=xn(l,a),f=Hf(e.stateNode,l,f),Af(e,f),ce!==4&&(ce=2)),!1;var m=Error(r(520),{cause:l});if(m=xn(m,a),ll===null?ll=[m]:ll.push(m),ce!==4&&(ce=2),s===null)return!0;l=xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Hf(a.stateNode,l,e),Af(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ys===null||!ys.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=rv(f),av(f,e,a,l),Af(a,f),!1}a=a.return}while(a!==null);return!1}var ov=Error(r(461)),Oe=!1;function je(e,s,a,l){s.child=e===null?Zy(s,null,a,l):ba(s,e.child,a,l)}function lv(e,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Ar(s),l=Cf(e,s,a,T,m,f),A=Df(),e!==null&&!Oe?(Vf(e,s,f),zi(e,s,f)):(Ft&&A&&cf(s),s.flags|=1,je(e,s,l,f),s.child)}function uv(e,s,a,l,f){if(e===null){var m=a.type;return typeof m=="function"&&!of(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,cv(e,s,m,l,f)):(e=Bu(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Jf(e,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(T,l)&&e.ref===s.ref)return zi(e,s,f)}return s.flags|=1,e=Mi(m,l),e.ref=s.ref,e.return=s,s.child=e}function cv(e,s,a,l,f){if(e!==null){var m=e.memoizedProps;if(Uo(m,l)&&e.ref===s.ref)if(Oe=!1,s.pendingProps=l=m,Jf(e,f))(e.flags&131072)!==0&&(Oe=!0);else return s.lanes=e.lanes,zi(e,s,f)}return Gf(e,s,a,l,f)}function hv(e,s,a){var l=s.pendingProps,f=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,e!==null){for(f=s.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return fv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(s,m!==null?m.cachePool:null),m!==null?cy(s,m):bf(),Jy(s);else return s.lanes=s.childLanes=536870912,fv(e,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Fu(s,m.cachePool),cy(s,m),hs(),s.memoizedState=null):(e!==null&&Fu(s,null),bf(),hs());return je(e,s,f,a),s.child}function fv(e,s,a,l){var f=vf();return f=f===null?null:{parent:Ce._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&Fu(s,null),bf(),Jy(s),e!==null&&qo(e,s,l,!0),null}function ac(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Gf(e,s,a,l,f){return Ar(s),a=Cf(e,s,a,l,void 0,f),l=Df(),e!==null&&!Oe?(Vf(e,s,f),zi(e,s,f)):(Ft&&l&&cf(s),s.flags|=1,je(e,s,a,f),s.child)}function dv(e,s,a,l,f,m){return Ar(s),s.updateQueue=null,a=fy(s,l,a,f),hy(e),l=Df(),e!==null&&!Oe?(Vf(e,s,m),zi(e,s,m)):(Ft&&l&&cf(s),s.flags|=1,je(e,s,a,m),s.child)}function mv(e,s,a,l,f){if(Ar(s),s.stateNode===null){var m=ma,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ye(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ff,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Tf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ye(T):ma,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(qf(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ff.enqueueReplaceState(m,m.state,null),Xo(s,l,m,f),Qo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var A=s.memoizedProps,D=wr(a,A);m.props=D;var z=m.context,Y=a.contextType;T=ma,typeof Y=="object"&&Y!==null&&(T=Ye(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||z!==T)&&tv(s,m,l,T),as=!1;var k=s.memoizedState;m.state=k,Xo(s,l,m,f),Qo(),z=s.memoizedState,A||k!==z||as?(typeof $=="function"&&(qf(s,a,$,l),z=s.memoizedState),(D=as||Wy(s,a,D,l,k,z,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),m.props=l,m.state=z,m.context=T,l=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Ef(e,s),T=s.memoizedProps,Y=wr(a,T),m.props=Y,$=s.pendingProps,k=m.context,z=a.contextType,D=ma,typeof z=="object"&&z!==null&&(D=Ye(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==$||k!==D)&&tv(s,m,l,D),as=!1,k=s.memoizedState,m.state=k,Xo(s,l,m,f),Qo();var q=s.memoizedState;T!==$||k!==q||as||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof A=="function"&&(qf(s,a,A,l),q=s.memoizedState),(Y=as||Wy(s,a,Y,l,k,q,D)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,q,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=q),m.props=l,m.state=q,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,ac(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=ba(s,e.child,null,f),s.child=ba(s,null,a,f)):je(e,s,a,f),s.memoizedState=m.state,e=s.child):e=zi(e,s,f),e}function pv(e,s,a,l){return jo(),s.flags|=256,je(e,s,a,l),s.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(e){return{baseLanes:e,cachePool:ny()}}function Qf(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Pn),e}function gv(e,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ft){if(f?cs(s):hs(),Ft){var A=ue,D;if(D=A){t:{for(D=A,A=ai;D.nodeType!==8;){if(!A){A=null;break t}if(D=Gn(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:yr!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},D=gn(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,rn=s,ue=null,D=!0):D=!1}D||Tr(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Id(A)?s.lanes=32:s.lanes=536870912,null;Bi(s)}return A=l.children,l=l.fallback,f?(hs(),f=s.mode,A=oc({mode:"hidden",children:A},f),l=gr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,f=s.child,f.memoizedState=Yf(a),f.childLanes=Qf(e,T,a),s.memoizedState=Kf,l):(cs(s),Xf(s,A))}if(D=e.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(m)s.flags&256?(cs(s),s.flags&=-257,s=$f(e,s,a)):s.memoizedState!==null?(hs(),s.child=e.child,s.flags|=128,s=null):(hs(),f=l.fallback,A=s.mode,l=oc({mode:"visible",children:l.children},A),f=gr(f,A,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,ba(s,e.child,null,a),l=s.child,l.memoizedState=Yf(a),l.childLanes=Qf(e,T,a),s.memoizedState=Kf,s=f);else if(cs(s),Id(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(r(419)),l.stack="",l.digest=T,ko({value:l,source:null,stack:null}),s=$f(e,s,a)}else if(Oe||qo(e,s,a,!1),T=(a&e.childLanes)!==0,Oe||T){if(T=te,T!==null&&(l=a&-a,l=(l&42)!==0?1:Ji(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,da(e,l),En(T,e,l),ov;A.data==="$?"||md(),s=$f(e,s,a)}else A.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=D.treeContext,ue=Gn(A.nextSibling),rn=s,Ft=!0,_r=null,ai=!1,e!==null&&(Mn[On++]=Oi,Mn[On++]=Ni,Mn[On++]=yr,Oi=e.id,Ni=e.overflow,yr=s),s=Xf(s,l.children),s.flags|=4096);return s}return f?(hs(),f=l.fallback,A=s.mode,D=e.child,z=D.sibling,l=Mi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?f=Mi(z,f):(f=gr(f,A,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,A=e.child.memoizedState,A===null?A=Yf(a):(D=A.cachePool,D!==null?(z=Ce._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=ny(),A={baseLanes:A.baseLanes|a,cachePool:D}),f.memoizedState=A,f.childLanes=Qf(e,T,a),s.memoizedState=Kf,l):(cs(s),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function Xf(e,s){return s=oc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function oc(e,s){return e=gn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $f(e,s,a){return ba(s,e.child,null,a),e=Xf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function yv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),mf(e.return,s,a)}function Zf(e,s,a,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function vv(e,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(je(e,s,l.children,a),l=De.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yv(e,a,s);else if(e.tag===19)yv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(De,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&ic(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Zf(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&ic(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Zf(s,!0,a,null,m);break;case"together":Zf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),gs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(qo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Mi(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Jf(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function jb(e,s,a){switch(s.tag){case 3:Wt(s,s.stateNode.containerInfo),rs(s,Ce,e.memoizedState.cache),jo();break;case 27:case 5:Zi(s);break;case 4:Wt(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(cs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?gv(e,s,a):(cs(s),e=zi(e,s,a),e!==null?e.sibling:null);cs(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(qo(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return vv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(De,De.current),l)break;return null;case 22:case 23:return s.lanes=0,hv(e,s,a);case 24:rs(s,Ce,e.memoizedState.cache)}return zi(e,s,a)}function _v(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Oe=!0;else{if(!Jf(e,a)&&(s.flags&128)===0)return Oe=!1,jb(e,s,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ft&&(s.flags&1048576)!==0&&Xg(s,ju,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")of(l)?(e=wr(l,e),s.tag=1,s=mv(null,s,l,e,a)):(s.tag=0,s=Gf(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===ot){s.tag=11,s=lv(null,s,l,e,a);break t}else if(f===I){s.tag=14,s=uv(null,s,l,e,a);break t}}throw s=bt(l)||l,Error(r(306,s,""))}}return s;case 0:return Gf(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=wr(l,s.pendingProps),mv(e,s,l,f,a);case 3:t:{if(Wt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Ef(e,s),Xo(s,l,null,a);var T=s.memoizedState;if(l=T.cache,rs(s,Ce,l),l!==m.cache&&pf(s,[Ce],a,!0),Qo(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=pv(e,s,l,a);break t}else if(l!==f){f=xn(Error(r(424)),s),ko(f),s=pv(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Gn(e.firstChild),rn=s,Ft=!0,_r=null,ai=!0,a=Zy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jo(),l===f){s=zi(e,s,a);break t}je(e,s,l,a)}s=s.child}return s;case 26:return ac(e,s),e===null?(a=S0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ft||(a=s.type,e=s.pendingProps,l=Ec(wt.current).createElement(a),l[be]=s,l[ve]=e,qe(l,a,e),fe(l),s.stateNode=l):s.memoizedState=S0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Zi(s),e===null&&Ft&&(l=s.stateNode=T0(s.type,s.pendingProps,wt.current),rn=s,ai=!0,f=ue,Ts(s.type)?(Md=f,ue=Gn(l.firstChild)):ue=f),je(e,s,s.pendingProps.children,a),ac(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ft&&((f=l=ue)&&(l=mw(l,s.type,s.pendingProps,ai),l!==null?(s.stateNode=l,rn=s,ue=Gn(l.firstChild),ai=!1,f=!0):f=!1),f||Tr(s)),Zi(s),f=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,Dd(f,m)?l=null:T!==null&&Dd(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Cf(e,s,Mb,null,null,a),yl._currentValue=f),ac(e,s),je(e,s,l,a),s.child;case 6:return e===null&&Ft&&((e=a=ue)&&(a=pw(a,s.pendingProps,ai),a!==null?(s.stateNode=a,rn=s,ue=null,e=!0):e=!1),e||Tr(s)),null;case 13:return gv(e,s,a);case 4:return Wt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=ba(s,null,l,a):je(e,s,l,a),s.child;case 11:return lv(e,s,s.type,s.pendingProps,a);case 7:return je(e,s,s.pendingProps,a),s.child;case 8:return je(e,s,s.pendingProps.children,a),s.child;case 12:return je(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,rs(s,s.type,l.value),je(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ar(s),f=Ye(f),l=l(f),s.flags|=1,je(e,s,l,a),s.child;case 14:return uv(e,s,s.type,s.pendingProps,a);case 15:return cv(e,s,s.type,s.pendingProps,a);case 19:return vv(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=oc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Mi(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return hv(e,s,a);case 24:return Ar(s),l=Ye(Ce),e===null?(f=vf(),f===null&&(f=te,m=gf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Tf(s),rs(s,Ce,f)):((e.lanes&a)!==0&&(Ef(e,s),Xo(s,null,null,a),Qo()),f=e.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rs(s,Ce,l)):(l=m.cache,rs(s,Ce,l),l!==f.cache&&pf(s,[Ce],a,!0))),je(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ji(e){e.flags|=4}function Tv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D0(s)){if(s=Nn.current,s!==null&&((Ut&4194048)===Ut?oi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||s!==oi))throw Ko=_f,iy;e.flags|=8192}}function lc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?_o():536870912,e.lanes|=s,Da|=s)}function nl(e,s){if(!Ft)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function kb(e,s,a){var l=s.pendingProps;switch(hf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Li(Ce),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zo(s)?ji(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jg())),se(s),null;case 26:return a=s.memoizedState,e===null?(ji(s),a!==null?(se(s),Tv(s,a)):(se(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ji(s),se(s),Tv(s,a)):(se(s),s.flags&=-16777217):(e.memoizedProps!==l&&ji(s),se(s),s.flags&=-16777217),null;case 27:_i(s),a=wt.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}e=yt.current,zo(s)?$g(s):(e=T0(f,l,a),s.stateNode=e,ji(s))}return se(s),null;case 5:if(_i(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(e=yt.current,zo(s))$g(s);else{switch(f=Ec(wt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[be]=s,e[ve]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(s)}}return se(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=wt.current,zo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||d0(e.nodeValue,a)),e||Tr(s)}else e=Ec(e).createTextNode(l),e[be]=s,s.stateNode=e}return se(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=Jg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Bi(s),s):(Bi(s),null)}if(Bi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),lc(s,s.updateQueue),se(s),null;case 4:return Qn(),e===null&&Sd(s.stateNode.containerInfo),se(s),null;case 10:return Li(s.type),se(s),null;case 19:if(ut(De),f=s.memoizedState,f===null)return se(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)nl(f,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=ic(e),m!==null){for(s.flags|=128,nl(f,!1),e=m.updateQueue,s.updateQueue=e,lc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Qg(a,e),a=a.sibling;return it(De,De.current&1|2),s.child}e=e.sibling}f.tail!==null&&bn()>hc&&(s.flags|=128,l=!0,nl(f,!1),s.lanes=4194304)}else{if(!l)if(e=ic(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,lc(s,e),nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ft)return se(s),null}else 2*bn()-f.renderingStartTime>hc&&a!==536870912&&(s.flags|=128,l=!0,nl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(e=f.last,e!==null?e.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=bn(),s.sibling=null,e=De.current,it(De,l?e&1|2:e&1),s):(se(s),null);case 22:case 23:return Bi(s),wf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&lc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&ut(Sr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Li(Ce),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qb(e,s){switch(hf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Li(Ce),Qn(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return _i(s),null;case 13:if(Bi(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));jo()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return ut(De),null;case 4:return Qn(),null;case 10:return Li(s.type),null;case 22:case 23:return Bi(s),wf(),e!==null&&ut(Sr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Li(Ce),null;case 25:return null;default:return null}}function Ev(e,s){switch(hf(s),s.tag){case 3:Li(Ce),Qn();break;case 26:case 27:case 5:_i(s);break;case 4:Qn();break;case 13:Bi(s);break;case 19:ut(De);break;case 10:Li(s.type);break;case 22:case 23:Bi(s),wf(),e!==null&&ut(Sr);break;case 24:Li(Ce)}}function il(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(A){Jt(s,s.return,A)}}function fs(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&e)===e){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var D=a,z=A;try{z()}catch(Y){Jt(f,D,Y)}}}l=l.next}while(l!==m)}}catch(Y){Jt(s,s.return,Y)}}function Av(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{uy(s,a)}catch(l){Jt(e,e.return,l)}}}function Sv(e,s,a){a.props=wr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,s,l)}}function sl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Jt(e,s,f)}}function li(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Jt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(e,s,f)}else a.current=null}function bv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Jt(e,e.return,f)}}function Wf(e,s,a){try{var l=e.stateNode;uw(l,e.type,a,s),l[ve]=s}catch(f){Jt(e,e.return,f)}}function wv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ts(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Tc));else if(l!==4&&(l===27&&Ts(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(ed(e,s,a),e=e.sibling;e!==null;)ed(e,s,a),e=e.sibling}function uc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Ts(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,s,a),e=e.sibling;e!==null;)uc(e,s,a),e=e.sibling}function Rv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);qe(s,l,a),s[be]=e,s[ve]=a}catch(m){Jt(e,e.return,m)}}var ki=!1,me=!1,nd=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Fb(e,s){if(e=e.containerInfo,Rd=Cc,e=Bg(e),Wh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,D=-1,z=0,Y=0,$=e,k=null;e:for(;;){for(var q;$!==a||f!==0&&$.nodeType!==3||(A=T+f),$!==m||l!==0&&$.nodeType!==3||(D=T+l),$.nodeType===3&&(T+=$.nodeValue.length),(q=$.firstChild)!==null;)k=$,$=q;for(;;){if($===e)break e;if(k===a&&++z===f&&(A=T),k===m&&++Y===l&&(D=T),(q=$.nextSibling)!==null)break;$=k,k=$.parentNode}$=q}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:e,selectionRange:a},Cc=!1,Ne=s;Ne!==null;)if(s=Ne,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Ne=e;else for(;Ne!==null;){switch(s=Ne,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var At=wr(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Jt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Ne=e;break}Ne=s.return}}function Dv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ds(e,a),l&4&&il(5,a);break;case 1:if(ds(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){Jt(a,a.return,T)}else{var f=wr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(a,a.return,T)}}l&64&&Av(a),l&512&&sl(a,a.return);break;case 3:if(ds(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{uy(e,s)}catch(T){Jt(a,a.return,T)}}break;case 27:s===null&&l&4&&Rv(a);case 26:case 5:ds(e,a),s===null&&l&4&&bv(a),l&512&&sl(a,a.return);break;case 12:ds(e,a);break;case 13:ds(e,a),l&4&&Iv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jb.bind(null,a),gw(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){s=s!==null&&s.memoizedState!==null||me,f=ki;var m=me;ki=l,(me=s)&&!m?ms(e,a,(a.subtreeFlags&8772)!==0):ds(e,a),ki=f,me=m}break;case 30:break;default:ds(e,a)}}function Vv(e){var s=e.alternate;s!==null&&(e.alternate=null,Vv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&es(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,ln=!1;function qi(e,s,a){for(a=a.child;a!==null;)xv(e,s,a),a=a.sibling}function xv(e,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:me||li(a,s),qi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||li(a,s);var l=ie,f=ln;Ts(a.type)&&(ie=a.stateNode,ln=!1),qi(e,s,a),dl(a.stateNode),ie=l,ln=f;break;case 5:me||li(a,s);case 6:if(l=ie,f=ln,ie=null,qi(e,s,a),ie=l,ln=f,ie!==null)if(ln)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(m){Jt(a,s,m)}else try{ie.removeChild(a.stateNode)}catch(m){Jt(a,s,m)}break;case 18:ie!==null&&(ln?(e=ie,v0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),El(e)):v0(ie,a.stateNode));break;case 4:l=ie,f=ln,ie=a.stateNode.containerInfo,ln=!0,qi(e,s,a),ie=l,ln=f;break;case 0:case 11:case 14:case 15:me||fs(2,a,s),me||fs(4,a,s),qi(e,s,a);break;case 1:me||(li(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sv(a,s,l)),qi(e,s,a);break;case 21:qi(e,s,a);break;case 22:me=(l=me)||a.memoizedState!==null,qi(e,s,a),me=l;break;default:qi(e,s,a)}}function Iv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(a){Jt(s,s.return,a)}}function Hb(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Cv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Cv),s;default:throw Error(r(435,e.tag))}}function id(e,s){var a=Hb(e);s.forEach(function(l){var f=Wb.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=e,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Ts(A.type)){ie=A.stateNode,ln=!1;break t}break;case 5:ie=A.stateNode,ln=!1;break t;case 3:case 4:ie=A.stateNode.containerInfo,ln=!0;break t}A=A.return}if(ie===null)throw Error(r(160));xv(m,T,f),ie=null,ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Mv(s,e),s=s.sibling}var Hn=null;function Mv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(s,e),vn(e),l&4&&(fs(3,e,e.return),il(3,e),fs(5,e,e.return));break;case 1:yn(s,e),vn(e),l&512&&(me||a===null||li(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Hn;if(yn(s,e),vn(e),l&512&&(me||a===null||li(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[tr]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),qe(m,l,a),m[be]=e,fe(m),l=m;break t;case"link":var T=R0("link","href",f).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(l),qe(m,l,a),f.head.appendChild(m);break;case"meta":if(T=R0("meta","content",f).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=f.createElement(l),qe(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[be]=e,fe(m),l=m}e.stateNode=l}else C0(f,e.type,e.stateNode);else e.stateNode=w0(f,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?C0(f,e.type,e.stateNode):w0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(s,e),vn(e),l&512&&(me||a===null||li(a,a.return)),a!==null&&l&4&&Wf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,e),vn(e),l&512&&(me||a===null||li(a,a.return)),e.flags&32){f=e.stateNode;try{Rn(f,"")}catch(q){Jt(e,e.return,q)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Wf(e,f,a!==null?a.memoizedProps:f)),l&1024&&(nd=!0);break;case 6:if(yn(s,e),vn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){Jt(e,e.return,q)}}break;case 3:if(bc=null,f=Hn,Hn=Ac(s.containerInfo),yn(s,e),Hn=f,vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{El(s.containerInfo)}catch(q){Jt(e,e.return,q)}nd&&(nd=!1,Ov(e));break;case 4:l=Hn,Hn=Ac(e.stateNode.containerInfo),yn(s,e),vn(e),Hn=l;break;case 12:yn(s,e),vn(e);break;case 13:yn(s,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ud=bn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,id(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=ki,Y=me;if(ki=z||f,me=Y||D,yn(s,e),me=Y,ki=z,vn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ki||me||Rr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var $=D.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(q){Jt(D,D.return,q)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(q){Jt(D,D.return,q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(e,a))));break;case 19:yn(s,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,id(e,l)));break;case 30:break;case 21:break;default:yn(s,e),vn(e)}}function vn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(wv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=td(e);uc(e,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(Rn(T,""),a.flags&=-33);var A=td(e);uc(e,A,T);break;case 3:case 4:var D=a.stateNode.containerInfo,z=td(e);ed(e,z,D);break;default:throw Error(r(161))}}catch(Y){Jt(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Ov(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Ov(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ds(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Dv(e,s.alternate,s),s=s.sibling}function Rr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:fs(4,s,s.return),Rr(s);break;case 1:li(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Sv(s,s.return,a),Rr(s);break;case 27:dl(s.stateNode);case 26:case 5:li(s,s.return),Rr(s);break;case 22:s.memoizedState===null&&Rr(s);break;case 30:Rr(s);break;default:Rr(s)}e=e.sibling}}function ms(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:ms(f,m,a),il(4,m);break;case 1:if(ms(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Jt(l,l.return,z)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ly(D[f],A)}catch(z){Jt(l,l.return,z)}}a&&T&64&&Av(m),sl(m,m.return);break;case 27:Rv(m);case 26:case 5:ms(f,m,a),a&&l===null&&T&4&&bv(m),sl(m,m.return);break;case 12:ms(f,m,a);break;case 13:ms(f,m,a),a&&T&4&&Iv(f,m);break;case 22:m.memoizedState===null&&ms(f,m,a),sl(m,m.return);break;case 30:break;default:ms(f,m,a)}s=s.sibling}}function sd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function rd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Fo(e))}function ui(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nv(e,s,a,l),s=s.sibling}function Nv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ui(e,s,a,l),f&2048&&il(9,s);break;case 1:ui(e,s,a,l);break;case 3:ui(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Fo(e)));break;case 12:if(f&2048){ui(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Jt(s,s.return,D)}}else ui(e,s,a,l);break;case 13:ui(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?ui(e,s,a,l):rl(e,s):m._visibility&2?ui(e,s,a,l):(m._visibility|=2,wa(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&sd(T,s);break;case 24:ui(e,s,a,l),f&2048&&rd(s.alternate,s);break;default:ui(e,s,a,l)}}function wa(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,A=a,D=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:wa(m,T,A,D,f),il(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?wa(m,T,A,D,f):rl(m,T):(Y._visibility|=2,wa(m,T,A,D,f)),f&&z&2048&&sd(T.alternate,T);break;case 24:wa(m,T,A,D,f),f&&z&2048&&rd(T.alternate,T);break;default:wa(m,T,A,D,f)}s=s.sibling}}function rl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:rl(a,l),f&2048&&sd(l.alternate,l);break;case 24:rl(a,l),f&2048&&rd(l.alternate,l);break;default:rl(a,l)}s=s.sibling}}var al=8192;function Ra(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Pv(e),e=e.sibling}function Pv(e){switch(e.tag){case 26:Ra(e),e.flags&al&&e.memoizedState!==null&&Vw(Hn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e);break;case 3:case 4:var s=Hn;Hn=Ac(e.stateNode.containerInfo),Ra(e),Hn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=al,al=16777216,Ra(e),al=s):Ra(e));break;default:Ra(e)}}function Lv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function ol(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ne=l,Bv(l,e)}Lv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uv(e),e=e.sibling}function Uv(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&fs(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,cc(e)):ol(e);break;default:ol(e)}}function cc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ne=l,Bv(l,e)}Lv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:fs(8,s,s.return),cc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,cc(s));break;default:cc(s)}e=e.sibling}}function Bv(e,s){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:fs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var f=l.sibling,m=l.return;if(Vv(l),l===a){Ne=null;break t}if(f!==null){f.return=m,Ne=f;break t}Ne=m}}}var Gb={getCacheForType:function(e){var s=Ye(Ce),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},Kb=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Ot=null,Ut=0,Yt=0,_n=null,ps=!1,Ca=!1,ad=!1,Fi=0,ce=0,gs=0,Cr=0,od=0,Pn=0,Da=0,ll=null,un=null,ld=!1,ud=0,hc=1/0,fc=null,ys=null,ke=0,vs=null,Va=null,xa=0,cd=0,hd=null,zv=null,ul=0,fd=null;function Tn(){if((Kt&2)!==0&&Ut!==0)return Ut&-Ut;if(F.T!==null){var e=ya;return e!==0?e:_d()}return Wi()}function jv(){Pn===0&&(Pn=(Ut&536870912)===0||Ft?vo():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),Pn}function En(e,s,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),_s(e,Ut,Pn,!1)),Ei(e,a),((Kt&2)===0||e!==te)&&(e===te&&((Kt&2)===0&&(Cr|=a),ce===4&&_s(e,Ut,Pn,!1)),ci(e))}function kv(e,s,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||Ws(e,s),f=l?Xb(e,s):pd(e,s,!0),m=l;do{if(f===0){Ca&&!l&&_s(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!Yb(a)){f=pd(e,s,!1),m=!1;continue}if(f===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=e;f=ll;var D=A.current.memoizedState.isDehydrated;if(D&&(Ia(A,T).flags|=256),T=pd(A,T,!1),T!==2){if(ad&&!D){A.errorRecoveryDisabledLanes|=m,Cr|=m,f=4;break t}m=un,un=f,m!==null&&(un===null?un=m:un.push.apply(un,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ia(e,0),_s(e,s,0,!0);break}t:{switch(l=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:_s(l,s,Pn,!ps);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=ud+300-bn(),10<f)){if(_s(l,s,Pn,!ps),Qr(l,0,!0)!==0)break t;l.timeoutHandle=g0(qv.bind(null,l,a,un,fc,ld,s,Pn,Cr,Da,ps,m,2,-0,0),f);break t}qv(l,a,un,fc,ld,s,Pn,Cr,Da,ps,m,0,-0,0)}}break}while(!0);ci(e)}function qv(e,s,a,l,f,m,T,A,D,z,Y,$,k,q){if(e.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:Dw},Pv(s),$=xw(),$!==null)){e.cancelPendingCommit=$(Xv.bind(null,e,s,m,a,l,f,T,A,D,Y,1,k,q)),_s(e,m,T,!z);return}Xv(e,s,m,a,l,f,T,A,D)}function Yb(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!pn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _s(e,s,a,l){s&=~od,s&=~Cr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var m=31-Ke(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&Xn(e,a,s)}function dc(){return(Kt&6)===0?(cl(0),!1):!0}function dd(){if(Ot!==null){if(Yt===0)var e=Ot.return;else e=Ot,Pi=Er=null,xf(e),Sa=null,tl=0,e=Ot;for(;e!==null;)Ev(e.alternate,e),e=e.return;Ot=null}}function Ia(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dd(),te=e,Ot=a=Mi(e.current,null),Ut=s,Yt=0,_n=null,ps=!1,Ca=Ws(e,s),ad=!1,Da=Pn=od=Cr=gs=ce=0,un=ll=null,ld=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Ke(l),m=1<<f;s|=e[f],l&=~m}return Fi=s,Pu(),a}function Fv(e,s){Vt=null,F.H=tc,s===Go||s===Hu?(s=ay(),Yt=3):s===iy?(s=ay(),Yt=4):Yt=s===ov?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,_n=s,Ot===null&&(ce=1,rc(e,xn(s,e.current)))}function Hv(){var e=F.H;return F.H=tc,e===null?tc:e}function Gv(){var e=F.A;return F.A=Gb,e}function md(){ce=4,ps||(Ut&4194048)!==Ut&&Nn.current!==null||(Ca=!0),(gs&134217727)===0&&(Cr&134217727)===0||te===null||_s(te,Ut,Pn,!1)}function pd(e,s,a){var l=Kt;Kt|=2;var f=Hv(),m=Gv();(te!==e||Ut!==s)&&(fc=null,Ia(e,s)),s=!1;var T=ce;t:do try{if(Yt!==0&&Ot!==null){var A=Ot,D=_n;switch(Yt){case 8:dd(),T=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(s=!0);var z=Yt;if(Yt=0,_n=null,Ma(e,A,D,z),a&&Ca){T=0;break t}break;default:z=Yt,Yt=0,_n=null,Ma(e,A,D,z)}}Qb(),T=ce;break}catch(Y){Fv(e,Y)}while(!0);return s&&e.shellSuspendCounter++,Pi=Er=null,Kt=l,F.H=f,F.A=m,Ot===null&&(te=null,Ut=0,Pu()),T}function Qb(){for(;Ot!==null;)Kv(Ot)}function Xb(e,s){var a=Kt;Kt|=2;var l=Hv(),f=Gv();te!==e||Ut!==s?(fc=null,hc=bn()+500,Ia(e,s)):Ca=Ws(e,s);t:do try{if(Yt!==0&&Ot!==null){s=Ot;var m=_n;e:switch(Yt){case 1:Yt=0,_n=null,Ma(e,s,m,1);break;case 2:case 9:if(sy(m)){Yt=0,_n=null,Yv(s);break}s=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),ci(e)},m.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:sy(m)?(Yt=0,_n=null,Yv(s)):(Yt=0,_n=null,Ma(e,s,m,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var A=Ot;if(!T||D0(T)){Yt=0,_n=null;var D=A.sibling;if(D!==null)Ot=D;else{var z=A.return;z!==null?(Ot=z,mc(z)):Ot=null}break e}}Yt=0,_n=null,Ma(e,s,m,5);break;case 6:Yt=0,_n=null,Ma(e,s,m,6);break;case 8:dd(),ce=6;break t;default:throw Error(r(462))}}$b();break}catch(Y){Fv(e,Y)}while(!0);return Pi=Er=null,F.H=l,F.A=f,Kt=a,Ot!==null?0:(te=null,Ut=0,Pu(),ce)}function $b(){for(;Ot!==null&&!mo();)Kv(Ot)}function Kv(e){var s=_v(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,s===null?mc(e):Ot=s}function Yv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=dv(a,s,s.pendingProps,s.type,void 0,Ut);break;case 11:s=dv(a,s,s.pendingProps,s.type.render,s.ref,Ut);break;case 5:xf(s);default:Ev(a,s),s=Ot=Qg(s,Fi),s=_v(a,s,Fi)}e.memoizedProps=e.pendingProps,s===null?mc(e):Ot=s}function Ma(e,s,a,l){Pi=Er=null,xf(s),Sa=null,tl=0;var f=s.return;try{if(zb(e,f,s,a,Ut)){ce=1,rc(e,xn(a,e.current)),Ot=null;return}}catch(m){if(f!==null)throw Ot=f,m;ce=1,rc(e,xn(a,e.current)),Ot=null;return}s.flags&32768?(Ft||l===1?e=!0:Ca||(Ut&536870912)!==0?e=!1:(ps=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qv(s,e)):mc(s)}function mc(e){var s=e;do{if((s.flags&32768)!==0){Qv(s,ps);return}e=s.return;var a=kb(s.alternate,s,Fi);if(a!==null){Ot=a;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=e}while(s!==null);ce===0&&(ce=5)}function Qv(e,s){do{var a=qb(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);ce=6,Ot=null}function Xv(e,s,a,l,f,m,T,A,D){e.cancelPendingCommit=null;do pc();while(ke!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=rf,To(e,a,m,T,A,D),e===te&&(Ot=te=null,Ut=0),Va=s,vs=e,xa=a,cd=m,hd=f,zv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tw(Xs,function(){return t0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=W.p,W.p=2,T=Kt,Kt|=4;try{Fb(e,s,a)}finally{Kt=T,W.p=f,F.T=l}}ke=1,$v(),Zv(),Jv()}}function $v(){if(ke===1){ke=0;var e=vs,s=Va,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=W.p;W.p=2;var f=Kt;Kt|=4;try{Mv(s,e);var m=Cd,T=Bg(e.containerInfo),A=m.focusedElem,D=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&Ug(A.ownerDocument.documentElement,A)){if(D!==null&&Wh(A)){var z=D.start,Y=D.end;if(Y===void 0&&(Y=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Y,A.value.length);else{var $=A.ownerDocument||document,k=$&&$.defaultView||window;if(k.getSelection){var q=k.getSelection(),At=A.textContent.length,_t=Math.min(D.start,At),Zt=D.end===void 0?_t:Math.min(D.end,At);!q.extend&&_t>Zt&&(T=Zt,Zt=_t,_t=T);var L=Lg(A,_t),O=Lg(A,Zt);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var B=$.createRange();B.setStart(L.node,L.offset),q.removeAllRanges(),_t>Zt?(q.addRange(B),q.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),q.addRange(B))}}}}for($=[],q=A;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var Q=$[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!Rd,Cd=Rd=null}finally{Kt=f,W.p=l,F.T=a}}e.current=s,ke=2}}function Zv(){if(ke===2){ke=0;var e=vs,s=Va,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=W.p;W.p=2;var f=Kt;Kt|=4;try{Dv(e,s.alternate,s)}finally{Kt=f,W.p=l,F.T=a}}ke=3}}function Jv(){if(ke===4||ke===3){ke=0,cu();var e=vs,s=Va,a=xa,l=zv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ke=5:(ke=0,Va=vs=null,Wv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ys=null),Xr(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,f=W.p,W.p=2,F.T=null;try{for(var m=e.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{F.T=s,W.p=f}}(xa&3)!==0&&pc(),ci(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===fd?ul++:(ul=0,fd=e):ul=0,cl(0)}}function Wv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Fo(s)))}function pc(e){return $v(),Zv(),Jv(),t0()}function t0(){if(ke!==5)return!1;var e=vs,s=cd;cd=0;var a=Xr(xa),l=F.T,f=W.p;try{W.p=32>a?32:a,F.T=null,a=hd,hd=null;var m=vs,T=xa;if(ke=0,Va=vs=null,xa=0,(Kt&6)!==0)throw Error(r(331));var A=Kt;if(Kt|=4,Uv(m.current),Nv(m,m.current,T,a),Kt=A,cl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,m)}catch{}return!0}finally{W.p=f,F.T=l,Wv(e,s)}}function e0(e,s,a){s=xn(a,s),s=Hf(e.stateNode,s,2),e=ls(e,s,2),e!==null&&(Ei(e,2),ci(e))}function Jt(e,s,a){if(e.tag===3)e0(e,e,a);else for(;s!==null;){if(s.tag===3){e0(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){e=xn(a,e),a=rv(2),l=ls(s,a,2),l!==null&&(av(a,l,s,e),Ei(l,2),ci(l));break}}s=s.return}}function gd(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Kb;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(ad=!0,f.add(a),e=Zb.bind(null,e,s,a),s.then(e,e))}function Zb(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ut&a)===a&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>bn()-ud?(Kt&2)===0&&Ia(e,0):od|=a,Da===Ut&&(Da=0)),ci(e)}function n0(e,s){s===0&&(s=_o()),e=da(e,s),e!==null&&(Ei(e,s),ci(e))}function Jb(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),n0(e,a)}function Wb(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),n0(e,a)}function tw(e,s){return Ys(e,s)}var gc=null,Oa=null,yd=!1,yc=!1,vd=!1,Dr=0;function ci(e){e!==Oa&&e.next===null&&(Oa===null?gc=Oa=e:Oa=Oa.next=e),yc=!0,yd||(yd=!0,nw())}function cl(e,s){if(!vd&&yc){vd=!0;do for(var a=!1,l=gc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-Ke(42|e)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,a0(l,m))}else m=Ut,m=Qr(l,l===te?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ws(l,m)||(a=!0,a0(l,m));l=l.next}while(a);vd=!1}}function ew(){i0()}function i0(){yc=yd=!1;var e=0;Dr!==0&&(cw()&&(e=Dr),Dr=0);for(var s=bn(),a=null,l=gc;l!==null;){var f=l.next,m=s0(l,s);m===0?(l.next=null,a===null?gc=f:a.next=f,f===null&&(Oa=a)):(a=l,(e!==0||(m&3)!==0)&&(yc=!0)),l=f}cl(e)}function s0(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Ke(m),A=1<<T,D=f[T];D===-1?((A&a)===0||(A&l)!==0)&&(f[T]=yo(A,s)):D<=s&&(e.expiredLanes|=A),m&=~A}if(s=te,a=Ut,a=Qr(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ws(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Qs(l),Xr(a)){case 2:case 8:a=Kr;break;case 32:a=Xs;break;case 268435456:a=Yr;break;default:a=Xs}return l=r0.bind(null,e),a=Ys(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Qs(l),e.callbackPriority=2,e.callbackNode=null,2}function r0(e,s){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pc()&&e.callbackNode!==a)return null;var l=Ut;return l=Qr(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(kv(e,l,s),s0(e,bn()),e.callbackNode!=null&&e.callbackNode===a?r0.bind(null,e):null)}function a0(e,s){if(pc())return null;kv(e,s,!0)}function nw(){fw(function(){(Kt&6)!==0?Ys(po,ew):i0()})}function _d(){return Dr===0&&(Dr=vo()),Dr}function o0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function l0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function iw(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=o0((f[ve]||null).action),T=l.submitter;T&&(s=(s=T[ve]||null)?o0(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var A=new na("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dr!==0){var D=T?l0(f,T):new FormData(f);zf(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?l0(f,T):new FormData(f),zf(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Td=0;Td<sf.length;Td++){var Ed=sf[Td],sw=Ed.toLowerCase(),rw=Ed[0].toUpperCase()+Ed.slice(1);Fn(sw,"on"+rw)}Fn(kg,"onAnimationEnd"),Fn(qg,"onAnimationIteration"),Fn(Fg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Ab,"onTransitionRun"),Fn(Sb,"onTransitionStart"),Fn(bb,"onTransitionCancel"),Fn(Hg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function u0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var A=l[T],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=z;try{m(f)}catch(Y){sc(Y)}f.currentTarget=null,m=D}else for(T=0;T<l.length;T++){if(A=l[T],D=A.instance,z=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=z;try{m(f)}catch(Y){sc(Y)}f.currentTarget=null,m=D}}}}function Nt(e,s){var a=s[Ao];a===void 0&&(a=s[Ao]=new Set);var l=e+"__bubble";a.has(l)||(c0(s,e,2,!1),a.add(l))}function Ad(e,s,a){var l=0;s&&(l|=4),c0(a,e,l,s)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[vc]){e[vc]=!0,So.forEach(function(a){a!=="selectionchange"&&(aw.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[vc]||(s[vc]=!0,Ad("selectionchange",!1,s))}}function c0(e,s,a,l){switch(N0(s)){case 2:var f=Ow;break;case 8:f=Nw;break;default:f=Ud}a=f.bind(null,s,a,e),f=void 0,!Dn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function bd(e,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Ai(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=m=T;continue t}A=A.parentNode}}l=l.return}Tu(function(){var z=m,Y=Cn(a),$=[];t:{var k=Gg.get(e);if(k!==void 0){var q=na,At=e;switch(e){case"keypress":if(ei(a)===0)break t;case"keydown":case"keyup":q=la;break;case"focusin":At="focus",q=ra;break;case"focusout":At="blur",q=ra;break;case"beforeblur":case"afterblur":q=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Du;break;case kg:case qg:case Fg:q=aa;break;case Hg:q=xu;break;case"scroll":case"scrollend":q=Eu;break;case"wheel":q=ua;break;case"copy":case"cut":case"paste":q=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Po;break;case"toggle":case"beforetoggle":q=Mu}var _t=(s&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),L=_t?k!==null?k+"Capture":null:k;_t=[];for(var O=z,B;O!==null;){var Q=O;if(B=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||B===null||L===null||(Q=or(O,L),Q!=null&&_t.push(fl(O,Q,B))),Zt)break;O=O.return}0<_t.length&&(k=new q(k,At,null,a,Y),$.push({event:k,listeners:_t}))}}if((s&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",k&&a!==Ri&&(At=a.relatedTarget||a.fromElement)&&(Ai(At)||At[wn]))break t;if((q||k)&&(k=Y.window===Y?Y:(k=Y.ownerDocument)?k.defaultView||k.parentWindow:window,q?(At=a.relatedTarget||a.toElement,q=z,At=At?Ai(At):null,At!==null&&(Zt=u(At),_t=At.tag,At!==Zt||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(q=null,At=z),q!==At)){if(_t=Vn,Q="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Po,Q="onPointerLeave",L="onPointerEnter",O="pointer"),Zt=q==null?k:Zn(q),B=At==null?k:Zn(At),k=new _t(Q,O+"leave",q,a,Y),k.target=Zt,k.relatedTarget=B,Q=null,Ai(Y)===z&&(_t=new _t(L,O+"enter",At,a,Y),_t.target=B,_t.relatedTarget=Zt,Q=_t),Zt=Q,q&&At)e:{for(_t=q,L=At,O=0,B=_t;B;B=Na(B))O++;for(B=0,Q=L;Q;Q=Na(Q))B++;for(;0<O-B;)_t=Na(_t),O--;for(;0<B-O;)L=Na(L),B--;for(;O--;){if(_t===L||L!==null&&_t===L.alternate)break e;_t=Na(_t),L=Na(L)}_t=null}else _t=null;q!==null&&h0($,k,q,_t,!1),At!==null&&Zt!==null&&h0($,Zt,At,_t,!0)}}t:{if(k=z?Zn(z):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var dt=xg;else if(Re(k))if(Ig)dt=_b;else{dt=yb;var It=gb}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Do(z.elementType)&&(dt=xg):dt=vb;if(dt&&(dt=dt(e,z))){Ii($,dt,a,Y);break t}It&&It(e,k,z),e==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&is(k,"number",k.value)}switch(It=z?Zn(z):window,e){case"focusin":(Re(It)||It.contentEditable==="true")&&(ca=It,tf=z,Bo=null);break;case"focusout":Bo=tf=ca=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,zg($,a,Y);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":zg($,a,Y)}var pt;if(si)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Pt?K(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(_&&a.locale!=="ko"&&(Pt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Pt&&(pt=xo()):(ti=Y,ss="value"in ti?ti.value:ti.textContent,Pt=!0)),It=_c(z,Et),0<It.length&&(Et=new Oo(Et,e,null,a,Y),$.push({event:Et,listeners:It}),pt?Et.data=pt:(pt=rt(a),pt!==null&&(Et.data=pt)))),(pt=y?we(e,a):Lt(e,a))&&(Et=_c(z,"onBeforeInput"),0<Et.length&&(It=new Oo("onBeforeInput","beforeinput",null,a,Y),$.push({event:It,listeners:Et}),It.data=pt)),iw($,e,z,a,Y)}u0($,s)})}function fl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function _c(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=or(e,a),f!=null&&l.unshift(fl(e,f,m)),f=or(e,s),f!=null&&l.push(fl(e,f,m))),e.tag===3)return l;e=e.return}return[]}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h0(e,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var A=a,D=A.alternate,z=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||z===null||(D=z,f?(z=or(a,m),z!=null&&T.unshift(fl(a,z,D))):f||(z=or(a,m),z!=null&&T.push(fl(a,z,D)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function f0(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(lw,"")}function d0(e,s){return s=f0(s),f0(e)===s}function Tc(){}function $t(e,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Rn(e,""+l);break;case"className":Jn(e,"class",l);break;case"tabIndex":Jn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(e,a,l);break;case"style":Co(e,l,m);break;case"data":if(s!=="object"){Jn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ea(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&$t(e,s,"name",f.name,f,null),$t(e,s,"formEncType",f.formEncType,f,null),$t(e,s,"formMethod",f.formMethod,f,null),$t(e,s,"formTarget",f.formTarget,f,null)):($t(e,s,"encType",f.encType,f,null),$t(e,s,"method",f.method,f,null),$t(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ea(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ns(e,"popover",l);break;case"xlinkActuate":Be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ns(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yh.get(a)||a,ns(e,a,l))}}function wd(e,s,a,l,f,m){switch(a){case"style":Co(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&Rn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=e[ve]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ns(e,a,l)}}}function qe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(e,s,m,T,a,null)}}f&&$t(e,s,"srcSet",a.srcSet,a,null),l&&$t(e,s,"src",a.src,a,null);return;case"input":Nt("invalid",e);var A=m=T=f=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":D=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:$t(e,s,l,Y,a,null)}}sr(e,m,A,D,z,T,f,!1),ta(e);return;case"select":Nt("invalid",e),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:$t(e,s,f,A,a,null)}s=m,a=T,e.multiple=!!l,s!=null?wi(e,!!l,s,!1):a!=null&&wi(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:$t(e,s,T,A,a,null)}rr(e,l,f,m),ta(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,s,D,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<hl.length;l++)Nt(hl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(e,s,z,l,a,null)}return;default:if(Do(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&wd(e,s,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&$t(e,s,A,l,a,null))}function uw(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,D=null,z=null,Y=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(q)||$t(e,s,q,null,l,$)}}for(var k in l){var q=l[k];if($=a[k],l.hasOwnProperty(k)&&(q!=null||$!=null))switch(k){case"type":m=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":T=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==$&&$t(e,s,k,q,l,$)}}mn(e,T,A,D,z,Y,m,f);return;case"select":q=T=A=k=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(m)||$t(e,s,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":k=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&$t(e,s,f,m,l,D)}s=A,a=T,l=q,k!=null?wi(e,!!a,k,!1):!!l!=!!a&&(s!=null?wi(e,!!a,s,!0):wi(e,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:$t(e,s,A,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":k=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&$t(e,s,T,f,l,m)}Qt(e,k,q);return;case"option":for(var At in a)if(k=a[At],a.hasOwnProperty(At)&&k!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:$t(e,s,At,null,l,k)}for(D in l)if(k=l[D],q=a[D],l.hasOwnProperty(D)&&k!==q&&(k!=null||q!=null))switch(D){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:$t(e,s,D,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)k=a[_t],a.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t)&&$t(e,s,_t,null,l,k);for(z in l)if(k=l[z],q=a[z],l.hasOwnProperty(z)&&k!==q&&(k!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:$t(e,s,z,k,l,q)}return;default:if(Do(s)){for(var Zt in a)k=a[Zt],a.hasOwnProperty(Zt)&&k!==void 0&&!l.hasOwnProperty(Zt)&&wd(e,s,Zt,void 0,l,k);for(Y in l)k=l[Y],q=a[Y],!l.hasOwnProperty(Y)||k===q||k===void 0&&q===void 0||wd(e,s,Y,k,l,q);return}}for(var L in a)k=a[L],a.hasOwnProperty(L)&&k!=null&&!l.hasOwnProperty(L)&&$t(e,s,L,null,l,k);for($ in l)k=l[$],q=a[$],!l.hasOwnProperty($)||k===q||k==null&&q==null||$t(e,s,$,k,l,q)}var Rd=null,Cd=null;function Ec(e){return e.nodeType===9?e:e.ownerDocument}function m0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Dd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vd=null;function cw(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(e){return y0.resolve(null).then(e).catch(dw)}:g0;function dw(e){setTimeout(function(){throw e})}function Ts(e){return e==="head"}function v0(e,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&dl(T.documentElement),a&2&&dl(T.body),a&4)for(a=T.head,dl(a),T=a.firstChild;T;){var A=T.nextSibling,D=T.nodeName;T[tr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(f===0){e.removeChild(m),El(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);El(s)}function xd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mw(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[tr])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function pw(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gn(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gw(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Md=null;function _0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function T0(e,s,a){switch(s=Ec(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function dl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);es(e)}var Ln=new Map,E0=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hi=W.d;W.d={f:yw,r:vw,D:_w,C:Tw,L:Ew,m:Aw,X:bw,S:Sw,M:ww};function yw(){var e=Hi.f(),s=dc();return e||s}function vw(e){var s=$n(e);s!==null&&s.tag===5&&s.type==="form"?ky(s):Hi.r(e)}var Pa=typeof document>"u"?null:document;function A0(e,s,a){var l=Pa;if(l&&typeof s=="string"&&s){var f=_e(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),E0.has(f)||(E0.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),qe(s,"link",e),fe(s),l.head.appendChild(s)))}}function _w(e){Hi.D(e),A0("dns-prefetch",e,null)}function Tw(e,s){Hi.C(e,s),A0("preconnect",e,s)}function Ew(e,s,a){Hi.L(e,s,a);var l=Pa;if(l&&e&&s){var f='link[rel="preload"][as="'+_e(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_e(a.imageSizes)+'"]')):f+='[href="'+_e(e)+'"]';var m=f;switch(s){case"style":m=La(e);break;case"script":m=Ua(e)}Ln.has(m)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Ln.set(m,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(ml(m))||s==="script"&&l.querySelector(pl(m))||(s=l.createElement("link"),qe(s,"link",e),fe(s),l.head.appendChild(s)))}}function Aw(e,s){Hi.m(e,s);var a=Pa;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ua(e)}if(!Ln.has(m)&&(e=v({rel:"modulepreload",href:e},s),Ln.set(m,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(m)))return}l=a.createElement("link"),qe(l,"link",e),fe(l),a.head.appendChild(l)}}}function Sw(e,s,a){Hi.S(e,s,a);var l=Pa;if(l&&e){var f=en(l).hoistableStyles,m=La(e);s=s||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(ml(m)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Ln.get(m))&&Od(e,a);var D=T=l.createElement("link");fe(D),qe(D,"link",e),D._p=new Promise(function(z,Y){D.onload=z,D.onerror=Y}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function bw(e,s){Hi.X(e,s);var a=Pa;if(a&&e){var l=en(a).hoistableScripts,f=Ua(e),m=l.get(f);m||(m=a.querySelector(pl(f)),m||(e=v({src:e,async:!0},s),(s=Ln.get(f))&&Nd(e,s),m=a.createElement("script"),fe(m),qe(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function ww(e,s){Hi.M(e,s);var a=Pa;if(a&&e){var l=en(a).hoistableScripts,f=Ua(e),m=l.get(f);m||(m=a.querySelector(pl(f)),m||(e=v({src:e,async:!0,type:"module"},s),(s=Ln.get(f))&&Nd(e,s),m=a.createElement("script"),fe(m),qe(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function S0(e,s,a,l){var f=(f=wt.current)?Ac(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=La(a.href),a=en(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var m=en(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(ml(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),m||Rw(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ua(a),a=en(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+_e(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function b0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Rw(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),qe(s,"link",a),fe(s),e.head.appendChild(s))}function Ua(e){return'[src="'+_e(e)+'"]'}function pl(e){return"script[async]"+e}function w0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return s.instance=l,fe(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),qe(l,"style",f),Sc(l,a.precedence,e),s.instance=l;case"stylesheet":f=La(a.href);var m=e.querySelector(ml(f));if(m)return s.state.loading|=4,s.instance=m,fe(m),m;l=b0(a),(f=Ln.get(f))&&Od(l,f),m=(e.ownerDocument||e).createElement("link"),fe(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),qe(m,"link",l),s.state.loading|=4,Sc(m,a.precedence,e),s.instance=m;case"script":return m=Ua(a.src),(f=e.querySelector(pl(m)))?(s.instance=f,fe(f),f):(l=a,(f=Ln.get(m))&&(l=v({},a),Nd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),fe(f),qe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Sc(l,a.precedence,e));return s.instance}function Sc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Od(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Nd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var bc=null;function R0(e,s,a){if(bc===null){var l=new Map,f=bc=new Map;f.set(a,l)}else f=bc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[tr]||m[be]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function C0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Cw(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function D0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gl=null;function Dw(){}function Vw(e,s,a){if(gl===null)throw Error(r(475));var l=gl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=La(a.href),m=e.querySelector(ml(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=wc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,fe(m);return}m=e.ownerDocument||e,a=b0(a),(f=Ln.get(f))&&Od(a,f),m=m.createElement("link"),fe(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),qe(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=wc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function xw(){if(gl===null)throw Error(r(475));var e=gl;return e.stylesheets&&e.count===0&&Pd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Pd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rc=null;function Pd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rc=new Map,s.forEach(Iw,e),Rc=null,wc.call(e))}function Iw(e,s){if(!(s.state.loading&4)){var a=Rc.get(e);if(a)var l=a.get(null);else{a=new Map,Rc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=wc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var yl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function Mw(e,s,a,l,f,m,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function V0(e,s,a,l,f,m,T,A,D,z,Y,$){return e=new Mw(e,s,a,T,A,D,z,$),s=1,m===!0&&(s|=24),m=gn(3,null,null,s),e.current=m,m.stateNode=e,s=gf(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Tf(m),e}function x0(e){return e?(e=ma,e):ma}function I0(e,s,a,l,f,m){f=x0(f),l.context===null?l.context=f:l.pendingContext=f,l=os(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ls(e,l,s),a!==null&&(En(a,e,s),Yo(a,e,s))}function M0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Ld(e,s){M0(e,s),(e=e.alternate)&&M0(e,s)}function O0(e){if(e.tag===13){var s=da(e,67108864);s!==null&&En(s,e,67108864),Ld(e,67108864)}}var Cc=!0;function Ow(e,s,a,l){var f=F.T;F.T=null;var m=W.p;try{W.p=2,Ud(e,s,a,l)}finally{W.p=m,F.T=f}}function Nw(e,s,a,l){var f=F.T;F.T=null;var m=W.p;try{W.p=8,Ud(e,s,a,l)}finally{W.p=m,F.T=f}}function Ud(e,s,a,l){if(Cc){var f=Bd(l);if(f===null)bd(e,s,l,Dc,a),P0(e,l);else if(Lw(f,e,s,a,l))l.stopPropagation();else if(P0(e,l),s&4&&-1<Pw.indexOf(e)){for(;f!==null;){var m=$n(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=jn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Ke(T);A.entanglements[1]|=D,T&=~D}ci(m),(Kt&6)===0&&(hc=bn()+500,cl(0))}}break;case 13:A=da(m,2),A!==null&&En(A,m,2),dc(),Ld(m,2)}if(m=Bd(l),m===null&&bd(e,s,l,Dc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else bd(e,s,l,null,a)}}function Bd(e){return e=Cn(e),zd(e)}var Dc=null;function zd(e){if(Dc=null,e=Ai(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=h(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Dc=e,null}function N0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kh()){case po:return 2;case Kr:return 8;case Xs:case qh:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var jd=!1,Es=null,As=null,Ss=null,vl=new Map,_l=new Map,bs=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(e,s){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(s.pointerId)}}function Tl(e,s,a,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=$n(s),s!==null&&O0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function Lw(e,s,a,l,f){switch(s){case"focusin":return Es=Tl(Es,e,s,a,l,f),!0;case"dragenter":return As=Tl(As,e,s,a,l,f),!0;case"mouseover":return Ss=Tl(Ss,e,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return vl.set(m,Tl(vl.get(m)||null,e,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,_l.set(m,Tl(_l.get(m)||null,e,s,a,l,f)),!0}return!1}function L0(e){var s=Ai(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){e.blockedOn=s,du(e.priority,function(){if(a.tag===13){var l=Tn();l=Ji(l);var f=da(a,l);f!==null&&En(f,a,l),Ld(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Bd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return s=$n(a),s!==null&&O0(s),e.blockedOn=a,!1;s.shift()}return!0}function U0(e,s,a){Vc(e)&&a.delete(s)}function Uw(){jd=!1,Es!==null&&Vc(Es)&&(Es=null),As!==null&&Vc(As)&&(As=null),Ss!==null&&Vc(Ss)&&(Ss=null),vl.forEach(U0),_l.forEach(U0)}function xc(e,s){e.blockedOn===s&&(e.blockedOn=null,jd||(jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uw)))}var Ic=null;function B0(e){Ic!==e&&(Ic=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(zd(l||a)===null)continue;break}var m=$n(a);m!==null&&(e.splice(s,3),s-=3,zf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function El(e){function s(D){return xc(D,e)}Es!==null&&xc(Es,e),As!==null&&xc(As,e),Ss!==null&&xc(Ss,e),vl.forEach(s),_l.forEach(s);for(var a=0;a<bs.length;a++){var l=bs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<bs.length&&(a=bs[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[ve]||null;if(typeof m=="function")T||B0(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ve]||null)A=T.formAction;else if(zd(f)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),B0(a)}}}function kd(e){this._internalRoot=e}Mc.prototype.render=kd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Tn();I0(a,l,e,s,null,null)},Mc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;I0(e.current,2,null,e,null,null),dc(),s[wn]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Wi();e={blockedOn:null,target:e,priority:s};for(var a=0;a<bs.length&&s!==0&&s<bs[a].priority;a++);bs.splice(a,0,e),a===0&&L0(e)}};var z0=t.version;if(z0!=="19.1.0")throw Error(r(527,z0,"19.1.0"));W.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Bw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{le=Oc.inject(Bw),Gt=Oc}catch{}}return Sl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=ev,m=nv,T=iv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=V0(e,1,!1,null,null,a,l,f,m,T,A,null),e[wn]=s.current,Sd(e),new kd(s)},Sl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",m=ev,T=nv,A=iv,D=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=V0(e,1,!0,s,a??null,l,f,m,T,A,D,z),s.context=x0(null),a=s.current,l=Tn(),l=Ji(l),f=os(l),f.callback=null,ls(a,f,l),a=l,s.current.lanes=a,Ei(s,a),ci(s),e[wn]=s.current,Sd(e),new Mc(s)},Sl.version="19.1.0",Sl}var X0;function Xw(){if(X0)return Hd.exports;X0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Hd.exports=Qw(),Hd.exports}var $w=Xw();const Zw=()=>{};var $0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Jw=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,V=g&63;p||(V=64,h||(b=64)),r.push(i[v],i[E],i[b],i[V])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ME(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Jw(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new Ww;const b=u<<2|d>>4;if(r.push(b),g!==64){const V=d<<4&240|g>>2;if(r.push(V),E!==64){const j=g<<6&192|E;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ww extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(n){const t=ME(n);return OE.encodeByteArray(t,!0)},$c=function(n){return t2(n).replace(/\./g,"")},e2=function(n){try{return OE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>n2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof $0>"u")return;const n=$0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&e2(n[1]);return t&&JSON.parse(t)},cp=()=>{try{return Zw()||i2()||s2()||r2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a2=n=>{var t,i;return(i=(t=cp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},o2=n=>{const t=a2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},NE=()=>{var n;return(n=cp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(i)),$c(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){var n;const t=(n=cp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function d2(){return!h2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function m2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="FirebaseError";class Hs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=p2,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?g2(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Hs(o,d,r)}}function g2(n,t){return n.replace(y2,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const y2=/\{\$([^}]+)}/g;function jl(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(Z0(u)&&Z0(h)){if(!jl(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Z0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1e3,_2=2,T2=4*60*60*1e3,E2=.5;function J0(n,t=v2,i=_2){const r=t*Math.pow(i,n),o=Math.round(E2*r*(Math.random()-.5)*2);return Math.min(T2,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n){return n&&n._delegate?n._delegate:n}class Gi{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new l2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(b2(t))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xr){return this.instances.has(t)}getOptions(t=xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S2(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xr){return this.component?this.component.multipleInstances?t:xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S2(n){return n===xr?void 0:n}function b2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new A2(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const R2={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},C2=zt.INFO,D2={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},V2=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=D2[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hp{constructor(t){this.name=t,this._logLevel=C2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const x2=(n,t)=>t.some(i=>n instanceof i);let W0,t_;function I2(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,vm=new WeakMap,BE=new WeakMap,Qd=new WeakMap,fp=new WeakMap;function O2(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Vs(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&UE.set(i,n)}).catch(()=>{}),fp.set(t,n),t}function N2(n){if(vm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});vm.set(n,t)}let _m={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return vm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||BE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Vs(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function P2(n){_m=n(_m)}function L2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Xd(this),t,...i);return BE.set(r,t.sort?t.sort():[t]),Vs(r)}:M2().includes(n)?function(...t){return n.apply(Xd(this),t),Vs(UE.get(this))}:function(...t){return Vs(n.apply(Xd(this),t))}}function U2(n){return typeof n=="function"?L2(n):(n instanceof IDBTransaction&&N2(n),x2(n,I2())?new Proxy(n,_m):n)}function Vs(n){if(n instanceof IDBRequest)return O2(n);if(Qd.has(n))return Qd.get(n);const t=U2(n);return t!==n&&(Qd.set(n,t),fp.set(t,n)),t}const Xd=n=>fp.get(n);function zE(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=Vs(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Vs(h.result),p.oldVersion,p.newVersion,Vs(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const B2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],$d=new Map;function e_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=z2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||B2.includes(i)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return $d.set(t,u),u}P2(n=>({...n,get:(t,i,r)=>e_(t,i)||n.get(t,i,r),has:(t,i)=>!!e_(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(k2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function k2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tm="@firebase/app",n_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new hp("@firebase/app"),q2="@firebase/app-compat",F2="@firebase/analytics-compat",H2="@firebase/analytics",G2="@firebase/app-check-compat",K2="@firebase/app-check",Y2="@firebase/auth",Q2="@firebase/auth-compat",X2="@firebase/database",$2="@firebase/data-connect",Z2="@firebase/database-compat",J2="@firebase/functions",W2="@firebase/functions-compat",tR="@firebase/installations",eR="@firebase/installations-compat",nR="@firebase/messaging",iR="@firebase/messaging-compat",sR="@firebase/performance",rR="@firebase/performance-compat",aR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",hR="@firebase/vertexai",fR="@firebase/firestore-compat",dR="firebase",mR="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",pR={[Tm]:"fire-core",[q2]:"fire-core-compat",[H2]:"fire-analytics",[F2]:"fire-analytics-compat",[K2]:"fire-app-check",[G2]:"fire-app-check-compat",[Y2]:"fire-auth",[Q2]:"fire-auth-compat",[X2]:"fire-rtdb",[$2]:"fire-data-connect",[Z2]:"fire-rtdb-compat",[J2]:"fire-fn",[W2]:"fire-fn-compat",[tR]:"fire-iid",[eR]:"fire-iid-compat",[nR]:"fire-fcm",[iR]:"fire-fcm-compat",[sR]:"fire-perf",[rR]:"fire-perf-compat",[aR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,gR=new Map,Am=new Map;function i_(n,t){try{n.container.addComponent(t)}catch(i){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Ps(n){const t=n.name;if(Am.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;Am.set(t,n);for(const i of Zc.values())i_(i,n);for(const i of gR.values())i_(i,n);return!0}function nu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function yR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new _h("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=mR;function jE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw xs.create("bad-app-name",{appName:String(o)});if(i||(i=NE()),!i)throw xs.create("no-options");const u=Zc.get(o);if(u){if(jl(i,u.options)&&jl(r,u.config))return u;throw xs.create("duplicate-app",{appName:o})}const h=new w2(o);for(const p of Am.values())h.addComponent(p);const d=new _R(i,r,h);return Zc.set(o,d),d}function kE(n=Em){const t=Zc.get(n);if(!t&&n===Em&&NE())return jE();if(!t)throw xs.create("no-app",{appName:n});return t}function di(n,t,i){var r;let o=(r=pR[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}Ps(new Gi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",AR=1,kl="firebase-heartbeat-store";let Zd=null;function qE(){return Zd||(Zd=zE(ER,AR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Zd}async function SR(n){try{const i=(await qE()).transaction(kl),r=await i.objectStore(kl).get(FE(n));return await i.done,r}catch(t){if(t instanceof Hs)Ki.warn(t.message);else{const i=xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ki.warn(i.message)}}}async function s_(n,t){try{const r=(await qE()).transaction(kl,"readwrite");await r.objectStore(kl).put(t,FE(n)),await r.done}catch(i){if(i instanceof Hs)Ki.warn(i.message);else{const r=xs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ki.warn(r.message)}}}function FE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,wR=30;class RR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=r_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wR){const h=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=r_(),{heartbeatsToSend:r,unsentEntries:o}=CR(this._heartbeatsCache.heartbeats),u=$c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Ki.warn(i),""}}}function r_(){return new Date().toISOString().substring(0,10)}function CR(n,t=bR){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),a_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),a_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class DR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function a_(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}function VR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){Ps(new Gi("platform-logger",t=>new j2(t),"PRIVATE")),Ps(new Gi("heartbeat",t=>new RR(t),"PRIVATE")),di(Tm,n_,n),di(Tm,n_,"esm2017"),di("fire-js","")}xR("");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,HE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function C(){}C.prototype=w.prototype,I.D=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(M,N,P){for(var R=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)R[bt-2]=arguments[bt];return w.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);var M=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)M[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;16>N;++N)M[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],N=I.g[2];var P=I.g[3],R=w+(P^C&(N^P))+M[0]+3614090360&4294967295;w=C+(R<<7&4294967295|R>>>25),R=P+(N^w&(C^N))+M[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=N+(C^P&(w^C))+M[2]+606105819&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(w^N&(P^w))+M[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(P^C&(N^P))+M[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(N^w&(C^N))+M[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=N+(C^P&(w^C))+M[6]+2821735955&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(w^N&(P^w))+M[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(P^C&(N^P))+M[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(N^w&(C^N))+M[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=N+(C^P&(w^C))+M[10]+4294925233&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(w^N&(P^w))+M[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(P^C&(N^P))+M[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=P+(N^w&(C^N))+M[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=N+(C^P&(w^C))+M[14]+2792965006&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(w^N&(P^w))+M[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(N^P&(C^N))+M[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(w^C))+M[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(P^w))+M[11]+643717713&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(N^P))+M[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^P&(C^N))+M[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(w^C))+M[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(P^w))+M[15]+3634488961&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(N^P))+M[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^P&(C^N))+M[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(w^C))+M[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(P^w))+M[3]+4107603335&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(N^P))+M[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^P&(C^N))+M[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(w^C))+M[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(P^w))+M[7]+1735328473&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^w&(N^P))+M[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(C^N^P)+M[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^N)+M[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=N+(P^w^C)+M[11]+1839030562&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^w)+M[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^P)+M[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^N)+M[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=N+(P^w^C)+M[7]+4139469664&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^w)+M[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^P)+M[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^N)+M[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=N+(P^w^C)+M[3]+3572445317&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^w)+M[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^P)+M[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=P+(w^C^N)+M[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=N+(P^w^C)+M[15]+530742520&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^w)+M[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(N^(C|~P))+M[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~N))+M[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=N+(w^(P|~C))+M[14]+2878612391&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~w))+M[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~P))+M[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~N))+M[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=N+(w^(P|~C))+M[10]+4293915773&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~w))+M[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~P))+M[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~N))+M[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=N+(w^(P|~C))+M[6]+2734768916&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~w))+M[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~P))+M[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=P+(C^(w|~N))+M[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=N+(w^(P|~C))+M[2]+718787259&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var C=w-this.blockSize,M=this.B,N=this.h,P=0;P<w;){if(N==0)for(;P<=C;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(M[N++]=I.charCodeAt(P++),N==this.blockSize){o(this,M),N=0;break}}else for(;P<w;)if(M[N++]=I[P++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var C=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=C&255,C/=256;for(this.u(I),I=Array(16),w=C=0;4>w;++w)for(var M=0;32>M;M+=8)I[C++]=this.g[w]>>>M&255;return I};function u(I,w){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function h(I,w){this.h=w;for(var C=[],M=!0,N=I.length-1;0<=N;N--){var P=I[N]|0;M&&P==w||(C[N]=P,M=!1)}this.g=C}var d={};function p(I){return-128<=I&&128>I?u(I,function(w){return new h([w|0],0>w?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(0>I)return H(g(-I));for(var w=[],C=1,M=0;I>=C;M++)w[M]=I/C|0,C*=4294967296;return new h(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return H(v(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),M=E,N=0;N<I.length;N+=8){var P=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+P),w);8>P?(P=g(Math.pow(w,P)),M=M.j(P).add(g(R))):(M=M.j(C),M=M.add(g(R)))}return M}var E=p(0),b=p(1),V=p(16777216);n=h.prototype,n.m=function(){if(G(this))return-H(this).m();for(var I=0,w=1,C=0;C<this.g.length;C++){var M=this.i(C);I+=(0<=M?M:4294967296+M)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(G(this))return"-"+H(this).toString(I);for(var w=g(Math.pow(I,6)),C=this,M="";;){var N=ot(C,w).g;C=X(C,N.j(w));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=N,j(C))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function G(I){return I.h==-1}n.l=function(I){return I=X(this,I),G(I)?-1:j(I)?0:1};function H(I){for(var w=I.g.length,C=[],M=0;M<w;M++)C[M]=~I.g[M];return new h(C,~I.h).add(b)}n.abs=function(){return G(this)?H(this):this},n.add=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0,N=0;N<=w;N++){var P=M+(this.i(N)&65535)+(I.i(N)&65535),R=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,P&=65535,R&=65535,C[N]=R<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function X(I,w){return I.add(H(w))}n.j=function(I){if(j(this)||j(I))return E;if(G(this))return G(I)?H(this).j(H(I)):H(H(this).j(I));if(G(I))return H(this.j(H(I)));if(0>this.l(V)&&0>I.l(V))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,C=[],M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<I.g.length;N++){var P=this.i(M)>>>16,R=this.i(M)&65535,bt=I.i(N)>>>16,vt=I.i(N)&65535;C[2*M+2*N]+=R*vt,st(C,2*M+2*N),C[2*M+2*N+1]+=P*vt,st(C,2*M+2*N+1),C[2*M+2*N+1]+=R*bt,st(C,2*M+2*N+1),C[2*M+2*N+2]+=P*bt,st(C,2*M+2*N+2)}for(M=0;M<w;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=w;M<2*w;M++)C[M]=0;return new h(C,0)};function st(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Z(I,w){this.g=I,this.h=w}function ot(I,w){if(j(w))throw Error("division by zero");if(j(I))return new Z(E,E);if(G(I))return w=ot(H(I),w),new Z(H(w.g),H(w.h));if(G(w))return w=ot(I,H(w)),new Z(H(w.g),w.h);if(30<I.g.length){if(G(I)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=w;0>=M.l(I);)C=nt(C),M=nt(M);var N=ft(C,1),P=ft(M,1);for(M=ft(M,2),C=ft(C,2);!j(M);){var R=P.add(M);0>=R.l(I)&&(N=N.add(C),P=R),M=ft(M,1),C=ft(C,1)}return w=X(I,N.j(w)),new Z(N,w)}for(N=E;0<=I.l(w);){for(C=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=g(C),R=P.j(w);G(R)||0<R.l(I);)C-=M,P=g(C),R=P.j(w);j(P)&&(P=b),N=N.add(P),I=X(I,R)}return new Z(N,I)}n.A=function(I){return ot(this,I).h},n.and=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)&I.i(M);return new h(C,this.h&I.h)},n.or=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)|I.i(M);return new h(C,this.h|I.h)},n.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)^I.i(M);return new h(C,this.h^I.h)};function nt(I){for(var w=I.g.length+1,C=[],M=0;M<w;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(C,I.h)}function ft(I,w){var C=w>>5;w%=32;for(var M=I.g.length-C,N=[],P=0;P<M;P++)N[P]=0<w?I.i(P+C)>>>w|I.i(P+C+1)<<32-w:I.i(P+C);return new h(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Is=h}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GE,wl,KE,qc,Sm,YE,QE,XE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break t;_=_[U]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,b.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,K){for(var rt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)rt[Pt-2]=arguments[Pt];return y.prototype[U].apply(S,rt)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function H(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,K=S.length||0;c.length=U+K;for(let rt=0;rt<K;rt++)c[U+rt]=S[rt]}else c.push(S)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function st(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var nt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ft(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let K=0;K<C.length;K++)_=C[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){d.setTimeout(()=>{throw c},0)}function R(){var c=Tt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class bt{constructor(){this.h=this.g=null}add(y,_){const S=vt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var vt=new X(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let W,lt=!1,Tt=new bt,x=()=>{const c=d.Promise.resolve(void 0);W=()=>{c.then(tt)}};var tt=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){P(_)}var y=vt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}lt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function xt(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(nt){t:{try{ot(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xt.aa.h.call(this)}}j(xt,it);var wt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Qn(c,y,_,S,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++Wt,this.da=this.fa=!1}function Zi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _i(c){this.src=c,this.g={},this.h=0}_i.prototype.add=function(c,y,_,S,U){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var rt=Ys(c,y,S,U);return-1<rt?(y=c[rt],_||(y.fa=!1)):(y=new Qn(y,this.src,K,!!S,U),y.fa=_,c.push(y)),y};function Ks(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=U)&&Array.prototype.splice.call(S,U,1),K&&(Zi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ys(c,y,_,S){for(var U=0;U<c.length;++U){var K=c[U];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return U}return-1}var Qs="closure_lm_"+(1e6*Math.random()|0),mo={};function cu(c,y,_,S,U){if(Array.isArray(y)){for(var K=0;K<y.length;K++)cu(c,y[K],_,S,U);return null}return _=hu(_),c&&c[xe]?c.K(y,_,g(S)?!!S.capture:!1,U):bn(c,y,_,!1,S,U)}function bn(c,y,_,S,U,K){if(!y)throw Error("Invalid event type");var rt=g(U)?!!U.capture:!!U,Pt=Yr(c);if(Pt||(c[Qs]=Pt=new _i(c)),_=Pt.add(y,_,S,rt,K),_.proxy)return _;if(S=kh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)yt||(U=rt),U===void 0&&(U=!1),c.addEventListener(y.toString(),S,U);else if(c.attachEvent)c.attachEvent(Xs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kh(){function c(_){return y.call(c.src,c.listener,_)}const y=qh;return c}function po(c,y,_,S,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)po(c,y[K],_,S,U);else S=g(S)?!!S.capture:!!S,_=hu(_),c&&c[xe]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=Ys(K,_,S,U),-1<_&&(Zi(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Yr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ys(y,_,S,U)),(_=-1<c?y[c]:null)&&Kr(_))}function Kr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xe])Ks(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Xs(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Yr(y))?(Ks(_,c),_.h==0&&(_.src=null,y[Qs]=null)):Zi(c)}}}function Xs(c){return c in mo?mo[c]:mo[c]="on"+c}function qh(c,y){if(c.da)c=!0;else{y=new xt(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Kr(c),c=_.call(S,y)}return c}function Yr(c){return c=c[Qs],c instanceof _i?c:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(c){return typeof c=="function"?c:(c[go]||(c[go]=function(y){return c.handleEvent(y)}),c[go])}function le(){ut.call(this),this.i=new _i(this),this.M=this,this.F=null}j(le,ut),le.prototype[xe]=!0,le.prototype.removeEventListener=function(c,y,_,S){po(this,c,y,_,S)};function Gt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var U=y;y=new it(S,c),M(y,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var rt=y.g=_[K];U=dn(rt,S,!0,y)&&U}if(rt=y.g=c,U=dn(rt,S,!0,y)&&U,U=dn(rt,S,!1,y)&&U,_)for(K=0;K<_.length;K++)rt=y.g=_[K],U=dn(rt,S,!1,y)&&U}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Zi(_[S]);delete c.g[y],c.h--}}this.F=null},le.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},le.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,K=0;K<y.length;++K){var rt=y[K];if(rt&&!rt.da&&rt.capture==_){var Pt=rt.listener,we=rt.ha||rt.src;rt.fa&&Ks(c.i,rt),U=Pt.call(we,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ke(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function fu(c){c.g=Ke(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Fh extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(c){ut.call(this),this.h=c,this.g={}}j($s,ut);var Zs=[];function Js(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&Kr(y)},c),c.g={}}$s.prototype.N=function(){$s.aa.N.call(this),Js(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,Qr=d.JSON.parse,Ws=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function yo(){}yo.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function _o(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){it.call(this,"d")}j(Ei,it);function To(){it.call(this,"c")}j(To,it);var Xn={},Eo=null;function Ji(){return Eo=Eo||new le}Xn.La="serverreachability";function Xr(c){it.call(this,Xn.La,c)}j(Xr,it);function Wi(c){const y=Ji();Gt(y,new Xr(y))}Xn.STAT_EVENT="statevent";function du(c,y){it.call(this,Xn.STAT_EVENT,c),this.stat=y}j(du,it);function ne(c){const y=Ji();Gt(y,new du(y,c))}Xn.Ma="timingevent";function be(c,y){it.call(this,Xn.Ma,c),this.size=y}j(be,it);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Ao(c,y,_,S,U,K){c.info(function(){if(c.g)if(K)for(var rt="",Pt=K.split("&"),we=0;we<Pt.length;we++){var Lt=Pt[we].split("=");if(1<Lt.length){var Me=Lt[0];Lt=Lt[1];var Re=Me.split("_");rt=2<=Re.length&&Re[1]=="type"?rt+(Me+"="+Lt+"&"):rt+(Me+"=redacted&")}}else rt=null;else rt=K;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+rt})}function Hh(c,y,_,S,U,K,rt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+K+" "+rt})}function ts(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+tr(c,_)+(S?" "+S:"")})}function mu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function tr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var rt=1;rt<U.length;rt++)U[rt]=""}}}}return jn(_)}catch{return y}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Zn(){}j(Zn,yo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},$n=new Zn;function en(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new $s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var So={},$r={};function kn(c,y,_){c.L=1,c.v=rr(mn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),er(c),c.A=mn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Vo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new fe,c.g=xu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Fh(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Zs[0]=U.toString()),U=Zs);for(var K=0;K<U.length;K++){var rt=cu(_,U[K],S||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Wi(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Vn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)t:{const Re=Vn(this.g);var y=this.g.Ba();const Ii=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Re!=4||y==7||(y==8||0>=Ii?Wi(3):Wi(2)),ns(this);var _=this.g.Z();this.X=_;e:if(pu(this)){var S=Au(this.g);c="";var U=S.length,K=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),Jn(this);var rt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==U-1)});S.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Hh(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,we=this.g;if((Pt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)ts(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,_);else{this.o=!1,this.s=3,ne(12),Be(this),Jn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<rt.length;)if(ze=gu(this,rt),ze==$r){Re==4&&(this.s=4,ne(14),_=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==So){this.s=4,ne(15),ts(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else ts(this.i,this.l,ze,null),nr(this,ze);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||rt.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)ts(this.i,this.l,rt,"[Invalid Chunked Response]"),Be(this),Jn(this);else if(0<rt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),dr(Me),Me.M=!0,ne(11))}}else ts(this.i,this.l,rt,null),nr(this,rt);Re==4&&Be(this),this.o&&!this.J&&(Re==4?Cu(this.j,this):(this.o=!1,er(this)))}else Xh(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Be(this),Jn(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?$r:(_=Number(y.substring(_,S)),isNaN(_)?So:(S+=1,S+_>y.length?$r:(y=y.slice(S,S+_),c.C=S+_,y)))}en.prototype.cancel=function(){this.J=!0,Be(this)};function er(c){c.S=Date.now()+c.I,yu(c,c.I)}function yu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(b(c.ba,c),y)}function ns(c){c.B&&(d.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mu(this.i,this.A),this.L!=2&&(Wi(),ne(17)),Be(this),this.s=2,Jn(this)):yu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Cu(c.j,c)}function Be(c){ns(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Js(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function nr(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||bo(_.h,c))){if(!c.K&&bo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)la(_),aa(_);else break t;No(_),ne(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(b(_.Za,_),6e3));if(1>=Jr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((c.K||_.g==c)&&la(_),!st(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Lt=U[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Me=Lt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const Re=Lt[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Ii=Lt[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(S=1.5*Ii,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ze=c.g;if(ze){const ri=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var K=S.h;K.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wr(K,K.h),K.h=null))}if(S.D){const Lo=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(S.ya=Lo,Qt(S.I,S.D,Lo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var rt=c;if(S.qa=Vu(S,S.J?S.ia:null,S.W),rt.K){nn(S.h,rt);var Pt=rt,we=S.L;we&&(Pt.I=we),Pt.B&&(ns(Pt),er(Pt)),S.g=rt}else wu(S);0<_.i.length&&oa(_)}else Lt[0]!="stop"&&Lt[0]!="close"||xi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?xi(_,7):Mo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}Wi(4)}catch{}}var vu=class{constructor(c,y){this.g=c,this.map=y}};function bi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jr(c){return c.h?1:c.g?c.g.size:0}function bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Wr(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bi.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Gh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Ro(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ta(c),S=Gh(c),U=S.length,K=0;K<U;K++)y.call(void 0,S[K],_&&_[K],c)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var K=c[_].substring(0,S);U=c[_].substring(S+1)}else K=c[_];y(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _e(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _e){this.h=c.h,sr(this,c.j),this.o=c.o,this.g=c.g,is(this,c.s),this.l=c.l;var y=c.i,_=new Ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),wi(this,_),this.m=c.m}else c&&(y=String(c).match(ir))?(this.h=!1,sr(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),is(this,y[4]),this.l=Rn(y[5]||"",!0),wi(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}_e.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ar(y,Co,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ar(y,Co,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ar(_,_.charAt(0)=="/"?Yh:Do,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ar(_,ea)),c.join("")};function mn(c){return new _e(c)}function sr(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function is(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function wi(c,y,_){y instanceof Ri?(c.i=y,Tu(c.i,c.h)):(_||(y=ar(y,Qh)),c.i=new Ri(y,c.h))}function Qt(c,y,_){c.i.set(y,_)}function rr(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ar(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,_u),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _u(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Do=/[#\?:]/g,Yh=/[#\?]/g,Qh=/[#\?@]/g,ea=/#/g;function Ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Ri.prototype,n.add=function(c,y){Cn(this),this.i=null,c=Wn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){Cn(c),y=Wn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Cn(c),y=Wn(c,y),c.g.has(y)}n.forEach=function(c,y){Cn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(y,U,S,this)},this)},this)},n.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const U=c[S];for(let K=0;K<U.length;K++)_.push(y[S])}return _},n.V=function(c){Cn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Wn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Cn(this),this.i=null,c=Wn(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vo(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(Wn(c,y),G(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),rt=this.V(S);for(S=0;S<rt.length;S++){var U=K;rt[S]!==""&&(U+="="+encodeURIComponent(String(rt[S]))),c.push(U)}}return this.i=c.join("&")};function Wn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Tu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ci(this,S),Vo(this,U,_))},c)),c.j=y}function or(c,y){const _=new wn;if(d.Image){const S=new Image;S.onload=V(Dn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=V(Dn,_,"TestLoadImage: error",!1,y,S),S.onabort=V(Dn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=V(Dn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qn(c,y){const _=new wn,S=new AbortController,U=setTimeout(()=>{S.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(U),K.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function lr(){this.g=new Ws}function ti(c,y,_){const S=_||"";try{Ro(c,function(U,K){let rt=U;g(U)&&(rt=jn(U)),y.push(S+K+"="+encodeURIComponent(rt))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function ss(c){this.l=c.Ub||null,this.j=c.eb||!1}j(ss,yo),ss.prototype.g=function(){return new Vi(this.l,this.j)},ss.prototype.i=function(c){return function(){return c}}({});function Vi(c,y){le.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Vi,le),n=Vi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ni(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ei(this):ni(this),this.readyState==3&&xo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},n.Qa=function(c){this.g&&(this.response=c,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Io(c){let y="";return ft(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ie(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Io(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,y,_))}function Ht(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ht,le);var na=/^https?$/i,ur=["POST","PUT"];n=Ht.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?vo(this.o):vo($n),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Eu(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ur,y,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,rt]of _)this.g.setRequestHeader(K,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cr(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Eu(this,K)}};function Eu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ia(c),ii(c)}function ia(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Ke(c.Ea,0,c);else if(Gt(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=rt===0){var U=String(c.D).match(ir)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!na.test(U?U.toLowerCase():"")}_=S}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var K=2<Vn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ia(c)}}finally{ii(c)}}}}function ii(c,y){if(c.g){cr(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=S}catch{}}}function cr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Qr(y)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(c){const y={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(st(c[S]))continue;var _=N(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[U]||[];y[U]=K,K.push(_)}I(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ra(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new lr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ra.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,S){ne(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Vu(this,null,this.W),oa(this)};function Mo(c){if(Su(c),c.G==3){var y=c.U++,_=mn(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),fr(c,_),y=new en(c,c.j,y),y.L=2,y.v=rr(mn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),er(y)}Du(c)}function aa(c){c.g&&(dr(c),c.g.cancel(),c.g=null)}function Su(c){aa(c),c.u&&(d.clearTimeout(c.u),c.u=null),la(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function oa(c){if(!Zr(c.h)&&!c.s){c.s=!0;var y=c.Ga;W||x(),lt||(W(),lt=!0),Tt.add(y,c),c.B=0}}function $h(c,y){return Jr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(b(c.Ga,c,y),Po(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=bu(this,U,y),_=mn(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),fr(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Io(K)))+"&"+y:this.m&&Ie(_,this.m,K)),Wr(this.h,U),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),U.T=!0,kn(U,_,null)):kn(U,_,y),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||Zr(this.h)||Oo(this))};function Oo(c,y){var _;y?_=y.l:_=c.U++;const S=mn(c.I);Qt(S,"SID",c.K),Qt(S,"RID",_),Qt(S,"AID",c.T),fr(c,S),c.m&&c.o&&Ie(S,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wr(c.h,_),kn(_,S,y)}function fr(c,y){c.H&&ft(c.H,function(_,S){Qt(y,S,_)}),c.l&&Ro({},function(_,S){Qt(y,S,_)})}function bu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;t:{var U=c.i;let K=-1;for(;;){const rt=["count="+_];K==-1?0<_?(K=U[0].g,rt.push("ofs="+K)):K=0:rt.push("ofs="+K);let Pt=!0;for(let we=0;we<_;we++){let Lt=U[we].g;const Me=U[we].map;if(Lt-=K,0>Lt)K=Math.max(0,U[we].g-100),Pt=!1;else try{ti(Me,rt,"req"+Lt+"_")}catch{S&&S(Me)}}if(Pt){S=rt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;W||x(),lt||(W(),lt=!0),Tt.add(y,c),c.v=0}}function No(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(b(c.Fa,c),Po(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(b(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),aa(this),Ru(this))};function dr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ru(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Qt(y,"RID","rpc"),Qt(y,"SID",c.K),Qt(y,"AID",c.T),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(y,"TO",c.ja),Qt(y,"TYPE","xmlhttp"),fr(c,y),c.m&&c.o&&Ie(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=rr(mn(y)),_.m=null,_.P=!0,Si(_,c)}n.Za=function(){this.C!=null&&(this.C=null,aa(this),No(this),ne(19))};function la(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Cu(c,y){var _=null;if(c.g==y){la(c),dr(c),c.g=null;var S=2}else if(bo(c.h,y))_=y.D,nn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;S=Ji(),Gt(S,new be(S,_)),oa(c)}else wu(c);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&$h(c,y)||S==2&&No(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Po(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const U=!S;S=new _e(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sr(S,"https"),rr(S),U?or(S.toString(),_):qn(S.toString(),_)}else ne(2);c.G=0,c.l&&c.l.sa(y),Du(c),Su(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const y=wo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Vu(c,y,_){var S=_ instanceof _e?mn(_):new _e(_);if(S.g!="")y&&(S.g=y+"."+S.g),is(S,S.s);else{var U=d.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var K=new _e(null);S&&sr(K,S),y&&(K.g=y),U&&is(K,U),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&Qt(S,_,y),Qt(S,"VER",c.la),fr(c,S),S}function xu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new ss({eb:_})):new Ht(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}n=Iu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ua(){}ua.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){le.call(this),this.g=new ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!st(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!st(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}j(sn,le),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Mo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new vu(y.Ya++,c)),y.G==3&&oa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,sn.aa.N.call(this)};function Mu(c){Ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(Mu,Ei);function Ou(){To.call(this),this.status=1}j(Ou,To);function si(c){this.g=c}j(si,Iu),si.prototype.ua=function(){Gt(this.g,"a")},si.prototype.ta=function(c){Gt(this.g,new Mu(c))},si.prototype.sa=function(c){Gt(this.g,new Ou)},si.prototype.ra=function(){Gt(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,XE=function(){return new ua},QE=function(){return Ji()},YE=Xn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,qc=es,Ai.COMPLETE="complete",KE=Ai,_o.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",le.prototype.listen=le.prototype.K,wl=_o,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,GE=Ht}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",u_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new hp("@firebase/firestore");function Ba(){return kr.logLevel}function ht(n,...t){if(kr.logLevel<=zt.DEBUG){const i=t.map(dp);kr.debug(`Firestore (${ao}): ${n}`,...i)}}function Yi(n,...t){if(kr.logLevel<=zt.ERROR){const i=t.map(dp);kr.error(`Firestore (${ao}): ${n}`,...i)}}function $a(n,...t){if(kr.logLevel<=zt.WARN){const i=t.map(dp);kr.warn(`Firestore (${ao}): ${n}`,...i)}}function dp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,$E(n,r,i)}function $E(n,t,i){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Yi(r),new Error(r)}function ae(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||$E(t,o,r)}function jt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class MR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class OR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ae(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ms,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ms)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new ZE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class NR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ae(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new c_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Mt(n,t){return n<t?-1:n>t?1:0}function bm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return Mt(r,o);{const u=JE(),h=BR(u.encode(h_(n,i)),u.encode(h_(t,i)));return h!==0?h:Mt(r,o)}}i+=r>65535?2:1}return Mt(n.length,t.length)}function h_(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function BR(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return Mt(n[i],t[i]);return Mt(n.length,t.length)}function Za(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=-62135596800,d_=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(t){return Ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*d_);return new Ue(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<f_)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-f_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ue(0,0))}static max(){return new Rt(new Ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__name__";class hi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Ct(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Ct(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=hi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Mt(t.length,i.length)}static compareSegments(t,i){const r=hi.isNumericId(t),o=hi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?hi.extractNumericId(t).compare(hi.extractNumericId(i)):bm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class ee extends hi{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends hi{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return zR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new We([m_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function jR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(r===1e9?new Ue(i+1,0):new Ue(i,r));return new Ls(o,gt.empty(),t)}function kR(n){return new Ls(n.readTime,n.key,ql)}class Ls{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ls(Rt.min(),gt.empty(),ql)}static max(){return new Ls(Rt.max(),gt.empty(),ql)}}function qR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(n.documentKey,t.documentKey),i!==0?i:Mt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==FR)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,r)=>{i(t)})}static reject(t){return new J((i,r)=>{r(t)})}static waitFor(t){return new J((i,r)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&i()},p=>r(p))}),h=!0,u===o&&i()})}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next(o=>o?J.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new J((r,o)=>{const u=t.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{h[g]=v,++d,d===u&&r(h)},v=>o(v))}})}static doWhile(t,i){return new J((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function GR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Eh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=-1;function Ah(n){return n==null}function Jc(n){return n===0&&1/n==-1/0}function YR(n){return typeof n=="number"&&Number.isInteger(n)&&!Jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="";function QR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=p_(t)),t=XR(n.get(i),t);return p_(t)}function XR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case tA:i+="";break;default:i+=u}}return i}function p_(n){return n+tA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function lo(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function eA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pc(this.root,t,this.comparator,!0)}}class Pc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new He(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(t){return new y_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class y_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Cs([])}unionWith(t){let i=new Ve(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Cs(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nA("Invalid base64 string: "+u):u}}(t);return new Ge(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(ae(!!n,39018),typeof n=="string"){let t=0;const i=$R.exec(n);if(ae(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(n.seconds),nanos:ge(n.nanos)}}function ge(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?Ge.fromBase64String(n):Ge.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="server_timestamp",sA="__type__",rA="__previous_value__",aA="__local_write_time__";function Sh(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[sA])===null||i===void 0?void 0:i.stringValue)===iA}function bh(n){const t=n.mapValue.fields[rA];return Sh(t)?bh(t):t}function Fl(n){const t=Us(n.mapValue.fields[aA].timestampValue);return new Ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i,r,o,u,h,d,p,g){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Wc="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="__type__",JR="__max__",Lc={mapValue:{}},lA="__vector__",th="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sh(n)?4:tC(n)?9007199254740991:WR(n)?10:11:Ct(28295,{value:n})}function vi(n,t){if(n===t)return!0;const i=zs(n);if(i!==zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fl(n).isEqual(Fl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Us(o.timestampValue),d=Us(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return Bs(o.bytesValue).isEqual(Bs(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ge(o.doubleValue),d=ge(u.doubleValue);return h===d?Jc(h)===Jc(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return Za(n.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(g_(h)!==g_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!vi(h[p],d[p])))return!1;return!0}(n,t);default:return Ct(52216,{left:n})}}function Gl(n,t){return(n.values||[]).find(i=>vi(i,t))!==void 0}function Ja(n,t){if(n===t)return 0;const i=zs(n),r=zs(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=ge(u.integerValue||u.doubleValue),p=ge(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return v_(n.timestampValue,t.timestampValue);case 4:return v_(Fl(n),Fl(t));case 5:return bm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=Bs(u),p=Bs(h);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Mt(d[g],p[g]);if(v!==0)return v}return Mt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Mt(ge(u.latitude),ge(h.latitude));return d!==0?d:Mt(ge(u.longitude),ge(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return __(n.arrayValue,t.arrayValue);case 10:return function(u,h){var d,p,g,v;const E=u.fields||{},b=h.fields||{},V=(d=E[th])===null||d===void 0?void 0:d.arrayValue,j=(p=b[th])===null||p===void 0?void 0:p.arrayValue,G=Mt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:__(V,j)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===Lc.mapValue&&h===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(h===Lc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const b=bm(p[E],v[E]);if(b!==0)return b;const V=Ja(d[p[E]],g[v[E]]);if(V!==0)return V}return Mt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw Ct(23264,{Pe:i})}}function v_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Mt(n,t);const i=Us(n),r=Us(t),o=Mt(i.seconds,r.seconds);return o!==0?o:Mt(i.nanos,r.nanos)}function __(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Ja(i[o],r[o]);if(u)return u}return Mt(i.length,r.length)}function Wa(n){return wm(n)}function wm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Us(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Bs(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return gt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=wm(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${wm(i.fields[h])}`;return o+"}"}(n.mapValue):Ct(61005,{value:n})}function Fc(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(n);return t?16+Fc(t):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Fc(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return lo(r.fields,(u,h)=>{o+=u.length+Fc(h)}),o}(n.mapValue);default:throw Ct(13486,{value:n})}}function eh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Rm(n){return!!n&&"integerValue"in n}function mp(n){return!!n&&"arrayValue"in n}function T_(n){return!!n&&"nullValue"in n}function E_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jd(n){return!!n&&"mapValue"in n}function WR(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[oA])===null||i===void 0?void 0:i.stringValue)===lA}function Il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return lo(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Il(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(n.arrayValue.values[i]);return t}return Object.assign({},n)}function tC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.value=t}static empty(){return new fi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Jd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=We.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}h?r[d.lastSegment()]=Il(h):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Jd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){lo(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new fi(Il(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,r,o,u,h,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new Je(t,0,Rt.min(),Rt.min(),Rt.min(),fi.empty(),0)}static newFoundDocument(t,i,r,o){return new Je(t,1,i,Rt.min(),r,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Rt.min(),Rt.min(),fi.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Rt.min(),Rt.min(),fi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,i){this.position=t,this.inclusive=i}}function A_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(h.referenceValue),i.key):r=Ja(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!vi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,i="asc"){this.field=t,this.dir=i}}function eC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{}class Se extends uA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new iC(t,i,r):i==="array-contains"?new aC(t,r):i==="in"?new oC(t,r):i==="not-in"?new lC(t,r):i==="array-contains-any"?new uC(t,r):new Se(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new sC(t,r):new rC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&zs(this.value)===zs(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends uA{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new Yn(t,i)}matches(t){return cA(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cA(n){return n.op==="and"}function hA(n){return nC(n)&&cA(n)}function nC(n){for(const t of n.filters)if(t instanceof Yn)return!1;return!0}function Cm(n){if(n instanceof Se)return n.field.canonicalString()+n.op.toString()+Wa(n.value);if(hA(n))return n.filters.map(t=>Cm(t)).join(",");{const t=n.filters.map(i=>Cm(i)).join(",");return`${n.op}(${t})`}}function fA(n,t){return n instanceof Se?function(r,o){return o instanceof Se&&r.op===o.op&&r.field.isEqual(o.field)&&vi(r.value,o.value)}(n,t):n instanceof Yn?function(r,o){return o instanceof Yn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&fA(h,o.filters[d]),!0):!1}(n,t):void Ct(19439)}function dA(n){return n instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`}(n):n instanceof Yn?function(i){return i.op.toString()+" {"+i.getFilters().map(dA).join(" ,")+"}"}(n):"Filter"}class iC extends Se{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class sC extends Se{constructor(t,i){super(t,"in",i),this.keys=mA("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class rC extends Se{constructor(t,i){super(t,"not-in",i),this.keys=mA("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function mA(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>gt.fromName(r.referenceValue))}class aC extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return mp(i)&&Gl(i.arrayValue,this.value)}}class oC extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class lC extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class uC extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!mp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,i=null,r=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Ie=null}}function b_(n,t=null,i=[],r=[],o=null,u=null,h=null){return new cC(n,t,i,r,o,u,h)}function pp(n){const t=jt(n);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Cm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Wa(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Wa(r)).join(",")),t.Ie=i}return t.Ie}function gp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!eC(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!fA(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!S_(n.startAt,t.startAt)&&S_(n.endAt,t.endAt)}function Dm(n){return gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,i=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hC(n,t,i,r,o,u,h,d){return new Hr(n,t,i,r,o,u,h,d)}function yp(n){return new Hr(n)}function w_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vp(n){return n.collectionGroup!==null}function Ya(n){const t=jt(n);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ve(We.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Kl(u,r))}),i.has(We.keyField().canonicalString())||t.Ee.push(new Kl(We.keyField(),r))}return t.Ee}function mi(n){const t=jt(n);return t.de||(t.de=fC(t,Ya(n))),t.de}function fC(n,t){if(n.limitType==="F")return b_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Kl(o.field,u)});const i=n.endAt?new to(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new to(n.startAt.position,n.startAt.inclusive):null;return b_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Vm(n,t){const i=n.filters.concat([t]);return new Hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function nh(n,t,i){return new Hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function wh(n,t){return gp(mi(n),mi(t))&&n.limitType===t.limitType}function pA(n){return`${pp(mi(n))}|lt:${n.limitType}`}function za(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>dA(o)).join(", ")}]`),Ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>Wa(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>Wa(o)).join(",")),`Target(${r})`}(mi(n))}; limitType=${n.limitType})`}function Rh(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of Ya(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=A_(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,Ya(r),o)||r.endAt&&!function(h,d,p){const g=A_(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,Ya(r),o))}(n,t)}function dC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gA(n){return(t,i)=>{let r=!1;for(const o of Ya(n)){const u=mC(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function mC(n,t,i){const r=n.field.isKeyField()?gt.comparator(t.key,i.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Ja(p,g):Ct(42886)}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){lo(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new ye(gt.comparator);function js(){return pC}const yA=new ye(gt.comparator);function Rl(...n){let t=yA;for(const i of n)t=t.insert(i.key,i);return t}function gC(n){let t=yA;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Mr(){return Ml()}function vA(){return Ml()}function Ml(){return new Gr(n=>n.toString(),(n,t)=>n.isEqual(t))}const yC=new Ve(gt.comparator);function kt(...n){let t=yC;for(const i of n)t=t.add(i);return t}const vC=new Ve(Mt);function _C(){return vC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function _A(n){return{integerValue:""+n}}function TC(n,t){return YR(t)?_A(t):_p(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function EC(n,t,i){return n instanceof xm?function(o,u){const h={fields:{[sA]:{stringValue:iA},[aA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sh(u)&&(u=bh(u)),u&&(h.fields[rA]=u),{mapValue:h}}(i,t):n instanceof ih?TA(n,t):n instanceof sh?EA(n,t):function(o,u){const h=SC(o,u),d=R_(h)+R_(o.Re);return Rm(h)&&Rm(o.Re)?_A(d):_p(o.serializer,d)}(n,t)}function AC(n,t,i){return n instanceof ih?TA(n,t):n instanceof sh?EA(n,t):i}function SC(n,t){return n instanceof Im?function(r){return Rm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class xm extends Ch{}class ih extends Ch{constructor(t){super(),this.elements=t}}function TA(n,t){const i=AA(t);for(const r of n.elements)i.some(o=>vi(o,r))||i.push(r);return{arrayValue:{values:i}}}class sh extends Ch{constructor(t){super(),this.elements=t}}function EA(n,t){let i=AA(t);for(const r of n.elements)i=i.filter(o=>!vi(o,r));return{arrayValue:{values:i}}}class Im extends Ch{constructor(t,i){super(),this.serializer=t,this.Re=i}}function R_(n){return ge(n.integerValue||n.doubleValue)}function AA(n){return mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function bC(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof ih&&o instanceof ih||r instanceof sh&&o instanceof sh?Za(r.elements,o.elements,vi):r instanceof Im&&o instanceof Im?vi(r.Re,o.Re):r instanceof xm&&o instanceof xm}(n.transform,t.transform)}class Br{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Br}static exists(t){return new Br(void 0,t)}static updateTime(t){return new Br(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Tp{}function SA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new RC(n.key,Br.none()):new Ep(n.key,n.data,Br.none());{const i=n.data,r=fi.empty();let o=new Ve(We.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Dh(n.key,r,new Cs(o.toArray()),Br.none())}}function wC(n,t,i){n instanceof Ep?function(o,u,h){const d=o.value.clone(),p=D_(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,i):n instanceof Dh?function(o,u,h){if(!Hc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=D_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function Ol(n,t,i,r){return n instanceof Ep?function(u,h,d,p){if(!Hc(u.precondition,h))return d;const g=u.value.clone(),v=V_(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof Dh?function(u,h,d,p){if(!Hc(u.precondition,h))return d;const g=V_(u.fieldTransforms,p,h),v=h.data;return v.setAll(bA(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,h,d){return Hc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,i)}function C_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,(u,h)=>bC(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ep extends Tp{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dh extends Tp{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bA(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function D_(n,t,i){const r=new Map;ae(n.length===i.length,32656,{Ve:i.length,me:n.length});for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);r.set(u.field,AC(h,d,i[o]))}return r}function V_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,EC(u,h,t))}return r}class RC extends Tp{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&wC(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ol(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ol(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=vA();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(o.key)?null:d;const p=SA(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),kt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,(i,r)=>C_(i,r))&&Za(this.baseMutations,t.baseMutations,(i,r)=>C_(i,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Bt;function wA(n){if(n===void 0)return Yi("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ae.OK:return et.OK;case Ae.CANCELLED:return et.CANCELLED;case Ae.UNKNOWN:return et.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return et.INTERNAL;case Ae.UNAVAILABLE:return et.UNAVAILABLE;case Ae.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ae.NOT_FOUND:return et.NOT_FOUND;case Ae.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ae.ABORTED:return et.ABORTED;case Ae.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ae.DATA_LOSS:return et.DATA_LOSS;default:return Ct(39323,{code:n})}}(Bt=Ae||(Ae={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Is([4294967295,4294967295],0);function x_(n){const t=JE().encode(n),i=new HE;return i.update(t),new Uint8Array(i.digest())}function I_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Is([i,r],0),new Is([o,u],0)]}class Ap{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Is.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(Is.fromNumber(r)));return o.compare(xC)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=x_(t),[r,o]=I_(i);for(let u=0;u<this.hashCount;u++){const h=this.we(r,o,u);if(!this.be(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Ap(u,o,i);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.pe===0)return;const i=x_(t),[r,o]=I_(i);for(let u=0;u<this.hashCount;u++){const h=this.we(r,o,u);this.Se(h)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Vh(Rt.min(),o,new ye(Mt),js(),kt())}}class iu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new iu(r,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class RA{constructor(t,i){this.targetId=t,this.Ce=i}}class CA{constructor(t,i,r=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class M_{constructor(){this.Fe=0,this.Me=O_(),this.xe=Ge.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=kt(),i=kt(),r=kt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ct(38017,{changeType:u})}}),new iu(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=O_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class IC{constructor(t){this.ze=t,this.je=new Map,this.He=js(),this.Je=Uc(),this.Ye=Uc(),this.Ze=new ye(Mt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:Ct(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(Dm(u))if(r===0){const h=new gt(u.path);this.tt(i,h,Je.newNoDocument(h,Rt.min()))}else ae(r===1,20013,{expectedCount:r});else{const h=this.ut(i);if(h!==r){const d=this.ct(t),p=d?this.lt(d,t,h):1;if(p!==0){this.st(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,d;try{h=Bs(r).toUint8Array()}catch(p){if(p instanceof nA)return $a("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ap(h,o,u)}catch(p){return $a(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,h)=>{const d=this._t(h);if(d){if(u.current&&Dm(d.target)){const p=new gt(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Je.newNoDocument(p,t))}u.Le&&(i.set(h,u.qe()),u.Qe())}});let r=kt();this.Ye.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new Vh(t,i,this.Ze,this.He,r);return this.He=js(),this.Je=Uc(),this.Ye=Uc(),this.Ze=new ye(Mt),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new M_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Ve(Mt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new M_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function Uc(){return new ye(gt.comparator)}function O_(){return new ye(gt.comparator)}const MC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NC={and:"AND",or:"OR"};class PC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Mm(n,t){return n.useProto3Json||Ah(t)?t:{value:t}}function Om(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Qa(n){return ae(!!n,49232),Rt.fromTimestamp(function(i){const r=Us(i);return new Ue(r.seconds,r.nanos)}(n))}function VA(n,t){return Nm(n,t).canonicalString()}function Nm(n,t){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function xA(n){const t=ee.fromString(n);return ae(PA(t),10190,{key:t.toString()}),t}function Wd(n,t){const i=xA(t);if(i.get(1)!==n.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new gt(MA(i))}function IA(n,t){return VA(n.databaseId,t)}function LC(n){const t=xA(n);return t.length===4?ee.emptyPath():MA(t)}function N_(n){return new ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MA(n){return ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function UC(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(ae(v===void 0||typeof v=="string",58123),Ge.fromBase64String(v||"")):(ae(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ge.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const v=g.code===void 0?et.UNKNOWN:wA(g.code);return new ct(v,g.message||"")}(h);i=new CA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wd(n,r.document.name),u=Qa(r.document.updateTime),h=r.document.createTime?Qa(r.document.createTime):Rt.min(),d=new fi({mapValue:{fields:r.document.fields}}),p=Je.newFoundDocument(o,u,h,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Gc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Wd(n,r.document),u=r.readTime?Qa(r.readTime):Rt.min(),h=Je.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Gc([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Wd(n,r.document),u=r.removedTargetIds||[];i=new Gc([],u,o,null)}else{if(!("filter"in t))return Ct(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new VC(o,u),d=r.targetId;i=new RA(d,h)}}return i}function BC(n,t){return{documents:[IA(n,t.path)]}}function zC(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=IA(n,o);const u=function(g){if(g.length!==0)return NA(Yn.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:ja(b.field),direction:qC(b.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const d=Mm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function jC(n){let t=LC(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ae(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const b=OA(E);return b instanceof Yn&&hA(b)?b.getFilters():[b]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(b=>function(j){return new Kl(ka(j.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(b))}(i.orderBy));let d=null;i.limit&&(d=function(E){let b;return b=typeof E=="object"?E.value:E,Ah(b)?null:b}(i.limit));let p=null;i.startAt&&(p=function(E){const b=!!E.before,V=E.values||[];return new to(V,b)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const b=!E.before,V=E.values||[];return new to(V,b)}(i.endAt)),hC(t,o,h,u,d,"F",p,g)}function kC(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OA(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ka(i.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ka(i.unaryFilter.field);return Se.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ka(i.unaryFilter.field);return Se.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(n):n.fieldFilter!==void 0?function(i){return Se.create(ka(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Yn.create(i.compositeFilter.filters.map(r=>OA(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(i.compositeFilter.op))}(n):Ct(30097,{filter:n})}function qC(n){return MC[n]}function FC(n){return OC[n]}function HC(n){return NC[n]}function ja(n){return{fieldPath:n.canonicalString()}}function ka(n){return We.fromServerFormat(n.fieldPath)}function NA(n){return n instanceof Se?function(i){if(i.op==="=="){if(E_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(T_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(E_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(T_(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:FC(i.op),value:i.value}}}(n):n instanceof Yn?function(i){const r=i.getFilters().map(o=>NA(o));return r.length===1?r[0]:{compositeFilter:{op:HC(i.op),filters:r}}}(n):Ct(54877,{filter:n})}function PA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,i,r,o,u=Rt.min(),h=Rt.min(),d=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.wt=t}}function KC(n){const t=jC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.yn=new QC}addToCollectionParentIndex(t,i){return this.yn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ls.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ls.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class QC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ve(ee.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(LA,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new eo(0)}static ir(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="LruGarbageCollector",XC=1048576;function U_([n,t],[i,r]){const o=Mt(n,i);return o===0?Mt(t,r):o}class $C{constructor(t){this.cr=t,this.buffer=new Ve(U_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();U_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ht(L_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?ht(L_,"Ignoring IndexedDB error during garbage collection: ",i):await Th(i)}await this.Ir(3e5)})}}class JC{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Eh.le);const r=new $C(i);return this.Er.forEachTarget(t,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.Er.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(P_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let r,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Ba()<=zt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function WC(n,t){return new JC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new Gr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Ol(r.mutation,o,Cs.empty(),Ue.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,kt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=kt()){const o=Mr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let h=Rl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const r=Mr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,kt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{i.set(h,d)})})}computeViews(t,i,r,o){let u=js();const h=Ml(),d=function(){return Ml()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Dh)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Ol(v.mutation,g,v.mutation.getFieldMask(),Ue.now())):h.set(g.key,Cs.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new eD(v,(E=h.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const r=Ml();let o=new ye((h,d)=>h-d),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Cs.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||kt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=vA();v.forEach(b=>{if(!u.has(b)){const V=SA(i.get(b),r.get(b));V!==null&&E.set(b,V),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):vp(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):J.resolve(Mr());let d=ql,p=u;return h.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,kt())).next(v=>({batchId:d,changes:gC(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next(r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=Rl();return this.indexManager.getCollectionParents(t,u).next(d=>J.forEach(d,p=>{const g=function(E,b){return new Hr(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,b)=>{h=h.insert(E,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Je.newInvalidDocument(v)))});let d=Rl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Ol(v.mutation,g,Cs.empty(),Ue.now()),Rh(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return J.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Qa(o.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:KC(o.bundledQuery),readTime:Qa(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.overlays=new ye(gt.comparator),this.Or=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Mr();return J.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Mr(),u=i.length+1,h=new gt(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ye((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Mr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Mr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return J.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new DC(i,r));let u=this.Or.get(i);u===void 0&&(u=kt(),this.Or.set(i,u)),this.Or.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Nr=new Ve(Le.Br),this.Lr=new Ve(Le.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Qr(new Le(t,i))}$r(t,i){t.forEach(r=>this.removeReference(r,i))}Ur(t){const i=new gt(new ee([])),r=new Le(i,t),o=new Le(i,t+1),u=[];return this.Lr.forEachInRange([r,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new gt(new ee([])),r=new Le(i,t),o=new Le(i,t+1);let u=kt();return this.Lr.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Le(t,0),r=this.Nr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return gt.comparator(t.key,i.key)||Mt(t.Gr,i.Gr)}static kr(t,i){return Mt(t.Gr,i.Gr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Ve(Le.Br)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CC(u,i,r,o);this.mutationQueue.push(h);for(const d of o)this.zr=this.zr.add(new Le(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(t,i){return J.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Hr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?KR:this.Jn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([r,o],h=>{const d=this.jr(h.Gr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(Mt);return i.forEach(o=>{const u=new Le(o,0),h=new Le(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],d=>{r=r.add(d.Gr)})}),J.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const h=new Le(new gt(u),0);let d=new Ve(Mt);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Gr)),!0)},h),J.resolve(this.Jr(d))}Jr(t){const i=[];return t.forEach(r=>{const o=this.jr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){ae(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return J.forEach(i.mutations,o=>{const u=new Le(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,i){const r=new Le(i,0),o=this.zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.Zr=t,this.docs=function(){return new ye(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.Zr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=js();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))}),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=js();const h=i.path,d=new gt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||qR(kR(v),r)<=0||(o.has(v.key)||Rh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Ct(9500)}Xr(t,i){return J.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new lD(this)}getSize(t){return J.resolve(this.size)}}class lD extends tD{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(t,o)):this.vr.removeEntry(r)}),J.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.persistence=t,this.ei=new Gr(i=>pp(i),gp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sp,this.targetCount=0,this.ri=eo.rr()}forEachTarget(t,i){return this.ei.forEach((r,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ti&&(this.ti=i),J.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.ar(i),J.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ei.forEach((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.ei.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this.ni.qr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this.ni.$r(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ni.Wr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,i){this.ii={},this.overlays={},this.si=new Eh(0),this.oi=!1,this.oi=!0,this._i=new rD,this.referenceDelegate=t(this),this.ai=new uD(this),this.indexManager=new YC,this.remoteDocumentCache=function(o){return new oD(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new GC(i),this.ci=new iD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ii[t.toKey()];return r||(r=new aD(i,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,r){ht("MemoryPersistence","Starting transaction:",t);const o=new cD(this.si.next());return this.referenceDelegate.li(),r(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,i){return J.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,i)))}}class cD extends HR{constructor(t){super(),this.currentSequenceNumber=t}}class bp{constructor(t){this.persistence=t,this.Ti=new Sp,this.Ii=null}static Ei(t){return new bp(t)}get di(){if(this.Ii)return this.Ii;throw Ct(60996)}addReference(t,i,r){return this.Ti.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ti.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,r=>{const o=gt.fromPath(r);return this.Ai(t,o).next(u=>{u||i.removeEntry(o,Rt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return J.or([()=>J.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.Ri=new Gr(r=>QR(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=WC(this,i)}static Ei(t,i){return new rh(t,i)}li(){}hi(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}Vr(t){let i=0;return this.Ar(t,r=>{i++}).next(()=>i)}Ar(t,i){return J.forEach(this.Ri,(r,o)=>this.gr(t,r,o).next(u=>u?J.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,h=>this.gr(t,h,i).next(d=>{d||(r++,u.removeEntry(h,Rt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),J.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Fc(t.data.value)),i}gr(t,i,r){return J.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.Ri.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ls=r,this.hs=o}static Ps(t,i){let r=kt(),o=kt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return d2()?8:GR(c2())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.Rs(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(t,i,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new hD;return this.fs(t,i,h).next(d=>{if(u.result=d,this.Is)return this.gs(t,i,h,d.size)})}).next(()=>u.result)}gs(t,i,r,o){return r.documentReadCount<this.Es?(Ba()<=zt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),J.resolve()):(Ba()<=zt.DEBUG&&ht("QueryEngine","Query:",za(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ba()<=zt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(i))):J.resolve())}Rs(t,i){if(w_(i))return J.resolve(null);let r=mi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=nh(i,null,"F"),r=mi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=kt(...u);return this.As.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.ps(i,d);return this.ys(i,g,h,p.readTime)?this.Rs(t,nh(i,null,"F")):this.ws(t,g,i,p)}))})))}Vs(t,i,r,o){return w_(i)||o.isEqual(Rt.min())?J.resolve(null):this.As.getDocuments(t,r).next(u=>{const h=this.ps(i,u);return this.ys(i,h,r,o)?J.resolve(null):(Ba()<=zt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.ws(t,h,i,jR(o,ql)).next(d=>d))})}ps(t,i){let r=new Ve(gA(t));return i.forEach((o,u)=>{Rh(t,u)&&(r=r.add(u))}),r}ys(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,i,r){return Ba()<=zt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",za(i)),this.As.getDocumentsMatchingQuery(t,i,Ls.min(),r)}ws(t,i,r,o){return this.As.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="LocalStore",dD=3e8;class mD{constructor(t,i,r,o){this.persistence=t,this.bs=i,this.serializer=o,this.Ss=new ye(Mt),this.Ds=new Gr(u=>pp(u),gp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function pD(n,t,i,r){return new mD(n,t,i,r)}async function BA(n,t){const i=jt(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Fs(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=kt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:d}))})})}function zA(n){const t=jt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function gD(n,t){const i=jt(n),r=t.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const d=[];t.targetChanges.forEach((v,E)=>{const b=o.get(E);if(!b)return;d.push(i.ai.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.ai.addMatchingKeys(u,v.addedDocuments,E)));let V=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken(Ge.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,r)),o=o.insert(E,V),function(G,H,X){return G.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=dD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(b,V,v)&&d.push(i.ai.updateTargetData(u,V))});let p=js(),g=kt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(yD(u,h,t.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!r.isEqual(Rt.min())){const v=i.ai.getLastRemoteSnapshotVersion(u).next(E=>i.ai.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ss=o,u))}function yD(n,t,i){let r=kt(),o=kt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let h=js();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):ht(Rp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:h,Os:o}})}function vD(n,t){const i=jt(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.ai.getTargetData(r,t).next(u=>u?(o=u,J.resolve(o)):i.ai.allocateTargetId(r).next(h=>(o=new Ds(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(r.targetId,r),i.Ds.set(t,r.targetId)),r})}async function Pm(n,t,i){const r=jt(n),o=r.Ss.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!oo(h))throw h;ht(Rp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(o.target)}function B_(n,t,i){const r=jt(n);let o=Rt.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const E=jt(p),b=E.Ds.get(v);return b!==void 0?J.resolve(E.Ss.get(b)):E.ai.getTargetData(g,v)}(r,h,mi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.bs.getDocumentsMatchingQuery(h,t,i?o:Rt.min(),i?u:kt())).next(d=>(_D(r,dC(t),d),{documents:d,Ns:u})))}function _D(n,t,i){let r=n.vs.get(t)||Rt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.vs.set(t,r)}class z_{constructor(){this.activeTargetIds=_C()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TD{constructor(){this.So=new z_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,r){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new z_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="ConnectivityMonitor";class k_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ht(j_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ht(j_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Lm(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",AD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SD{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(t,i,r,o,u){const h=Lm(),d=this.$o(t,i.toUriEncodedString());ht(tm,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(t,d,p,r).then(g=>(ht(tm,`Received RPC '${t}' ${h}: `,g),g),g=>{throw $a(tm,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",r),g})}Wo(t,i,r,o,u,h){return this.Qo(t,i,r,o,u)}Uo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}$o(t,i){const r=AD[t];return`${this.Lo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class wD extends SD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,r,o){const u=Lm();return new Promise((h,d)=>{const p=new GE;p.setWithCredentials(!0),p.listenOnce(KE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const v=p.getResponseJson();ht(Xe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case qc.TIMEOUT:ht(Xe,`RPC '${t}' ${u} timed out`),d(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const E=p.getStatus();if(ht(Xe,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b==null?void 0:b.error;if(V&&V.status&&V.message){const j=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(X)>=0?X:et.UNKNOWN}(V.status);d(new ct(j,V.message))}else d(new ct(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{s_:t,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ht(Xe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ht(Xe,`RPC '${t}' ${u} sending request:`,o),p.send(i,"POST",g,r,15)})}a_(t,i,r){const o=Lm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=XE(),d=QE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ht(Xe,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);let b=!1,V=!1;const j=new bD({Go:H=>{V?ht(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(b||(ht(Xe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),b=!0),ht(Xe,`RPC '${t}' stream ${o} sending:`,H),E.send(H))},zo:()=>E.close()}),G=(H,X,st)=>{H.listen(X,Z=>{try{st(Z)}catch(ot){setTimeout(()=>{throw ot},0)}})};return G(E,wl.EventType.OPEN,()=>{V||(ht(Xe,`RPC '${t}' stream ${o} transport opened.`),j.t_())}),G(E,wl.EventType.CLOSE,()=>{V||(V=!0,ht(Xe,`RPC '${t}' stream ${o} transport closed`),j.r_())}),G(E,wl.EventType.ERROR,H=>{V||(V=!0,$a(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.r_(new ct(et.UNAVAILABLE,"The operation could not be completed")))}),G(E,wl.EventType.MESSAGE,H=>{var X;if(!V){const st=H.data[0];ae(!!st,16349);const Z=st,ot=(Z==null?void 0:Z.error)||((X=Z[0])===null||X===void 0?void 0:X.error);if(ot){ht(Xe,`RPC '${t}' stream ${o} received error:`,ot);const nt=ot.status;let ft=function(C){const M=Ae[C];if(M!==void 0)return wA(M)}(nt),I=ot.message;ft===void 0&&(ft=et.INTERNAL,I="Unknown error status: "+nt+" with message "+ot.message),V=!0,j.r_(new ct(ft,I)),E.close()}else ht(Xe,`RPC '${t}' stream ${o} received:`,st),j.i_(st)}}),G(d,YE.STAT_EVENT,H=>{H.stat===Sm.PROXY?ht(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Sm.NOPROXY&&ht(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.n_()},0),j}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n){return new PC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,i,r=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=i,this.u_=r,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="PersistentStream";class RD{constructor(t,i,r,o,u,h,d,p){this.bi=t,this.R_=r,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new jA(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===i&&this.B_(r,o)},r=>{t(()=>{const o=new ct(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(t,i){const r=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ht(q_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(ht(q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CD extends RD{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=UC(this.serializer,t),r=function(u){if(!("targetChange"in u))return Rt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Rt.min():h.readTime?Qa(h.readTime):Rt.min()}(t);return this.listener.Q_(i,r)}U_(t){const i={};i.database=N_(this.serializer),i.addTarget=function(u,h){let d;const p=h.target;if(d=Dm(p)?{documents:BC(u,p)}:{query:zC(u,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=DA(u,h.resumeToken);const g=Mm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Om(u,h.snapshotVersion.toTimestamp());const g=Mm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=kC(this.serializer,t);r&&(i.labels=r),this.F_(i)}K_(t){const i={};i.database=N_(this.serializer),i.removeTarget=t,this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{}class VD extends DD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(t,Nm(i,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(et.UNKNOWN,u.toString())})}Wo(t,i,r,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(t,Nm(i,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(et.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class xD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Yi(i),this.ea=!1):ht("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class ID{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{r.enqueueAndForget(async()=>{ru(this)&&(ht(no,"Restarting streams for network reachability change."),await async function(p){const g=jt(p);g.aa.add(4),await su(g),g.la.set("Unknown"),g.aa.delete(4),await Ih(g)}(this))})}),this.la=new xD(r,o)}}async function Ih(n){if(ru(n))for(const t of n.ua)await t(!0)}async function su(n){for(const t of n.ua)await t(!1)}function kA(n,t){const i=jt(n);i._a.has(t.targetId)||(i._a.set(t.targetId,t),xp(i)?Vp(i):uo(i).b_()&&Dp(i,t))}function Cp(n,t){const i=jt(n),r=uo(i);i._a.delete(t),r.b_()&&qA(i,t),i._a.size===0&&(r.b_()?r.v_():ru(i)&&i.la.set("Unknown"))}function Dp(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(n).U_(t)}function qA(n,t){n.ha.Ke(t),uo(n).K_(t)}function Vp(n){n.ha=new IC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),uo(n).start(),n.la.ta()}function xp(n){return ru(n)&&!uo(n).w_()&&n._a.size>0}function ru(n){return jt(n).aa.size===0}function FA(n){n.ha=void 0}async function MD(n){n.la.set("Online")}async function OD(n){n._a.forEach((t,i)=>{Dp(n,t)})}async function ND(n,t){FA(n),xp(n)?(n.la.ia(t),Vp(n)):n.la.set("Unknown")}async function PD(n,t,i){if(n.la.set("Online"),t instanceof CA&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o._a.delete(d),o.ha.removeTarget(d))}(n,t)}catch(r){ht(no,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await F_(n,r)}else if(t instanceof Gc?n.ha.Xe(t):t instanceof RA?n.ha.ot(t):n.ha.nt(t),!i.isEqual(Rt.min()))try{const r=await zA(n.localStore);i.compareTo(r)>=0&&await function(u,h){const d=u.ha.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u._a.get(g);v&&u._a.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u._a.get(p);if(!v)return;u._a.set(p,v.withResumeToken(Ge.EMPTY_BYTE_STRING,v.snapshotVersion)),qA(u,p);const E=new Ds(v.target,p,g,v.sequenceNumber);Dp(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){ht(no,"Failed to raise snapshot:",r),await F_(n,r)}}async function F_(n,t,i){if(!oo(t))throw t;n.aa.add(1),await su(n),n.la.set("Offline"),i||(i=()=>zA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(no,"Retrying IndexedDB access"),await i(),n.aa.delete(1),await Ih(n)})}async function H_(n,t){const i=jt(n);i.asyncQueue.verifyOperationInProgress(),ht(no,"RemoteStore received new credentials");const r=ru(i);i.aa.add(3),await su(i),r&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Ih(i)}async function LD(n,t){const i=jt(n);t?(i.aa.delete(2),await Ih(i)):t||(i.aa.add(2),await su(i),i.la.set("Unknown"))}function uo(n){return n.Pa||(n.Pa=function(i,r,o){const u=jt(i);return u.Y_(),new CD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:MD.bind(null,n),Jo:OD.bind(null,n),Zo:ND.bind(null,n),Q_:PD.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),xp(n)?Vp(n):n.la.set("Unknown")):(await n.Pa.stop(),FA(n))})),n.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,d=new Ip(t,i,h,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HA(n,t){if(Yi("AsyncQueue",`${t}: ${n}`),oo(n))return new ct(et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Rl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.Ia=new ye(gt.comparator)}track(t){const i=t.doc.key,r=this.Ia.get(i);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(i):t.type===1&&r.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):Ct(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,r)=>{t.push(r)}),t}}class io{constructor(t,i,r,o,u,h,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach(d=>{h.push({type:0,doc:d})}),new io(t,i,Xa.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class BD{constructor(){this.queries=K_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,r){const o=jt(i),u=o.queries;o.queries=K_(),u.forEach((h,d)=>{for(const p of d.Ra)p.onError(r)})})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function K_(){return new Gr(n=>pA(n),wh)}async function GA(n,t){const i=jt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Va()&&t.ma()&&(r=2):(u=new UD,r=t.ma()?0:1);try{switch(r){case 0:u.Aa=await i.onListen(o,!0);break;case 1:u.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const d=HA(h,`Initialization of query '${za(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Ra.push(t),t.ga(i.onlineState),u.Aa&&t.pa(u.Aa)&&Mp(i)}async function KA(n,t){const i=jt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.Ra.indexOf(t);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function zD(n,t){const i=jt(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const d of h.Ra)d.pa(o)&&(r=!0);h.Aa=o}}r&&Mp(i)}function jD(n,t,i){const r=jt(n),o=r.queries.get(t);if(o)for(const u of o.Ra)u.onError(i);r.queries.delete(t)}function Mp(n){n.fa.forEach(t=>{t.next()})}var Um,Y_;(Y_=Um||(Um={})).ya="default",Y_.Cache="cache";class YA{constructor(t,i,r){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new io(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const r=i!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.key=t}}class XA{constructor(t){this.key=t}}class kD{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=kt(),this.mutatedKeys=kt(),this.Ua=gA(t),this.Ka=new Xa(this.Ua)}get Wa(){return this.qa}Ga(t,i){const r=i?i.za:new G_,o=i?i.Ka:this.Ka;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const b=o.get(v),V=Rh(this.query,E)?E:null,j=!!b&&this.mutatedKeys.has(b.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;b&&V?b.data.isEqual(V.data)?j!==G&&(r.track({type:3,doc:V}),H=!0):this.ja(b,V)||(r.track({type:2,doc:V}),H=!0,(p&&this.Ua(V,p)>0||g&&this.Ua(V,g)<0)&&(d=!0)):!b&&V?(r.track({type:0,doc:V}),H=!0):b&&!V&&(r.track({type:1,doc:b}),H=!0,(p||g)&&(d=!0)),H&&(V?(h=h.add(V),u=G?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{Ka:h,za:r,ys:d,mutatedKeys:u}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const h=t.za.da();h.sort((v,E)=>function(V,j){const G=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Vt:H})}};return G(V)-G(j)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(r),o=o!=null&&o;const d=i&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,h.length!==0||g?{snapshot:new io(this.query,t.Ka,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new G_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=kt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const i=[];return t.forEach(r=>{this.$a.has(r)||i.push(new XA(r))}),this.$a.forEach(r=>{t.has(r)||i.push(new QA(r))}),i}Xa(t){this.qa=t.Ns,this.$a=kt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return io.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Op="SyncEngine";class qD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class FD{constructor(t){this.key=t,this.tu=!1}}class HD{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Gr(d=>pA(d),wh),this.iu=new Map,this.su=new Set,this.ou=new ye(gt.comparator),this._u=new Map,this.au=new Sp,this.uu={},this.cu=new Map,this.lu=eo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function GD(n,t,i=!0){const r=tS(n);let o;const u=r.ru.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await $A(r,t,i,!0),o}async function KD(n,t){const i=tS(n);await $A(i,t,!0,!1)}async function $A(n,t,i,r){const o=await vD(n.localStore,mi(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await YD(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&kA(n.remoteStore,o),d}async function YD(n,t,i,r,o){n.Pu=(E,b,V)=>async function(G,H,X,st){let Z=H.view.Ga(X);Z.ys&&(Z=await B_(G.localStore,H.query,!1).then(({documents:I})=>H.view.Ga(I,Z)));const ot=st&&st.targetChanges.get(H.targetId),nt=st&&st.targetMismatches.get(H.targetId)!=null,ft=H.view.applyChanges(Z,G.isPrimaryClient,ot,nt);return X_(G,H.targetId,ft.Ya),ft.snapshot}(n,E,b,V);const u=await B_(n.localStore,t,!0),h=new kD(t,u.Ns),d=h.Ga(u.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);X_(n,i,g.Ya);const v=new qD(t,i,h);return n.ru.set(t,v),n.iu.has(i)?n.iu.get(i).push(t):n.iu.set(i,[t]),g.snapshot}async function QD(n,t,i){const r=jt(n),o=r.ru.get(t),u=r.iu.get(o.targetId);if(u.length>1)return r.iu.set(o.targetId,u.filter(h=>!wh(h,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Cp(r.remoteStore,o.targetId),Bm(r,o.targetId)}).catch(Th)):(Bm(r,o.targetId),await Pm(r.localStore,o.targetId,!0))}async function XD(n,t){const i=jt(n),r=i.ru.get(t),o=i.iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Cp(i.remoteStore,r.targetId))}async function ZA(n,t){const i=jt(n);try{const r=await gD(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i._u.get(u);h&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?ae(h.tu,14607):o.removedDocuments.size>0&&(ae(h.tu,42227),h.tu=!1))}),await WA(i,r,t)}catch(r){await Th(r)}}function Q_(n,t,i){const r=jt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ru.forEach((u,h)=>{const d=h.view.ga(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=jt(h);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const b of E.Ra)b.ga(d)&&(g=!0)}),g&&Mp(p)}(r.eventManager,t),o.length&&r.nu.Q_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $D(n,t,i){const r=jt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r._u.get(t),u=o&&o.key;if(u){let h=new ye(gt.comparator);h=h.insert(u,Je.newNoDocument(u,Rt.min()));const d=kt().add(u),p=new Vh(Rt.min(),new Map,new ye(Mt),h,d);await ZA(r,p),r.ou=r.ou.remove(u),r._u.delete(t),Np(r)}else await Pm(r.localStore,t,!1).then(()=>Bm(r,t,i)).catch(Th)}function Bm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.iu.get(t))n.ru.delete(r),i&&n.nu.Tu(r,i);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(r=>{n.au.containsKey(r)||JA(n,r)})}function JA(n,t){n.su.delete(t.path.canonicalString());const i=n.ou.get(t);i!==null&&(Cp(n.remoteStore,i),n.ou=n.ou.remove(t),n._u.delete(i),Np(n))}function X_(n,t,i){for(const r of i)r instanceof QA?(n.au.addReference(r.key,t),ZD(n,r)):r instanceof XA?(ht(Op,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,t),n.au.containsKey(r.key)||JA(n,r.key)):Ct(19791,{Iu:r})}function ZD(n,t){const i=t.key,r=i.path.canonicalString();n.ou.get(i)||n.su.has(r)||(ht(Op,"New document in limbo: "+i),n.su.add(r),Np(n))}function Np(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const i=new gt(ee.fromString(t)),r=n.lu.next();n._u.set(r,new FD(i)),n.ou=n.ou.insert(i,r),kA(n.remoteStore,new Ds(mi(yp(i.path)),r,"TargetPurposeLimboResolution",Eh.le))}}async function WA(n,t,i){const r=jt(n),o=[],u=[],h=[];r.ru.isEmpty()||(r.ru.forEach((d,p)=>{h.push(r.Pu(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=wp.Ps(p.targetId,g);u.push(E)}}))}),await Promise.all(h),r.nu.Q_(o),await async function(p,g){const v=jt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,b=>J.forEach(b.ls,V=>v.persistence.referenceDelegate.addReference(E,b.targetId,V)).next(()=>J.forEach(b.hs,V=>v.persistence.referenceDelegate.removeReference(E,b.targetId,V)))))}catch(E){if(!oo(E))throw E;ht(Rp,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const V=v.Ss.get(b),j=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(j);v.Ss=v.Ss.insert(b,G)}}}(r.localStore,u))}async function JD(n,t){const i=jt(n);if(!i.currentUser.isEqual(t)){ht(Op,"User change. New user:",t.toKey());const r=await BA(i.localStore,t);i.currentUser=t,function(u,h){u.cu.forEach(d=>{d.forEach(p=>{p.reject(new ct(et.CANCELLED,h))})}),u.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await WA(i,r.Ms)}}function WD(n,t){const i=jt(n),r=i._u.get(t);if(r&&r.tu)return kt().add(r.key);{let o=kt();const u=i.iu.get(t);if(!u)return o;for(const h of u){const d=i.ru.get(h);o=o.unionWith(d.view.Wa)}return o}}function tS(n){const t=jt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$D.bind(null,t),t.nu.Q_=zD.bind(null,t.eventManager),t.nu.Tu=jD.bind(null,t.eventManager),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return pD(this.persistence,new fD,t.initialUser,this.serializer)}Ru(t){return new UA(bp.Ei,this.serializer)}Au(t){return new TD}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class tV extends ah{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){ae(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZC(r,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new UA(r=>rh.Ei(r,i),this.serializer)}}class zm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JD.bind(null,this.syncEngine),await LD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new BD}()}createDatastore(t){const i=xh(t.databaseInfo.databaseId),r=function(u){return new wD(u)}(t.databaseInfo);return function(u,h,d,p){return new VD(u,h,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,h,d){return new ID(r,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,i=>Q_(this.syncEngine,i,0),function(){return k_.C()?new k_:new ED}())}createSyncEngine(t,i){return function(o,u,h,d,p,g,v){const E=new HD(o,u,h,d,p,g);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=jt(o);ht(no,"RemoteStore shutting down."),u.aa.add(5),await su(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class eV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=WE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{ht(ks,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(ht(ks,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=HA(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function nm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(ks,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await BA(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function $_(n,t){n.asyncQueue.verifyOperationInProgress();const i=await nV(n);ht(ks,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>H_(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>H_(t.remoteStore,o)),n._onlineComponents=t}async function nV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(ks,"Using user provided OfflineComponentProvider");try{await nm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await nm(n,new ah)}}else ht(ks,"Using default OfflineComponentProvider"),await nm(n,new tV(void 0));return n._offlineComponents}async function iV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(ks,"Using user provided OnlineComponentProvider"),await $_(n,n._uninitializedComponentsProvider._online)):(ht(ks,"Using default OnlineComponentProvider"),await $_(n,new zm))),n._onlineComponents}async function nS(n){const t=await iV(n),i=t.eventManager;return i.onListen=GD.bind(null,t.syncEngine),i.onUnlisten=QD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XD.bind(null,t.syncEngine),i}function sV(n,t,i={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new eS({next:b=>{v.yu(),h.enqueueAndForget(()=>KA(u,E));const V=b.docs.has(d);!V&&b.fromCache?g.reject(new ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&b.fromCache&&p&&p.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new YA(yp(d.path),v,{includeMetadataChanges:!0,Fa:!0});return GA(u,E)}(await nS(n),n.asyncQueue,t,i,r)),r.promise}function rV(n,t,i={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new eS({next:b=>{v.yu(),h.enqueueAndForget(()=>KA(u,E)),b.fromCache&&p.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new YA(d,v,{includeMetadataChanges:!0,Fa:!0});return GA(u,E)}(await nS(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,t,i){if(!i)throw new ct(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function aV(n,t,i,r){if(t===!0&&r===!0)throw new ct(et.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function J_(n){if(!gt.isDocumentKey(n))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W_(n){if(gt.isDocumentKey(n))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ct(12329,{type:typeof n})}function Yl(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mh(n);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firestore.googleapis.com",tT=!0;class eT{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rS,this.ssl=tT}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:tT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XC)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=Z_.get(i);r&&(ht("ComponentProvider","Removing Datastore"),Z_.delete(i),r.terminate())}(this),Promise.resolve()}}function oV(n,t,i,r={}){var o;const u=(n=Yl(n,Oh))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${i}`;u.host!==rS&&u.host!==d&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:r});if(!jl(p,h)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Ze.MOCK_USER;else{g=u2(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ze(E)}n._authCredentials=new MR(new ZE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new $i(this.firestore,t,this._query)}}class An{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new An(this.firestore,t,this._key)}}class Os extends $i{constructor(t,i,r){super(t,i,yp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new An(this.firestore,null,new gt(t))}withConverter(t){return new Os(this.firestore,t,this._path)}}function jm(n,t,...i){if(n=Ns(n),sS("collection","path",t),n instanceof Oh){const r=ee.fromString(t,...i);return W_(r),new Os(n,null,r)}{if(!(n instanceof An||n instanceof Os))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return W_(r),new Os(n.firestore,null,r)}}function oh(n,t,...i){if(n=Ns(n),arguments.length===1&&(t=WE.newId()),sS("doc","path",t),n instanceof Oh){const r=ee.fromString(t,...i);return J_(r),new An(n,null,new gt(r))}{if(!(n instanceof An||n instanceof Os))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return J_(r),new An(n.firestore,n instanceof Os?n.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="AsyncQueue";class iT{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new jA(this,"async_queue_retry"),this.ju=()=>{const r=em();r&&ht(nT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Ms;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!oo(t))throw t;ht(nT,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Yi("INTERNAL UNHANDLED ERROR: ",sT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=i,i}enqueueAfterDelay(t,i,r){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const o=Ip.createAndSchedule(this,t,i,r,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ct(47125,{ec:sT(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function sT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Pp extends Oh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new iT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iT(t),this._firestoreClient=void 0,await t}}}function lV(n,t){const i=typeof n=="object"?n:kE(),r=typeof n=="string"?n:Wc,o=nu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=o2("firestore");u&&oV(o,...u)}return o}function aS(n){if(n._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uV(n),n._firestoreClient}function uV(n){var t,i,r;const o=n._freezeSettings(),u=function(d,p,g,v){return new ZR(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,iS(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new eV(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this._byteString=t}static fromBase64String(t){try{return new so(Ge.fromBase64String(t))}catch(i){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new so(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/^__.*__$/;function uS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{oc:n})}}class Bp{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Bp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:r,cc:!1});return o.lc(t),o}hc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return km(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(uS(this.oc)&&cV.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class hV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||xh(t)}dc(t,i,r,o=!1){return new Bp({oc:t,methodName:i,Ec:r,path:We.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cS(n){const t=n._freezeSettings(),i=xh(n._databaseId);return new hV(n._databaseId,!!t.ignoreUndefinedProperties,i)}function hS(n,t,i,r=!1){return zp(i,n.dc(r?4:3,t))}function zp(n,t){if(fS(n=Ns(n)))return dV("Unsupported field value:",t,n),fV(n,t);if(n instanceof lS)return function(r,o){if(!uS(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=zp(d,o.Pc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(n,t)}return function(r,o){if((r=Ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ue.fromDate(r);return{timestampValue:Om(o.serializer,u)}}if(r instanceof Ue){const u=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Om(o.serializer,u)}}if(r instanceof Lp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:DA(o.serializer,r._byteString)};if(r instanceof An){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:VA(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Up)return function(h,d){return{mapValue:{fields:{[oA]:{stringValue:lA},[th]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return _p(d.serializer,g)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${Mh(r)}`)}(n,t)}function fV(n,t){const i={};return eA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lo(n,(r,o)=>{const u=zp(o,t.uc(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function fS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof Lp||n instanceof so||n instanceof An||n instanceof lS||n instanceof Up)}function dV(n,t,i){if(!fS(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=Mh(i);throw r==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+r)}}const mV=new RegExp("[~\\*/\\[\\]]");function pV(n,t,i){if(t.search(mV)>=0)throw km(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new oS(...t.split("."))._internalPath}catch{throw km(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function km(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new ct(et.INVALID_ARGUMENT,d+n+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(kp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class gV extends jp{data(){return super.data()}}function kp(n,t){return typeof t=="string"?pV(n,t):t instanceof oS?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class Nh extends qp{}function vV(n,t,...i){let r=[];t instanceof qp&&r.push(t),r=r.concat(i),function(u){const h=u.filter(p=>p instanceof Hp).length,d=u.filter(p=>p instanceof Fp).length;if(h>1||h>0&&d>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Fp extends Nh{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Fp(t,i,r)}_apply(t){const i=this._parse(t);return dS(t._query,i),new $i(t.firestore,t.converter,Vm(t._query,i))}_parse(t){const i=cS(t.firestore);return function(u,h,d,p,g,v,E){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){aT(E,v);const j=[];for(const G of E)j.push(rT(p,u,G));b={arrayValue:{values:j}}}else b=rT(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||aT(E,v),b=hS(d,h,E,v==="in"||v==="not-in");return Se.create(g,v,b)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Hp extends qp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Hp(t,i)}_parse(t){const i=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)dS(h,p),h=Vm(h,p)}(t._query,i),new $i(t.firestore,t.converter,Vm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends Nh{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Gp(t,i)}_apply(t){const i=function(o,u,h){if(o.startAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,h)}(t._query,this._field,this._direction);return new $i(t.firestore,t.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Hr(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))}}function _V(n,t="asc"){const i=t,r=kp("orderBy",n);return Gp._create(r,i)}class Kp extends Nh{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new Kp(t,i,r)}_apply(t){return new $i(t.firestore,t.converter,nh(t._query,this._limit,this._limitType))}}function TV(n){return Kp._create("limit",n,"F")}class Yp extends Nh{constructor(t,i,r){super(),this.type=t,this._docOrFields=i,this._inclusive=r}static _create(t,i,r){return new Yp(t,i,r)}_apply(t){const i=AV(t,this.type,this._docOrFields,this._inclusive);return new $i(t.firestore,t.converter,function(o,u){return new Hr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(t._query,i))}}function EV(...n){return Yp._create("startAfter",n,!1)}function AV(n,t,i,r){if(i[0]=Ns(i[0]),i[0]instanceof jp)return function(u,h,d,p,g){if(!p)throw new ct(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const E of Ya(u))if(E.field.isKeyField())v.push(eh(h,p.key));else{const b=p.data.field(E.field);if(Sh(b))throw new ct(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const V=E.field.canonicalString();throw new ct(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}v.push(b)}return new to(v,g)}(n._query,n.firestore._databaseId,t,i[0]._document,r);{const o=cS(n.firestore);return function(h,d,p,g,v,E){const b=h.explicitOrderBy;if(v.length>b.length)throw new ct(et.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let j=0;j<v.length;j++){const G=v[j];if(b[j].field.isKeyField()){if(typeof G!="string")throw new ct(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!vp(h)&&G.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const H=h.path.child(ee.fromString(G));if(!gt.isDocumentKey(H))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const X=new gt(H);V.push(eh(d,X))}else{const H=hS(p,g,G);V.push(H)}}return new to(V,E)}(n._query,n.firestore._databaseId,o,t,i,r)}}function rT(n,t,i){if(typeof(i=Ns(i))=="string"){if(i==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(t)&&i.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ee.fromString(i));if(!gt.isDocumentKey(r))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eh(n,new gt(r))}if(i instanceof An)return eh(n,i._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(i)}.`)}function aT(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dS(n,t){const i=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class SV{convertValue(t,i="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return lo(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[th].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>ge(h.doubleValue));return new Up(u)}convertGeoPoint(t){return new Lp(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=bh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const i=Us(t);return new Ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);ae(PA(r),9688,{name:t});const o=new Hl(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(i)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mS extends jp{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(kp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Kc extends mS{data(t={}){return super.data(t)}}class bV{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Dl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new Kc(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Kc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Kc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:wV(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function wV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n){n=Yl(n,An);const t=Yl(n.firestore,Pp);return sV(aS(t),n._key).then(i=>RV(t,n,i))}class pS extends SV{constructor(t){super(),this.firestore=t}convertBytes(t){return new so(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,i)}}function qm(n){n=Yl(n,$i);const t=Yl(n.firestore,Pp),i=aS(t),r=new pS(t);return yV(n._query),rV(i,n._query).then(o=>new bV(t,r,n,o))}function RV(n,t,i){const r=i.docs.get(t._key),o=new pS(n);return new mS(n,o,t._key,r,new Dl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){ao=o})(TR),Ps(new Gi("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new Pp(new OR(r.getProvider("auth-internal")),new LR(h,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),di(l_,u_,t),di(l_,u_,"esm2017")})();var CV="firebase",DV="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(CV,DV,"app");const gS="@firebase/installations",Qp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=1e4,vS=`w:${Qp}`,_S="FIS_v2",VV="https://firebaseinstallations.googleapis.com/v1",xV=60*60*1e3,IV="installations",MV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qr=new _h(IV,MV,OV);function TS(n){return n instanceof Hs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES({projectId:n}){return`${VV}/projects/${n}/installations`}function AS(n){return{token:n.token,requestStatus:2,expiresIn:PV(n.expiresIn),creationTime:Date.now()}}async function SS(n,t){const r=(await t.json()).error;return qr.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function NV(n,{refreshToken:t}){const i=bS(n);return i.append("Authorization",LV(t)),i}async function wS(n){const t=await n();return t.status>=500&&t.status<600?n():t}function PV(n){return Number(n.replace("s","000"))}function LV(n){return`${_S} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=ES(n),o=bS(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:_S,appId:n.appId,sdkVersion:vS},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await wS(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:AS(g.authToken)}}else throw await SS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=/^[cdef][\w-]{21}$/,Fm="";function jV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=kV(n);return zV.test(i)?i:Fm}catch{return Fm}}function kV(n){return BV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;function DS(n,t){const i=Ph(n);VS(i,t),qV(i,t)}function VS(n,t){const i=CS.get(n);if(i)for(const r of i)r(t)}function qV(n,t){const i=FV();i&&i.postMessage({key:n,fid:t}),HV()}let Or=null;function FV(){return!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=n=>{VS(n.data.key,n.data.fid)}),Or}function HV(){CS.size===0&&Or&&(Or.close(),Or=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firebase-installations-database",KV=1,Fr="firebase-installations-store";let im=null;function Xp(){return im||(im=zE(GV,KV,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Fr)}}})),im}async function uh(n,t){const i=Ph(n),o=(await Xp()).transaction(Fr,"readwrite"),u=o.objectStore(Fr),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&DS(n,t.fid),t}async function xS(n){const t=Ph(n),r=(await Xp()).transaction(Fr,"readwrite");await r.objectStore(Fr).delete(t),await r.done}async function Lh(n,t){const i=Ph(n),o=(await Xp()).transaction(Fr,"readwrite"),u=o.objectStore(Fr),h=await u.get(i),d=t(h);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!h||h.fid!==d.fid)&&DS(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(n){let t;const i=await Lh(n.appConfig,r=>{const o=YV(r),u=QV(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Fm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function YV(n){const t=n||{fid:jV(),registrationStatus:0};return IS(t)}function QV(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(qr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=XV(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:$V(n)}:{installationEntry:t}}async function XV(n,t){try{const i=await UV(n,t);return uh(n.appConfig,i)}catch(i){throw TS(i)&&i.customData.serverCode===409?await xS(n.appConfig):await uh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function $V(n){let t=await oT(n.appConfig);for(;t.registrationStatus===1;)await RS(100),t=await oT(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await $p(n);return r||i}return t}function oT(n){return Lh(n,t=>{if(!t)throw qr.create("installation-not-found");return IS(t)})}function IS(n){return ZV(n)?{fid:n.fid,registrationStatus:0}:n}function ZV(n){return n.registrationStatus===1&&n.registrationTime+yS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV({appConfig:n,heartbeatServiceProvider:t},i){const r=WV(n,i),o=NV(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:vS,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await wS(()=>fetch(r,d));if(p.ok){const g=await p.json();return AS(g)}else throw await SS("Generate Auth Token",p)}function WV(n,{fid:t}){return`${ES(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(n,t=!1){let i;const r=await Lh(n.appConfig,u=>{if(!MS(u))throw qr.create("not-registered");const h=u.authToken;if(!t&&nx(h))return u;if(h.requestStatus===1)return i=tx(n,t),u;{if(!navigator.onLine)throw qr.create("app-offline");const d=sx(u);return i=ex(n,d),d}});return i?await i:r.authToken}async function tx(n,t){let i=await lT(n.appConfig);for(;i.authToken.requestStatus===1;)await RS(100),i=await lT(n.appConfig);const r=i.authToken;return r.requestStatus===0?Zp(n,t):r}function lT(n){return Lh(n,t=>{if(!MS(t))throw qr.create("not-registered");const i=t.authToken;return rx(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function ex(n,t){try{const i=await JV(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await uh(n.appConfig,r),i}catch(i){if(TS(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await xS(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await uh(n.appConfig,r)}throw i}}function MS(n){return n!==void 0&&n.registrationStatus===2}function nx(n){return n.requestStatus===2&&!ix(n)}function ix(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+xV}function sx(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function rx(n){return n.requestStatus===1&&n.requestTime+yS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(n){const t=n,{installationEntry:i,registrationPromise:r}=await $p(t);return r?r.catch(console.error):Zp(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(n,t=!1){const i=n;return await lx(i),(await Zp(i,t)).token}async function lx(n){const{registrationPromise:t}=await $p(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){if(!n||!n.options)throw sm("App Configuration");if(!n.name)throw sm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw sm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function sm(n){return qr.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="installations",cx="installations-internal",hx=n=>{const t=n.getProvider("app").getImmediate(),i=ux(t),r=nu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fx=n=>{const t=n.getProvider("app").getImmediate(),i=nu(t,OS).getImmediate();return{getId:()=>ax(i),getToken:o=>ox(i,o)}};function dx(){Ps(new Gi(OS,hx,"PUBLIC")),Ps(new Gi(cx,fx,"PRIVATE"))}dx();di(gS,Qp);di(gS,Qp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="analytics",mx="firebase_id",px="origin",gx=60*1e3,yx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new hp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new _h("analytics","Analytics",vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(n){if(!n.startsWith(Jp)){const t=Sn.create("invalid-gtag-resource",{gtagURL:n});return fn.warn(t.message),""}return n}function NS(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function Tx(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function Ex(n,t){const i=Tx("firebase-js-sdk-policy",{createScriptURL:_x}),r=document.createElement("script"),o=`${Jp}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Ax(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function Sx(n,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const p=(await NS(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){fn.error(d)}n("config",o,u)}async function bx(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await NS(i);for(const p of h){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){fn.error(u)}}function wx(n,t,i,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await bx(n,t,i,d,p)}else if(u==="config"){const[d,p]=h;await Sx(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=h;n("consent",d,p)}else if(u==="get"){const[d,p,g]=h;n("get",d,p,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){fn.error(d)}}return o}function Rx(n,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=wx(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function Cx(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Jp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=30,Vx=1e3;class xx{constructor(t={},i=Vx){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const PS=new xx;function Ix(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Mx(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:Ix(r)},u=yx.replace("{app-id}",i),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function Ox(n,t=PS,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Sn.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Lx;return setTimeout(async()=>{d.abort()},gx),LS({appId:r,apiKey:o,measurementId:u},h,d,t)}async function LS(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=PS){var u;const{appId:h,measurementId:d}=n;try{await Nx(r,t)}catch(p){if(d)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await Mx(n);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!Px(g)){if(o.deleteThrottleMetadata(h),d)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?J0(i,o.intervalMillis,Dx):J0(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(h,E),fn.debug(`Calling attemptFetch again in ${v} millis`),LS(n,E,r,o)}}function Nx(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Px(n){if(!(n instanceof Hs)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class Lx{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Ux(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,h=Object.assign(Object.assign({},r),{send_to:u});n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(){if(PE())try{await LE()}catch(n){return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zx(n,t,i,r,o,u,h){var d;const p=Ox(n);p.then(V=>{i[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>fn.error(V)),t.push(p);const g=Bx().then(V=>{if(V)return r.getId()}),[v,E]=await Promise.all([p,g]);Cx(u)||Ex(u,v.measurementId),o("js",new Date);const b=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return b[px]="firebase",b.update=!0,E!=null&&(b[mx]=E),o("config",v.measurementId,b),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t){this.app=t}_delete(){return delete Nl[this.app.options.appId],Promise.resolve()}}let Nl={},uT=[];const cT={};let rm="dataLayer",kx="gtag",hT,US,fT=!1;function qx(){const n=[];if(f2()&&n.push("This is a browser extension environment."),m2()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=Sn.create("invalid-analytics-context",{errorInfo:t});fn.warn(i.message)}}function Fx(n,t,i){qx();const r=n.options.appId;if(!r)throw Sn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(Nl[r]!=null)throw Sn.create("already-exists",{id:r});if(!fT){Ax(rm);const{wrappedGtag:u,gtagCore:h}=Rx(Nl,uT,cT,rm,kx);US=u,hT=h,fT=!0}return Nl[r]=zx(n,uT,cT,t,hT,rm,i),new jx(n)}function Hx(n=kE()){n=Ns(n);const t=nu(n,ch);return t.isInitialized()?t.getImmediate():Gx(n)}function Gx(n,t={}){const i=nu(n,ch);if(i.isInitialized()){const o=i.getImmediate();if(jl(t,i.getOptions()))return o;throw Sn.create("already-initialized")}return i.initialize({options:t})}function Kx(n,t,i,r){n=Ns(n),Ux(US,Nl[n.app.options.appId],t,i,r).catch(o=>fn.error(o))}const dT="@firebase/analytics",mT="0.10.12";function Yx(){Ps(new Gi(ch,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return Fx(r,o,i)},"PUBLIC")),Ps(new Gi("analytics-internal",n,"PRIVATE")),di(dT,mT),di(dT,mT,"esm2017");function n(t){try{const i=t.getProvider(ch).getImmediate();return{logEvent:(r,o,u)=>Kx(i,r,o,u)}}catch(i){throw Sn.create("interop-component-reg-failed",{reason:i})}}}Yx();const Qx={apiKey:"AIzaSyDQvvRrnLaotAF32qtVJ8UUDflq2_f8UbM",authDomain:"vinyl-collection-a201a.firebaseapp.com",projectId:"vinyl-collection-a201a",storageBucket:"vinyl-collection-a201a.firebasestorage.app",messagingSenderId:"1028885539181",appId:"1:1028885539181:web:4d928efef3608fda399264",measurementId:"G-LSBHM95N5S"},BS=jE(Qx);Hx(BS);const Nr=lV(BS),zS=mt.createContext({});function Xx(n){const t=mt.useRef(null);return t.current===null&&(t.current=n()),t.current}const Wp=typeof window<"u",$x=Wp?mt.useLayoutEffect:mt.useEffect,tg=mt.createContext(null),jS=mt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Zx(n=!0){const t=mt.useContext(tg);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=mt.useId();mt.useEffect(()=>{if(n)return o(u)},[n]);const h=mt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}function eg(n,t){n.indexOf(t)===-1&&n.push(t)}function ng(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Qi=(n,t,i)=>i>t?t:i<n?n:i;let ig=()=>{};const Xi={},kS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),qS=n=>/^0[^.\s]+$/u.test(n);function sg(n){let t;return()=>(t===void 0&&(t=n()),t)}const zn=n=>n,Jx=(n,t)=>i=>t(n(i)),au=(...n)=>n.reduce(Jx),Ql=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class rg{constructor(){this.subscriptions=[]}add(t){return eg(this.subscriptions,t),()=>ng(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pi=n=>n*1e3,gi=n=>n/1e3;function FS(n,t){return t?n*(1e3/t):0}const HS=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,Wx=1e-7,tI=12;function eI(n,t,i,r,o){let u,h,d=0;do h=t+(i-t)/2,u=HS(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>Wx&&++d<tI);return h}function ou(n,t,i,r){if(n===t&&i===r)return zn;const o=u=>eI(u,0,1,n,i);return u=>u===0||u===1?u:HS(o(u),t,r)}const GS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,KS=n=>t=>1-n(1-t),YS=ou(.33,1.53,.69,.99),ag=KS(YS),QS=GS(ag),XS=n=>(n*=2)<1?.5*ag(n):.5*(2-Math.pow(2,-10*(n-1))),og=n=>1-Math.sin(Math.acos(n)),$S=KS(og),ZS=GS(og),nI=ou(.42,0,1,1),iI=ou(0,0,.58,1),JS=ou(.42,0,.58,1),sI=n=>Array.isArray(n)&&typeof n[0]!="number",WS=n=>Array.isArray(n)&&typeof n[0]=="number",rI={linear:zn,easeIn:nI,easeInOut:JS,easeOut:iI,circIn:og,circInOut:ZS,circOut:$S,backIn:ag,backInOut:QS,backOut:YS,anticipate:XS},aI=n=>typeof n=="string",pT=n=>{if(WS(n)){ig(n.length===4);const[t,i,r,o]=n;return ou(t,i,r,o)}else if(aI(n))return rI[n];return n},zc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gT={value:null};function oI(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){h.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,b=!1,V=!1)=>{const G=V&&o?i:r;return b&&h.add(E),G.has(E)||G.add(E),E},cancel:E=>{r.delete(E),h.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&gT.value&&gT.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const lI=40;function t1(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=zc.reduce((Z,ot)=>(Z[ot]=oI(u,t?ot:void 0),Z),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:b,render:V,postRender:j}=h,G=()=>{const Z=Xi.useManualTiming?o.timestamp:performance.now();i=!1,Xi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Z-o.timestamp,lI),1)),o.timestamp=Z,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),b.process(o),V.process(o),j.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(G))},H=()=>{i=!0,r=!0,o.isProcessing||n(G)};return{schedule:zc.reduce((Z,ot)=>{const nt=h[ot];return Z[ot]=(ft,I=!1,w=!1)=>(i||H(),nt.schedule(ft,I,w)),Z},{}),cancel:Z=>{for(let ot=0;ot<zc.length;ot++)h[zc[ot]].cancel(Z)},state:o,steps:h}}const{schedule:oe,cancel:qs,state:Fe,steps:am}=t1(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Yc;function uI(){Yc=void 0}const hn={now:()=>(Yc===void 0&&hn.set(Fe.isProcessing||Xi.useManualTiming?Fe.timestamp:performance.now()),Yc),set:n=>{Yc=n,queueMicrotask(uI)}},e1=n=>t=>typeof t=="string"&&t.startsWith(n),lg=e1("--"),cI=e1("var(--"),ug=n=>cI(n)?hI.test(n.split("/*")[0].trim()):!1,hI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,co={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Xl={...co,transform:n=>Qi(0,1,n)},jc={...co,default:1},Pl=n=>Math.round(n*1e5)/1e5,cg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fI(n){return n==null}const dI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hg=(n,t)=>i=>!!(typeof i=="string"&&dI.test(i)&&i.startsWith(n)||t&&!fI(i)&&Object.prototype.hasOwnProperty.call(i,t)),n1=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,d]=r.match(cg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},mI=n=>Qi(0,255,n),om={...co,transform:n=>Math.round(mI(n))},Pr={test:hg("rgb","red"),parse:n1("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+om.transform(n)+", "+om.transform(t)+", "+om.transform(i)+", "+Pl(Xl.transform(r))+")"};function pI(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Hm={test:hg("#"),parse:pI,transform:Pr.transform},lu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Rs=lu("deg"),yi=lu("%"),St=lu("px"),gI=lu("vh"),yI=lu("vw"),yT={...yi,parse:n=>yi.parse(n)/100,transform:n=>yi.transform(n*100)},qa={test:hg("hsl","hue"),parse:n1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+yi.transform(Pl(t))+", "+yi.transform(Pl(i))+", "+Pl(Xl.transform(r))+")"},$e={test:n=>Pr.test(n)||Hm.test(n)||qa.test(n),parse:n=>Pr.test(n)?Pr.parse(n):qa.test(n)?qa.parse(n):Hm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Pr.transform(n):qa.transform(n)},vI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _I(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(cg))==null?void 0:t.length)||0)+(((i=n.match(vI))==null?void 0:i.length)||0)>0}const i1="number",s1="color",TI="var",EI="var(",vT="${}",AI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $l(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(AI,p=>($e.test(p)?(r.color.push(u),o.push(s1),i.push($e.parse(p))):p.startsWith(EI)?(r.var.push(u),o.push(TI),i.push(p)):(r.number.push(u),o.push(i1),i.push(parseFloat(p))),++u,vT)).split(vT);return{values:i,split:d,indexes:r,types:o}}function r1(n){return $l(n).values}function a1(n){const{split:t,types:i}=$l(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const d=i[h];d===i1?u+=Pl(o[h]):d===s1?u+=$e.transform(o[h]):u+=o[h]}return u}}const SI=n=>typeof n=="number"?0:n;function bI(n){const t=r1(n);return a1(n)(t.map(SI))}const Fs={test:_I,parse:r1,createTransformer:a1,getAnimatableNone:bI};function lm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function wI({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=lm(p,d,n+1/3),u=lm(p,d,n),h=lm(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function hh(n,t){return i=>i>0?t:n}const re=(n,t,i)=>n+(t-n)*i,um=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},RI=[Hm,Pr,qa],CI=n=>RI.find(t=>t.test(n));function _T(n){const t=CI(n);if(!t)return!1;let i=t.parse(n);return t===qa&&(i=wI(i)),i}const TT=(n,t)=>{const i=_T(n),r=_T(t);if(!i||!r)return hh(n,t);const o={...i};return u=>(o.red=um(i.red,r.red,u),o.green=um(i.green,r.green,u),o.blue=um(i.blue,r.blue,u),o.alpha=re(i.alpha,r.alpha,u),Pr.transform(o))},Gm=new Set(["none","hidden"]);function DI(n,t){return Gm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function VI(n,t){return i=>re(n,t,i)}function fg(n){return typeof n=="number"?VI:typeof n=="string"?ug(n)?hh:$e.test(n)?TT:MI:Array.isArray(n)?o1:typeof n=="object"?$e.test(n)?TT:xI:hh}function o1(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>fg(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function xI(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=fg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function II(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=n.indexes[u][r[u]],d=n.values[h]??0;i[o]=d,r[u]++}return i}const MI=(n,t)=>{const i=Fs.createTransformer(t),r=$l(n),o=$l(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Gm.has(n)&&!o.values.length||Gm.has(t)&&!r.values.length?DI(n,t):au(o1(II(r,o),o.values),i):hh(n,t)};function l1(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?re(n,t,i):fg(n)(n,t)}const OI=n=>{const t=({timestamp:i})=>n(i);return{start:()=>oe.update(t,!0),stop:()=>qs(t),now:()=>Fe.isProcessing?Fe.timestamp:hn.now()}},u1=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=n(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},fh=2e4;function dg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<fh;)t+=i,r=n.next(t);return t>=fh?1/0:t}function NI(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(dg(r),fh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:gi(o)}}const PI=5;function c1(n,t,i){const r=Math.max(t-PI,0);return FS(i-n(r),t-r)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ET=.001;function LI({duration:n=he.duration,bounce:t=he.bounce,velocity:i=he.velocity,mass:r=he.mass}){let o,u,h=1-t;h=Qi(he.minDamping,he.maxDamping,h),n=Qi(he.minDuration,he.maxDuration,gi(n)),h<1?(o=g=>{const v=g*h,E=v*n,b=v-i,V=Km(g,h),j=Math.exp(-E);return ET-b/V*j},u=g=>{const E=g*h*n,b=E*i+i,V=Math.pow(h,2)*Math.pow(g,2)*n,j=Math.exp(-E),G=Km(Math.pow(g,2),h);return(-o(g)+ET>0?-1:1)*((b-V)*j)/G}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=BI(o,u,d);if(n=pi(n),isNaN(p))return{stiffness:he.stiffness,damping:he.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const UI=12;function BI(n,t,i){let r=i;for(let o=1;o<UI;o++)r=r-n(r)/t(r);return r}function Km(n,t){return n*Math.sqrt(1-t*t)}const zI=["duration","bounce"],jI=["stiffness","damping","mass"];function AT(n,t){return t.some(i=>n[i]!==void 0)}function kI(n){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...n};if(!AT(n,jI)&&AT(n,zI))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:he.mass,stiffness:o,damping:u}}else{const i=LI(n);t={...t,...i,mass:he.mass},t.isResolvedFromDuration=!0}return t}function dh(n=he.visualDuration,t=he.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:b,isResolvedFromDuration:V}=kI({...i,velocity:-gi(i.velocity||0)}),j=b||0,G=g/(2*Math.sqrt(p*v)),H=h-u,X=gi(Math.sqrt(p/v)),st=Math.abs(H)<5;r||(r=st?he.restSpeed.granular:he.restSpeed.default),o||(o=st?he.restDelta.granular:he.restDelta.default);let Z;if(G<1){const nt=Km(X,G);Z=ft=>{const I=Math.exp(-G*X*ft);return h-I*((j+G*X*H)/nt*Math.sin(nt*ft)+H*Math.cos(nt*ft))}}else if(G===1)Z=nt=>h-Math.exp(-X*nt)*(H+(j+X*H)*nt);else{const nt=X*Math.sqrt(G*G-1);Z=ft=>{const I=Math.exp(-G*X*ft),w=Math.min(nt*ft,300);return h-I*((j+G*X*H)*Math.sinh(w)+nt*H*Math.cosh(w))/nt}}const ot={calculatedDuration:V&&E||null,next:nt=>{const ft=Z(nt);if(V)d.done=nt>=E;else{let I=nt===0?j:0;G<1&&(I=nt===0?pi(j):c1(Z,nt,ft));const w=Math.abs(I)<=r,C=Math.abs(h-ft)<=o;d.done=w&&C}return d.value=d.done?h:ft,d},toString:()=>{const nt=Math.min(dg(ot),fh),ft=u1(I=>ot.next(nt*I).value,nt,30);return nt+"ms "+ft},toTransition:()=>{}};return ot}dh.applyToOptions=n=>{const t=NI(n,100,dh);return n.ease=t.ease,n.duration=pi(t.duration),n.type="keyframes",n};function Ym({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],b={done:!1,value:E},V=w=>d!==void 0&&w<d||p!==void 0&&w>p,j=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let G=i*t;const H=E+G,X=h===void 0?H:h(H);X!==H&&(G=X-E);const st=w=>-G*Math.exp(-w/r),Z=w=>X+st(w),ot=w=>{const C=st(w),M=Z(w);b.done=Math.abs(C)<=g,b.value=b.done?X:M};let nt,ft;const I=w=>{V(b.value)&&(nt=w,ft=dh({keyframes:[b.value,j(b.value)],velocity:c1(Z,w,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:w=>{let C=!1;return!ft&&nt===void 0&&(C=!0,ot(w),I(w)),nt!==void 0&&w>=nt?ft.next(w-nt):(!C&&ot(w),b)}}}function qI(n,t,i){const r=[],o=i||Xi.mix||l1,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||zn:t;d=au(p,d)}r.push(d)}return r}function FI(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(ig(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=qI(t,r,o),p=d.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const b=Ql(n[E],n[E+1],v);return d[E](b)};return i?v=>g(Qi(n[0],n[u-1],v)):g}function HI(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Ql(0,t,r);n.push(re(i,1,o))}}function GI(n){const t=[0];return HI(t,n.length-1),t}function KI(n,t){return n.map(i=>i*t)}function YI(n,t){return n.map(()=>t||JS).splice(0,n.length-1)}function Ll({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=sI(r)?r.map(pT):pT(r),u={done:!1,value:t[0]},h=KI(i&&i.length===t.length?i:GI(t),n),d=FI(h,t,{ease:Array.isArray(o)?o:YI(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const QI=n=>n!==null;function mg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(QI),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const XI={decay:Ym,inertia:Ym,tween:Ll,keyframes:Ll,spring:dh};function h1(n){typeof n.type=="string"&&(n.type=XI[n.type])}class pg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const $I=n=>n/100;class f1 extends pg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;if(i&&i.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;h1(t);const{type:i=Ll,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=t;let{keyframes:d}=t;const p=i||Ll;p!==Ll&&typeof d[0]!="number"&&(this.mixKeyframes=au($I,l1(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=dg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:b,repeatDelay:V,type:j,onUpdate:G,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),st=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Z=this.currentTime,ot=r;if(E){const w=Math.min(this.currentTime,o)/d;let C=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(b==="reverse"?(M=1-M,V&&(M-=V/d)):b==="mirror"&&(ot=h)),Z=Qi(0,1,M)*d}const nt=st?{done:!1,value:v[0]}:ot.next(Z);u&&(nt.value=u(nt.value));let{done:ft}=nt;!st&&p!==null&&(ft=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ft);return I&&j!==Ym&&(nt.value=mg(v,this.options,H,this.speed)),G&&G(nt.value),I&&this.finish(),nt}then(t,i){return this.finished.then(t,i)}get duration(){return gi(this.calculatedDuration)}get time(){return gi(this.currentTime)}set time(t){t=pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=OI,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function ZI(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Lr=n=>n*180/Math.PI,Qm=n=>{const t=Lr(Math.atan2(n[1],n[0]));return Xm(t)},JI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Qm,rotateZ:Qm,skewX:n=>Lr(Math.atan(n[1])),skewY:n=>Lr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Xm=n=>(n=n%360,n<0&&(n+=360),n),ST=Qm,bT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),wT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),WI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bT,scaleY:wT,scale:n=>(bT(n)+wT(n))/2,rotateX:n=>Xm(Lr(Math.atan2(n[6],n[5]))),rotateY:n=>Xm(Lr(Math.atan2(-n[2],n[0]))),rotateZ:ST,rotate:ST,skewX:n=>Lr(Math.atan(n[4])),skewY:n=>Lr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function RT(n){return n.includes("scale")?1:0}function $m(n,t){if(!n||n==="none")return RT(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=WI,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JI,o=d}if(!o)return RT(t);const u=r[t],h=o[1].split(",").map(eM);return typeof u=="function"?u(h):h[u]}const tM=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return $m(i,t)};function eM(n){return parseFloat(n.trim())}const ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(ho),CT=n=>n===co||n===St,nM=new Set(["x","y","z"]),iM=ho.filter(n=>!nM.has(n));function sM(n){const t=[];return iM.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const zr={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>$m(t,"x"),y:(n,{transform:t})=>$m(t,"y")};zr.translateX=zr.x;zr.translateY=zr.y;const jr=new Set;let Zm=!1,Jm=!1,Wm=!1;function d1(){if(Jm){const n=Array.from(jr).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=sM(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{var d;(d=r.getValue(u))==null||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jm=!1,Zm=!1,jr.forEach(n=>n.complete(Wm)),jr.clear()}function m1(){jr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Jm=!0)})}function rM(){Wm=!0,m1(),d1(),Wm=!1}class gg{constructor(t,i,r,o,u,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(jr.add(this),Zm||(Zm=!0,oe.read(m1),oe.resolveKeyframes(d1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,h);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=h),o&&u===void 0&&o.set(t[0])}ZI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,jr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const aM=n=>n.startsWith("--");function oM(n,t,i){aM(t)?n.style.setProperty(t,i):n.style[t]=i}const lM=sg(()=>window.ScrollTimeline!==void 0),uM={};function cM(n,t){const i=sg(n);return()=>uM[t]??i()}const p1=cM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,DT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function g1(n,t){if(n)return typeof n=="function"?p1()?u1(n,t):"ease-out":WS(n)?Vl(n):Array.isArray(n)?n.map(i=>g1(i,t)||DT.easeOut):DT[n]}function hM(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=g1(d,o);Array.isArray(E)&&(v.easing=E);const b={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(v,b)}function y1(n){return typeof n=="function"&&"applyToOptions"in n}function fM({type:n,...t}){return y1(n)&&p1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dM extends pg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,ig(typeof t.type!="string");const g=fM(t);this.animation=hM(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=mg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):oM(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return gi(Number(t))}get time(){return gi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lM()?(this.animation.timeline=t,zn):i(this)}}const v1={anticipate:XS,backInOut:QS,circInOut:ZS};function mM(n){return n in v1}function pM(n){typeof n.ease=="string"&&mM(n.ease)&&(n.ease=v1[n.ease])}const VT=10;class gM extends dM{constructor(t){pM(t),h1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new f1({...h,autoplay:!1}),p=pi(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-VT).value,d.sample(p).value,VT),d.stop()}}const xT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Fs.test(n)||n==="0")&&!n.startsWith("url("));function yM(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function vM(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=xT(o,t),d=xT(u,t);return!h||!d?!1:yM(n)||(i==="spring"||y1(i))&&r}const _M=new Set(["opacity","clipPath","filter","transform"]),TM=sg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function EM(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=n;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return TM()&&i&&_M.has(i)&&(i!=="transform"||!p)&&!d&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const AM=40;class SM extends pg{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){var j;super(),this.stop=()=>{var G,H;this._animation?(this._animation.stop(),(G=this.stopTimeline)==null||G.call(this)):(H=this.keyframeResolver)==null||H.cancel()},this.createdAt=hn.now();const b={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,name:p,motionValue:g,element:v,...E},V=(v==null?void 0:v.KeyframeResolver)||gg;this.keyframeResolver=new V(d,(G,H,X)=>this.onKeyframesResolved(G,H,b,!X),p,g,v),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=hn.now(),vM(t,u,h,d)||((Xi.instantAnimations||!p)&&(v==null||v(mg(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>AM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},V=!g&&EM(b)?new gM({...b,element:b.motionValue.owner.current}):new f1(b);V.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||rM(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const bM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wM(n){const t=bM.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function _1(n,t,i=1){const[r,o]=wM(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return kS(h)?parseFloat(h):h}return ug(o)?_1(o,t,i+1):o}function yg(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const T1=new Set(["width","height","top","left","right","bottom",...ho]),RM={test:n=>n==="auto",parse:n=>n},E1=n=>t=>t.test(n),A1=[co,St,yi,Rs,yI,gI,RM],IT=n=>A1.find(E1(n));function CM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||qS(n):!0}const DM=new Set(["brightness","contrast","saturate","opacity"]);function VM(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(cg)||[];if(!r)return n;const o=i.replace(r,"");let u=DM.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const xM=/\b([a-z-]*)\(.*?\)/gu,tp={...Fs,getAnimatableNone:n=>{const t=n.match(xM);return t?t.map(VM).join(" "):n}},MT={...co,transform:Math.round},IM={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:Rs,skewX:Rs,skewY:Rs,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Xl,originX:yT,originY:yT,originZ:St},vg={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...IM,zIndex:MT,fillOpacity:Xl,strokeOpacity:Xl,numOctaves:MT},MM={...vg,color:$e,backgroundColor:$e,outlineColor:$e,fill:$e,stroke:$e,borderColor:$e,borderTopColor:$e,borderRightColor:$e,borderBottomColor:$e,borderLeftColor:$e,filter:tp,WebkitFilter:tp},S1=n=>MM[n];function b1(n,t){let i=S1(n);return i!==tp&&(i=Fs),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const OM=new Set(["auto","none","0"]);function NM(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!OM.has(u)&&$l(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=b1(i,o)}class PM extends gg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),ug(g))){const v=_1(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!T1.has(r)||t.length!==2)return;const[o,u]=t,h=IT(o),d=IT(u);if(h!==d)if(CT(h)&&CT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else zr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||CM(t[o]))&&r.push(o);r.length&&NM(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=zr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function LM(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const{schedule:_g}=t1(queueMicrotask,!1),Kn={x:!1,y:!1};function w1(){return Kn.x||Kn.y}function UM(n){return n==="x"||n==="y"?Kn[n]?null:(Kn[n]=!0,()=>{Kn[n]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}function R1(n,t){const i=LM(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function OT(n){return!(n.pointerType==="touch"||w1())}function BM(n,t,i={}){const[r,o,u]=R1(n,i),h=d=>{if(!OT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{OT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}const C1=(n,t)=>t?n===t?!0:C1(n,t.parentElement):!1,Tg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,zM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jM(n){return zM.has(n.tagName)||n.tabIndex!==-1}const xl=new WeakSet;function NT(n){return t=>{t.key==="Enter"&&n(t)}}function cm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kM=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=NT(()=>{if(xl.has(i))return;cm(i,"down");const o=NT(()=>{cm(i,"up")}),u=()=>cm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function PT(n){return Tg(n)&&!w1()}function qM(n,t,i={}){const[r,o,u]=R1(n,i),h=d=>{const p=d.currentTarget;if(!PT(d)||xl.has(p))return;xl.add(p);const g=t(p,d),v=(V,j)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),!(!PT(V)||!xl.has(p))&&(xl.delete(p),typeof g=="function"&&g(V,{success:j}))},E=V=>{v(V,p===window||p===document||i.useGlobalTarget||C1(p,V.target))},b=V=>{v(V,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",b,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),d instanceof HTMLElement&&(d.addEventListener("focus",g=>kM(g,o)),!jM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}const LT=30,FM=n=>!isNaN(parseFloat(n));class HM{constructor(t,i={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var h,d;const u=hn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((h=this.events.change)==null||h.notify(this.current)),o&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=FM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new rg);const r=this.events[t].add(i);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>LT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,LT);return FS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zl(n,t){return new HM(n,t)}const GM=[...A1,$e,Fs],KM=n=>GM.find(E1(n)),D1=(n,t)=>t&&typeof n=="number"?t.transform(n):n,V1=mt.createContext({strict:!1}),UT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ro={};for(const n in UT)ro[n]={isEnabled:t=>UT[n].some(i=>!!t[i])};function YM(n){for(const t in n)ro[t]={...ro[t],...n[t]}}const QM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||QM.has(n)}let x1=n=>!mh(n);function XM(n){n&&(x1=t=>t.startsWith("on")?!mh(t):n(t))}try{XM(require("@emotion/is-prop-valid").default)}catch{}function $M(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(x1(o)||i===!0&&mh(o)||!t&&!mh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function ZM(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const Uh=mt.createContext({});function Bh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Jl(n){return typeof n=="string"||Array.isArray(n)}const Eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ag=["initial",...Eg];function zh(n){return Bh(n.animate)||Ag.some(t=>Jl(n[t]))}function I1(n){return!!(zh(n)||n.variants)}function JM(n,t){if(zh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Jl(i)?i:void 0,animate:Jl(r)?r:void 0}}return n.inherit!==!1?t:{}}function WM(n){const{initial:t,animate:i}=JM(n,mt.useContext(Uh));return mt.useMemo(()=>({initial:t,animate:i}),[BT(t),BT(i)])}function BT(n){return Array.isArray(n)?n.join(" "):n}const t4=Symbol.for("motionComponentSymbol");function Fa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function e4(n,t,i){return mt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Fa(i)&&(i.current=r))},[t])}const Sg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n4="framerAppearId",M1="data-"+Sg(n4),O1=mt.createContext({});function i4(n,t,i,r,o){var G,H;const{visualElement:u}=mt.useContext(Uh),h=mt.useContext(V1),d=mt.useContext(tg),p=mt.useContext(jS).reducedMotion,g=mt.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=mt.useContext(O1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&s4(g.current,i,o,E);const b=mt.useRef(!1);mt.useInsertionEffect(()=>{v&&b.current&&v.update(i,d)});const V=i[M1],j=mt.useRef(!!V&&!((G=window.MotionHandoffIsComplete)!=null&&G.call(window,V))&&((H=window.MotionHasOptimisedAnimation)==null?void 0:H.call(window,V)));return $x(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),_g.render(v.render),j.current&&v.animationState&&v.animationState.animateChanges())}),mt.useEffect(()=>{v&&(!j.current&&v.animationState&&v.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var X;(X=window.MotionHandoffMarkAsComplete)==null||X.call(window,V)}),j.current=!1))}),v}function s4(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:N1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&Fa(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function N1(n){if(n)return n.options.allowProjection!==!1?n.projection:N1(n.parent)}function r4({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){n&&YM(n);function u(d,p){let g;const v={...mt.useContext(jS),...d,layoutId:a4(d)},{isStatic:E}=v,b=WM(d),V=r(d,E);if(!E&&Wp){o4();const j=l4(v);g=j.MeasureLayout,b.visualElement=i4(o,V,v,t,j.ProjectionNode)}return at.jsxs(Uh.Provider,{value:b,children:[g&&b.visualElement?at.jsx(g,{visualElement:b.visualElement,...v}):null,i(o,d,e4(V,b.visualElement,p),V,E,b.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const h=mt.forwardRef(u);return h[t4]=o,h}function a4({layoutId:n}){const t=mt.useContext(zS).id;return t&&n!==void 0?t+"-"+n:n}function o4(n,t){mt.useContext(V1).strict}function l4(n){const{drag:t,layout:i}=ro;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wl={};function u4(n){for(const t in n)Wl[t]=n[t],lg(t)&&(Wl[t].isCSSVariable=!0)}function P1(n,{layout:t,layoutId:i}){return fo.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Wl[n]||n==="opacity")}const tn=n=>!!(n&&n.getVelocity),c4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h4=ho.length;function f4(n,t,i){let r="",o=!0;for(let u=0;u<h4;u++){const h=ho[u],d=n[h];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(h.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=D1(d,vg[h]);if(!p){o=!1;const v=c4[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function bg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const p in t){const g=t[p];if(fo.has(p)){h=!0;continue}else if(lg(p)){o[p]=g;continue}else{const v=D1(g,vg[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=f4(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const wg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function L1(n,t,i){for(const r in t)!tn(t[r])&&!P1(r,i)&&(n[r]=t[r])}function d4({transformTemplate:n},t){return mt.useMemo(()=>{const i=wg();return bg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function m4(n,t){const i=n.style||{},r={};return L1(r,i,n),Object.assign(r,d4(n,t)),r}function p4(n,t){const i={},r=m4(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const g4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rg(n){return typeof n!="string"||n.includes("-")?!1:!!(g4.indexOf(n)>-1||/[A-Z]/u.test(n))}const y4={offset:"stroke-dashoffset",array:"stroke-dasharray"},v4={offset:"strokeDashoffset",array:"strokeDasharray"};function _4(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?y4:v4;n[u.offset]=St.transform(-r);const h=St.transform(t),d=St.transform(i);n[u.array]=`${h} ${d}`}function U1(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...d},p,g,v){if(bg(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:b}=n;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&_4(E,o,u,h,!1)}const B1=()=>({...wg(),attrs:{}}),z1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function T4(n,t,i,r){const o=mt.useMemo(()=>{const u=B1();return U1(u,t,z1(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};L1(u,n.style,n),o.style={...u,...o.style}}return o}function E4(n=!1){return(i,r,o,{latestValues:u},h)=>{const p=(Rg(i)?T4:p4)(r,u,h,i),g=$M(r,typeof i=="string",n),v=i!==mt.Fragment?{...g,...p,ref:o}:{},{children:E}=r,b=mt.useMemo(()=>tn(E)?E.get():E,[E]);return mt.createElement(i,{...v,children:b})}}function zT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Cg(n,t,i,r){if(typeof t=="function"){const[o,u]=zT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=zT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function Qc(n){return tn(n)?n.get():n}function A4({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:S4(i,r,o,n),renderState:t()}}const j1=n=>(t,i)=>{const r=mt.useContext(Uh),o=mt.useContext(tg),u=()=>A4(n,t,r,o);return i?u():Xx(u)};function S4(n,t,i,r){const o={},u=r(n,{});for(const b in u)o[b]=Qc(u[b]);let{initial:h,animate:d}=n;const p=zh(n),g=I1(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!Bh(E)){const b=Array.isArray(E)?E:[E];for(let V=0;V<b.length;V++){const j=Cg(n,b[V]);if(j){const{transitionEnd:G,transition:H,...X}=j;for(const st in X){let Z=X[st];if(Array.isArray(Z)){const ot=v?Z.length-1:0;Z=Z[ot]}Z!==null&&(o[st]=Z)}for(const st in G)o[st]=G[st]}}}return o}function Dg(n,t,i){var u;const{style:r}=n,o={};for(const h in r)(tn(r[h])||t.style&&tn(t.style[h])||P1(h,n)||((u=i==null?void 0:i.getValue(h))==null?void 0:u.liveStyle)!==void 0)&&(o[h]=r[h]);return o}const b4={useVisualState:j1({scrapeMotionValuesFromProps:Dg,createRenderState:wg})};function k1(n,t,i){const r=Dg(n,t,i);for(const o in n)if(tn(n[o])||tn(t[o])){const u=ho.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const w4={useVisualState:j1({scrapeMotionValuesFromProps:k1,createRenderState:B1})};function R4(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const h={...Rg(r)?w4:b4,preloadedFeatures:n,useRender:E4(o),createVisualElement:t,Component:r};return r4(h)}}function tu(n,t,i){const r=n.getProps();return Cg(r,t,i!==void 0?i:r.custom,n)}const ep=n=>Array.isArray(n);function C4(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Zl(i))}function D4(n){return ep(n)?n[n.length-1]||0:n}function V4(n,t){const i=tu(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const d=D4(u[h]);C4(n,h,d)}}function x4(n){return!!(tn(n)&&n.add)}function np(n,t){const i=n.getValue("willChange");if(x4(i))return i.add(t);if(!i&&Xi.WillChange){const r=new Xi.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function q1(n){return n.props[M1]}const I4=n=>n!==null;function M4(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(I4),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const O4={type:"spring",stiffness:500,damping:25,restSpeed:10},N4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),P4={type:"keyframes",duration:.8},L4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U4=(n,{keyframes:t})=>t.length>2?P4:fo.has(n)?n.startsWith("scale")?N4(t[1]):O4:L4;function B4({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Vg=(n,t,i,r={},o,u)=>h=>{const d=yg(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-pi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};B4(d)||Object.assign(v,U4(n,v)),v.duration&&(v.duration=pi(v.duration)),v.repeatDelay&&(v.repeatDelay=pi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(E=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const b=M4(v.keyframes,d);if(b!==void 0){oe.update(()=>{v.onUpdate(b),v.onComplete()});return}}return new SM(v)};function z4({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function F1(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),b=d[v];if(b===void 0||g&&z4(g,v))continue;const V={delay:i,...yg(u||{},v)},j=E.get();if(j!==void 0&&!E.isAnimating&&!Array.isArray(b)&&b===j&&!V.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const X=q1(n);if(X){const st=window.MotionHandoffAnimation(X,v,oe);st!==null&&(V.startTime=st,G=!0)}}np(n,v),E.start(Vg(v,E,b,n.shouldReduceMotion&&T1.has(v)?{type:!1}:V,n,G));const H=E.animation;H&&p.push(H)}return h&&Promise.all(p).then(()=>{oe.update(()=>{h&&V4(n,h)})}),p}function ip(n,t,i={}){var p;const r=tu(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(F1(n,r,i)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:b}=o;return j4(n,t,v+g,E,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,v]=d==="beforeChildren"?[u,h]:[h,u];return g().then(()=>v())}else return Promise.all([u(),h(i.delay)])}function j4(n,t,i=0,r=0,o=1,u){const h=[],d=(n.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(k4).forEach((g,v)=>{g.notify("AnimationStart",t),h.push(ip(g,t,{...u,delay:i+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(h)}function k4(n,t){return n.sortNodePosition(t)}function q4(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>ip(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=ip(n,t,i);else{const o=typeof t=="function"?tu(n,t,i.custom):t;r=Promise.all(F1(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function H1(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const F4=Ag.length;function G1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?G1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<F4;i++){const r=Ag[i],o=n.props[r];(Jl(o)||o===!1)&&(t[r]=o)}return t}const H4=[...Eg].reverse(),G4=Eg.length;function K4(n){return t=>Promise.all(t.map(({animation:i,options:r})=>q4(n,i,r)))}function Y4(n){let t=K4(n),i=jT(),r=!0;const o=p=>(g,v)=>{var b;const E=tu(n,v,p==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(E){const{transition:V,transitionEnd:j,...G}=E;g={...g,...G,...j}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=G1(n.parent)||{},E=[],b=new Set;let V={},j=1/0;for(let H=0;H<G4;H++){const X=H4[H],st=i[X],Z=g[X]!==void 0?g[X]:v[X],ot=Jl(Z),nt=X===p?st.isActive:null;nt===!1&&(j=H);let ft=Z===v[X]&&Z!==g[X]&&ot;if(ft&&r&&n.manuallyAnimateOnMount&&(ft=!1),st.protectedKeys={...V},!st.isActive&&nt===null||!Z&&!st.prevProp||Bh(Z)||typeof Z=="boolean")continue;const I=Q4(st.prevProp,Z);let w=I||X===p&&st.isActive&&!ft&&ot||H>j&&ot,C=!1;const M=Array.isArray(Z)?Z:[Z];let N=M.reduce(o(X),{});nt===!1&&(N={});const{prevResolvedValues:P={}}=st,R={...P,...N},bt=W=>{w=!0,b.has(W)&&(C=!0,b.delete(W)),st.needsAnimating[W]=!0;const lt=n.getValue(W);lt&&(lt.liveStyle=!1)};for(const W in R){const lt=N[W],Tt=P[W];if(V.hasOwnProperty(W))continue;let x=!1;ep(lt)&&ep(Tt)?x=!H1(lt,Tt):x=lt!==Tt,x?lt!=null?bt(W):b.add(W):lt!==void 0&&b.has(W)?bt(W):st.protectedKeys[W]=!0}st.prevProp=Z,st.prevResolvedValues=N,st.isActive&&(V={...V,...N}),r&&n.blockInitialAnimation&&(w=!1),w&&(!(ft&&I)||C)&&E.push(...M.map(W=>({animation:W,options:{type:X}})))}if(b.size){const H={};if(typeof g.initial!="boolean"){const X=tu(n,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(H.transition=X.transition)}b.forEach(X=>{const st=n.getBaseTarget(X),Z=n.getValue(X);Z&&(Z.liveStyle=!0),H[X]=st??null}),E.push({animation:H})}let G=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(G=!1),r=!1,G?t(E):Promise.resolve()}function d(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(b=>{var V;return(V=b.animationState)==null?void 0:V.setActive(p,g)}),i[p].isActive=g;const v=h(p);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=jT(),r=!0}}}function Q4(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!H1(t,n):!1}function Vr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jT(){return{animate:Vr(!0),whileInView:Vr(),whileHover:Vr(),whileTap:Vr(),whileDrag:Vr(),whileFocus:Vr(),exit:Vr()}}class Gs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class X4 extends Gs{constructor(t){super(t),t.animationState||(t.animationState=Y4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $4=0;class Z4 extends Gs{constructor(){super(...arguments),this.id=$4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const J4={animation:{Feature:X4},exit:{Feature:Z4}};function eu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function uu(n){return{point:{x:n.pageX,y:n.pageY}}}const W4=n=>t=>Tg(t)&&n(t,uu(t));function Ul(n,t,i,r){return eu(n,t,W4(i),r)}function K1({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function tO({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function eO(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const Y1=1e-4,nO=1-Y1,iO=1+Y1,Q1=.01,sO=0-Q1,rO=0+Q1;function an(n){return n.max-n.min}function aO(n,t,i){return Math.abs(n-t)<=i}function kT(n,t,i,r=.5){n.origin=r,n.originPoint=re(t.min,t.max,n.origin),n.scale=an(i)/an(t),n.translate=re(i.min,i.max,n.origin)-n.originPoint,(n.scale>=nO&&n.scale<=iO||isNaN(n.scale))&&(n.scale=1),(n.translate>=sO&&n.translate<=rO||isNaN(n.translate))&&(n.translate=0)}function Bl(n,t,i,r){kT(n.x,t.x,i.x,r?r.originX:void 0),kT(n.y,t.y,i.y,r?r.originY:void 0)}function qT(n,t,i){n.min=i.min+t.min,n.max=n.min+an(t)}function oO(n,t,i){qT(n.x,t.x,i.x),qT(n.y,t.y,i.y)}function FT(n,t,i){n.min=t.min-i.min,n.max=n.min+an(t)}function zl(n,t,i){FT(n.x,t.x,i.x),FT(n.y,t.y,i.y)}const HT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:HT(),y:HT()}),GT=()=>({min:0,max:0}),pe=()=>({x:GT(),y:GT()});function Bn(n){return[n("x"),n("y")]}function hm(n){return n===void 0||n===1}function sp({scale:n,scaleX:t,scaleY:i}){return!hm(n)||!hm(t)||!hm(i)}function Ir(n){return sp(n)||X1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function X1(n){return KT(n.x)||KT(n.y)}function KT(n){return n&&n!=="0%"}function ph(n,t,i){const r=n-i,o=t*r;return i+o}function YT(n,t,i,r,o){return o!==void 0&&(n=ph(n,o,r)),ph(n,i,r)+t}function rp(n,t=0,i=1,r,o){n.min=YT(n.min,t,i,r,o),n.max=YT(n.max,t,i,r,o)}function $1(n,{x:t,y:i}){rp(n.x,t.translate,t.scale,t.originPoint),rp(n.y,i.translate,i.scale,i.originPoint)}const QT=.999999999999,XT=1.0000000000001;function lO(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let d=0;d<o;d++){u=i[d],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ka(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,$1(n,h)),r&&Ir(u.latestValues)&&Ka(n,u.latestValues))}t.x<XT&&t.x>QT&&(t.x=1),t.y<XT&&t.y>QT&&(t.y=1)}function Ga(n,t){n.min=n.min+t,n.max=n.max+t}function $T(n,t,i,r,o=.5){const u=re(n.min,n.max,o);rp(n,t,i,u,r)}function Ka(n,t){$T(n.x,t.x,t.scaleX,t.scale,t.originX),$T(n.y,t.y,t.scaleY,t.scale,t.originY)}function Z1(n,t){return K1(eO(n.getBoundingClientRect(),t))}function uO(n,t,i){const r=Z1(n,i),{scroll:o}=t;return o&&(Ga(r.x,o.offset.x),Ga(r.y,o.offset.y)),r}const J1=({current:n})=>n?n.ownerDocument.defaultView:null,ZT=(n,t)=>Math.abs(n-t);function cO(n,t){const i=ZT(n.x,t.x),r=ZT(n.y,t.y);return Math.sqrt(i**2+r**2)}class W1{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=dm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,V=cO(E.offset,{x:0,y:0})>=3;if(!b&&!V)return;const{point:j}=E,{timestamp:G}=Fe;this.history.push({...j,timestamp:G});const{onStart:H,onMove:X}=this.handlers;b||(H&&H(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,E)},this.handlePointerMove=(E,b)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=fm(b,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(E,b)=>{this.end();const{onEnd:V,onSessionEnd:j,resumeAnimation:G}=this.handlers;if(this.dragSnapToOrigin&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=dm(E.type==="pointercancel"?this.lastMoveEventInfo:fm(b,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,H),j&&j(E,H)},!Tg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const h=uu(t),d=fm(h,this.transformPagePoint),{point:p}=d,{timestamp:g}=Fe;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,dm(d,this.history)),this.removeListeners=au(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qs(this.updatePoint)}}function fm(n,t){return t?{point:t(n.point)}:n}function JT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function dm({point:n},t){return{point:n,delta:JT(n,tb(t)),offset:JT(n,hO(t)),velocity:fO(t,.1)}}function hO(n){return n[0]}function tb(n){return n[n.length-1]}function fO(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=tb(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>pi(t)));)i--;if(!r)return{x:0,y:0};const u=gi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function dO(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?re(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?re(i,n,r.max):Math.min(n,i)),n}function WT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function mO(n,{top:t,left:i,bottom:r,right:o}){return{x:WT(n.x,i,o),y:WT(n.y,t,r)}}function tE(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function pO(n,t){return{x:tE(n.x,t.x),y:tE(n.y,t.y)}}function gO(n,t){let i=.5;const r=an(n),o=an(t);return o>r?i=Ql(t.min,t.max-r,n.min):r>o&&(i=Ql(n.min,n.max-o,t.min)),Qi(0,1,i)}function yO(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const ap=.35;function vO(n=ap){return n===!1?n=0:n===!0&&(n=ap),{x:eE(n,"left","right"),y:eE(n,"top","bottom")}}function eE(n,t,i){return{min:nE(n,t),max:nE(n,i)}}function nE(n,t){return typeof n=="number"?n:n[t]||0}const _O=new WeakMap;class TO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(uu(v).point)},u=(v,E)=>{const{drag:b,dragPropagation:V,onDragStart:j}=this.getProps();if(b&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UM(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(H=>{let X=this.getAxisMotionValue(H).get()||0;if(yi.test(X)){const{projection:st}=this.visualElement;if(st&&st.layout){const Z=st.layout.layoutBox[H];Z&&(X=an(Z)*(parseFloat(X)/100))}}this.originPoint[H]=X}),j&&oe.postRender(()=>j(v,E)),np(this.visualElement,"transform");const{animationState:G}=this.visualElement;G&&G.setActive("whileDrag",!0)},h=(v,E)=>{const{dragPropagation:b,dragDirectionLock:V,onDirectionLock:j,onDrag:G}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:H}=E;if(V&&this.currentDirection===null){this.currentDirection=EO(H),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",E.point,H),this.updateAxis("y",E.point,H),this.visualElement.render(),G&&G(v,E)},d=(v,E)=>this.stop(v,E),p=()=>Bn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new W1(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:J1(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&oe.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!kc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=dO(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&Fa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=mO(r.layoutBox,t):this.constraints=!1,this.elastic=vO(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=yO(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Fa(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=uO(r,o.root,this.visualElement.getTransformPagePoint());let h=pO(o.layout.layoutBox,u);if(i){const d=i(tO(h));this.hasMutatedConstraints=!!d,d&&(h=K1(d))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Bn(v=>{if(!kc(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const b=o?200:1e6,V=o?40:1e7,j={type:"inertia",velocity:r?t[v]:0,bounceStiffness:b,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return np(this.visualElement,t),r.start(Vg(t,r,0,i,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bn(i=>{const{drag:r}=this.getProps();if(!kc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];u.set(t[i]-re(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Fa(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Bn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const p=d.get();o[h]=gO({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(h=>{if(!kc(h,t,null))return;const d=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];d.set(re(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;_O.set(this.visualElement,this);const t=this.visualElement.current,i=Ul(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Fa(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(r);const h=eu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Bn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{h(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=ap,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function kc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function EO(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class AO extends Gs{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new TO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const iE=n=>(t,i)=>{n&&oe.postRender(()=>n(t,i))};class SO extends Gs{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new W1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:iE(t),onStart:iE(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&oe.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const bl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const i=sE(n,t.target.x),r=sE(n,t.target.y);return`${i}% ${r}%`}},bO={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Fs.parse(n);if(o.length>5)return r;const u=Fs.createTransformer(n),h=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=d,o[1+h]/=p;const g=re(d,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};class wO extends mt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u4(RO),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||oe.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_g.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eb(n){const[t,i]=Zx(),r=mt.useContext(zS);return at.jsx(wO,{...n,layoutGroup:r,switchLayoutGroup:mt.useContext(O1),isPresent:t,safeToRemove:i})}const RO={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:bO};function CO(n,t,i){const r=tn(n)?n:Zl(n);return r.start(Vg("",r,t,i)),r.animation}function DO(n){return n instanceof SVGElement&&n.tagName!=="svg"}const VO=(n,t)=>n.depth-t.depth;class xO{constructor(){this.children=[],this.isDirty=!1}add(t){eg(this.children,t),this.isDirty=!0}remove(t){ng(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VO),this.isDirty=!1,this.children.forEach(t)}}function IO(n,t){const i=hn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(qs(r),n(u-t))};return oe.setup(r,!0),()=>qs(r)}const nb=["TopLeft","TopRight","BottomLeft","BottomRight"],MO=nb.length,rE=n=>typeof n=="string"?parseFloat(n):n,aE=n=>typeof n=="number"||St.test(n);function OO(n,t,i,r,o,u){o?(n.opacity=re(0,i.opacity??1,NO(r)),n.opacityExit=re(t.opacity??1,0,PO(r))):u&&(n.opacity=re(t.opacity??1,i.opacity??1,r));for(let h=0;h<MO;h++){const d=`border${nb[h]}Radius`;let p=oE(t,d),g=oE(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||aE(p)===aE(g)?(n[d]=Math.max(re(rE(p),rE(g),r),0),(yi.test(g)||yi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=re(t.rotate||0,i.rotate||0,r))}function oE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const NO=ib(0,.5,$S),PO=ib(.5,.95,zn);function ib(n,t,i){return r=>r<n?0:r>t?1:i(Ql(n,t,r))}function lE(n,t){n.min=t.min,n.max=t.max}function Un(n,t){lE(n.x,t.x),lE(n.y,t.y)}function uE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function cE(n,t,i,r,o){return n-=t,n=ph(n,1/i,r),o!==void 0&&(n=ph(n,1/o,r)),n}function LO(n,t=0,i=1,r=.5,o,u=n,h=n){if(yi.test(t)&&(t=parseFloat(t),t=re(h.min,h.max,t/100)-h.min),typeof t!="number")return;let d=re(u.min,u.max,r);n===u&&(d-=t),n.min=cE(n.min,t,i,d,o),n.max=cE(n.max,t,i,d,o)}function hE(n,t,[i,r,o],u,h){LO(n,t[i],t[r],t[o],t.scale,u,h)}const UO=["x","scaleX","originX"],BO=["y","scaleY","originY"];function fE(n,t,i,r){hE(n.x,t,UO,i?i.x:void 0,r?r.x:void 0),hE(n.y,t,BO,i?i.y:void 0,r?r.y:void 0)}function dE(n){return n.translate===0&&n.scale===1}function sb(n){return dE(n.x)&&dE(n.y)}function mE(n,t){return n.min===t.min&&n.max===t.max}function zO(n,t){return mE(n.x,t.x)&&mE(n.y,t.y)}function pE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function rb(n,t){return pE(n.x,t.x)&&pE(n.y,t.y)}function gE(n){return an(n.x)/an(n.y)}function yE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class jO{constructor(){this.members=[]}add(t){eg(this.members,t),t.scheduleRender()}remove(t){if(ng(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kO(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=(i==null?void 0:i.z)||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:b,skewX:V,skewY:j}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),b&&(r+=`rotateY(${b}deg) `),V&&(r+=`skewX(${V}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const mm=["","X","Y","Z"],qO={visibility:"hidden"},vE=1e3;let FO=0;function pm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function ab(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=q1(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",oe,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&ab(r)}function ob({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},d=t==null?void 0:t()){this.id=FO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KO),this.nodes.forEach(ZO),this.nodes.forEach(JO),this.nodes.forEach(YO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new xO)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new rg),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const p=this.eventHandlers.get(h);p&&p.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=DO(h),this.instance=h;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const E=()=>this.root.updateBlockedByResize=!1;n(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=IO(E,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(TE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||iN,{onLayoutAnimationStart:G,onLayoutAnimationComplete:H}=g.getProps(),X=!this.targetLayout||!rb(this.targetLayout,V),st=!E&&b;if(this.options.layoutRoot||this.resumeFrom||st||E&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,st);const Z={...yg(j,"layout"),onPlay:G,onComplete:H};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else E||TE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WO),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ab(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_E);return}this.isUpdating||this.nodes.forEach(XO),this.isUpdating=!1,this.nodes.forEach($O),this.nodes.forEach(HO),this.nodes.forEach(GO),this.clearAllSnapshots();const d=hn.now();Fe.delta=Qi(0,1e3/60,d-Fe.timestamp),Fe.timestamp=d,Fe.isProcessing=!0,am.update.process(Fe),am.preRender.process(Fe),am.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_g.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QO),this.sharedNodes.forEach(tN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!sb(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&this.instance&&(d||Ir(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return h&&(p=this.removeTransform(p)),sN(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:h}=this.options;if(!h)return pe();const d=h.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(rN))){const{scroll:v}=this.root;v&&(Ga(d.x,v.offset.x),Ga(d.y,v.offset.y))}return d}removeElementScroll(h){var p;const d=pe();if(Un(d,h),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:b}=v;v!==this.root&&E&&b.layoutScroll&&(E.wasRoot&&Un(d,h),Ga(d.x,E.offset.x),Ga(d.y,E.offset.y))}return d}applyTransform(h,d=!1){const p=pe();Un(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ka(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ir(v.latestValues)&&Ka(p,v.latestValues)}return Ir(this.latestValues)&&Ka(p,this.latestValues),p}removeTransform(h){const d=pe();Un(d,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ir(g.latestValues))continue;sp(g.latestValues)&&g.updateSnapshot();const v=pe(),E=g.measurePageBox();Un(v,E),fE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ir(this.latestValues)&&fE(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const V=this.getClosestProjectingParent();V&&V.layout&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),zl(this.relativeTargetOrigin,this.layout.layoutBox,V.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),$1(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const V=this.getClosestProjectingParent();V&&!!V.resumingFrom==!!this.resumingFrom&&!V.options.layoutScroll&&V.target&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),zl(this.relativeTargetOrigin,this.target,V.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sp(this.parent.latestValues)||X1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Un(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;lO(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=pe());const{target:V}=h;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uE(this.prevProjectionDelta.x,this.projectionDelta.x),uE(this.prevProjectionDelta.y,this.projectionDelta.y)),Bl(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!yE(this.projectionDelta.x,this.prevProjectionDelta.x)||!yE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ha(),this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha()}setAnimationOrigin(h,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=pe(),V=p?p.source:void 0,j=this.layout?this.layout.source:void 0,G=V!==j,H=this.getStack(),X=!H||H.members.length<=1,st=!!(G&&!X&&this.options.crossfade===!0&&!this.path.some(nN));this.animationProgress=0;let Z;this.mixTargetDelta=ot=>{const nt=ot/1e3;EE(E.x,h.x,nt),EE(E.y,h.y,nt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zl(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eN(this.relativeTarget,this.relativeTargetOrigin,b,nt),Z&&zO(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=pe()),Un(Z,this.relativeTarget)),G&&(this.animationValues=v,OO(v,g,this.latestValues,nt,st,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Xc.hasAnimatedSinceResize=!0,this.currentAnimation=CO(0,vE,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=h;if(!(!d||!p||!g)){if(this!==h&&this.layout&&g&&lb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||pe();const E=an(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const b=an(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+b}Un(d,p),Ka(d,v),Bl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new jO),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&pm("z",h,g,this.animationValues);for(let v=0;v<mm.length;v++)pm(`rotate${mm[v]}`,h,g,this.animationValues),pm(`skew${mm[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}getProjectionStyles(h){if(!this.instance||this.isSVG)return;if(!this.isVisible)return qO;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Qc(h==null?void 0:h.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const V={};return this.options.layoutId&&(V.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,V.pointerEvents=Qc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(V.transform=p?p({},""):"none",this.hasProjected=!1),V}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=kO(this.projectionDeltaWithTransform,this.treeScale,v),p&&(d.transform=p(v,d.transform));const{x:E,y:b}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${b.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const V in Wl){if(v[V]===void 0)continue;const{correct:j,applyTo:G,isCSSVariable:H}=Wl[V],X=d.transform==="none"?v[V]:j(v[V],g);if(G){const st=G.length;for(let Z=0;Z<st;Z++)d[G[Z]]=X}else H?this.options.visualElement.renderState.vars[V]=X:d[V]=X}return this.options.layoutId&&(d.pointerEvents=g===this?Qc(h==null?void 0:h.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(_E),this.root.sharedNodes.clear()}}}function HO(n){n.updateLayout()}function GO(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,h=t.source!==n.layout.source;u==="size"?Bn(E=>{const b=h?t.measuredBox[E]:t.layoutBox[E],V=an(b);b.min=r[E].min,b.max=b.min+V}):lb(u,t.layoutBox,r)&&Bn(E=>{const b=h?t.measuredBox[E]:t.layoutBox[E],V=an(r[E]);b.max=b.min+V,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+V)});const d=Ha();Bl(d,r,t.layoutBox);const p=Ha();h?Bl(p,n.applyTransform(o,!0),t.measuredBox):Bl(p,r,t.layoutBox);const g=!sb(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:b,layout:V}=E;if(b&&V){const j=pe();zl(j,t.layoutBox,b.layoutBox);const G=pe();zl(G,r,V.layoutBox),rb(j,G)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=G,n.relativeTargetOrigin=j,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function KO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function QO(n){n.clearSnapshot()}function _E(n){n.clearMeasurements()}function XO(n){n.isLayoutDirty=!1}function $O(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function TE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ZO(n){n.resolveTargetDelta()}function JO(n){n.calcProjection()}function WO(n){n.resetSkewAndRotation()}function tN(n){n.removeLeadSnapshot()}function EE(n,t,i){n.translate=re(t.translate,0,i),n.scale=re(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function AE(n,t,i,r){n.min=re(t.min,i.min,r),n.max=re(t.max,i.max,r)}function eN(n,t,i,r){AE(n.x,t.x,i.x,r),AE(n.y,t.y,i.y,r)}function nN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const iN={duration:.45,ease:[.4,0,.1,1]},SE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bE=SE("applewebkit/")&&!SE("chrome/")?Math.round:zn;function wE(n){n.min=bE(n.min),n.max=bE(n.max)}function sN(n){wE(n.x),wE(n.y)}function lb(n,t,i){return n==="position"||n==="preserve-aspect"&&!aO(gE(t),gE(i),.2)}function rN(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const aN=ob({attachResizeListener:(n,t)=>eu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gm={current:void 0},ub=ob({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!gm.current){const n=new aN({});n.mount(window),n.setOptions({layoutScroll:!0}),gm.current=n}return gm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),oN={pan:{Feature:SO},drag:{Feature:AO,ProjectionNode:ub,MeasureLayout:eb}};function RE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&oe.postRender(()=>u(t,uu(t)))}class lN extends Gs{mount(){const{current:t}=this.node;t&&(this.unmount=BM(t,(i,r)=>(RE(this.node,r,"Start"),o=>RE(this.node,o,"End"))))}unmount(){}}class uN extends Gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=au(eu(this.node.current,"focus",()=>this.onFocus()),eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&oe.postRender(()=>u(t,uu(t)))}class cN extends Gs{mount(){const{current:t}=this.node;t&&(this.unmount=qM(t,(i,r)=>(CE(this.node,r,"Start"),(o,{success:u})=>CE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const op=new WeakMap,ym=new WeakMap,hN=n=>{const t=op.get(n.target);t&&t(n)},fN=n=>{n.forEach(hN)};function dN({root:n,...t}){const i=n||document;ym.has(i)||ym.set(i,{});const r=ym.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(fN,{root:n,...t})),r[o]}function mN(n,t,i){const r=dN(t);return op.set(n,i),r.observe(n),()=>{op.delete(n),r.unobserve(n)}}const pN={some:0,all:1};class gN extends Gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:pN[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),b=g?v:E;b&&b(p)};return mN(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(yN(t,i))&&this.startObserver()}unmount(){}}function yN({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const vN={inView:{Feature:gN},tap:{Feature:cN},focus:{Feature:uN},hover:{Feature:lN}},_N={layout:{ProjectionNode:ub,MeasureLayout:eb}},lp={current:null},cb={current:!1};function TN(){if(cb.current=!0,!!Wp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>lp.current=n.matches;n.addListener(t),t()}else lp.current=!1}const EN=new WeakMap;function AN(n,t,i){for(const r in t){const o=t[r],u=i[r];if(tn(o))n.addValue(r,o);else if(tn(u))n.addValue(r,Zl(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,Zl(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const DE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SN{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=hn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=zh(i),this.isVariantNode=I1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const b in E){const V=E[b];p[b]!==void 0&&tn(V)&&V.set(p[b],!1)}}mount(t){this.current=t,EN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),cb.current||TN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qs(this.notifyUpdate),qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=fo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ro){const i=ro[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<DE.length;r++){const o=DE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=AN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Zl(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(kS(r)||qS(r))?r=parseFloat(r):!KM(r)&&Fs.test(i)&&(r=b1(t,i)),this.setBaseTarget(t,tn(r)?r.get():r)),tn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const h=Cg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);h&&(r=h[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!tn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new rg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class hb extends SN{constructor(){super(...arguments),this.KeyframeResolver=PM}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function fb(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const u in i)n.style.setProperty(u,i[u])}function bN(n){return window.getComputedStyle(n)}class wN extends hb{constructor(){super(...arguments),this.type="html",this.renderInstance=fb}readValueFromInstance(t,i){if(fo.has(i))return tM(t,i);{const r=bN(t),o=(lg(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return Z1(t,i)}build(t,i,r){bg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Dg(t,i,r)}}const db=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RN(n,t,i,r){fb(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(db.has(o)?o:Sg(o),t.attrs[o])}class CN extends hb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pe}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(fo.has(i)){const r=S1(i);return r&&r.default||0}return i=db.has(i)?i:Sg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return k1(t,i,r)}build(t,i,r){U1(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){RN(t,i,r,o)}mount(t){this.isSVGTag=z1(t.tagName),super.mount(t)}}const DN=(n,t)=>Rg(n)?new CN(t):new wN(t,{allowProjection:n!==mt.Fragment}),VN=R4({...J4,...vN,...oN,..._N},DN),gh=ZM(VN),VE=({vinyl:n,artistName:t,genreName:i})=>{const r=n["release-date"]?n["release-date"].split("-"):[];return at.jsxs(gh.div,{layout:!0,className:`bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex ${n.expanded?"flex-row":"flex-col"} ${n.expanded?"h-full":""}`,style:{fontFamily:"Roboto Condensed, sans-serif"},children:[at.jsx("div",{className:`aspect-square ${n.expanded?"w-1/2":"w-full"} overflow-hidden`,children:at.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),at.jsx("div",{className:`p-4 ${n.expanded?"w-1/2":"w-full"} flex flex-col text-gray-800`,children:n.expanded?at.jsxs(at.Fragment,{children:[at.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),at.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),at.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripción no disponible."}),at.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[at.jsxs("p",{children:[at.jsx("strong",{children:"Género:"})," ",i||"Género no disponible"]}),at.jsxs("p",{children:[at.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",r.length===3?`${r[0]}/${r[1]}/${r[2]}`:"Fecha no disponible"]})]}),at.jsxs("div",{className:"flex gap-4 mt-4",children:[n["apple-music"]&&at.jsx("a",{href:n["apple-music"],target:"_blank",rel:"noopener noreferrer",children:at.jsx("img",{src:"/apple-music.svg",alt:"Apple Music",className:"w-8 h-8"})}),n.spotify&&at.jsx("a",{href:n.spotify,target:"_blank",rel:"noopener noreferrer",children:at.jsx("img",{src:"/spotify.svg",alt:"Spotify",className:"w-8 h-8"})})]})]}):at.jsxs(at.Fragment,{children:[at.jsx("h3",{className:"text-xl font-semibold",children:n.name}),at.jsx("p",{className:"text-sm mt-2",children:t||"Cargando artista..."}),at.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[i||"Cargando género..."," · ",r[2]||"Fecha no disponible"]})]})})]})},xN=({searchTerm:n="",selectedGenreId:t="",sortOption:i="name",sortOrder:r="asc"})=>{const[o,u]=mt.useState([]),[h,d]=mt.useState({}),[p,g]=mt.useState({}),[v,E]=mt.useState(!0),[b,V]=mt.useState(null),[j,G]=mt.useState(4),[H,X]=mt.useState(null),[st,Z]=mt.useState(!0),ot=mt.useRef(null),nt=12;mt.useEffect(()=>{const R=()=>{const bt=window.innerWidth;bt<640?G(1):bt<768?G(2):bt<1024?G(3):G(4)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const ft=async(R,bt)=>{try{if(!h[R]){const vt=await lh(oh(Nr,"artist",R));vt.exists()&&d(F=>({...F,[R]:vt.data().name}))}if(!p[bt]){const vt=await lh(oh(Nr,"genere",bt));vt.exists()&&g(F=>({...F,[bt]:vt.data().name}))}}catch(vt){console.error("Error al obtener datos de artista o género:",vt)}},I=async(R=!1)=>{try{E(!0);const bt=jm(Nr,"vinyl");let vt=vV(bt,_V("name"),EV(H||0),TV(nt));const F=await qm(vt),W=F.docs.map(lt=>({id:lt.id,...lt.data()}));W.forEach(lt=>{const{"artist-id":Tt,"genre-id":x}=lt;Tt&&x&&ft(Tt,x)}),F.docs.length<nt&&Z(!1),X(F.docs[F.docs.length-1]),u(lt=>R?W:[...lt,...W]),E(!1)}catch(bt){console.error("Error al obtener vinilos:",bt),E(!1)}};mt.useEffect(()=>{I(!0)},[]);const w=R=>{R[0].isIntersecting&&st&&!v&&I()};if(mt.useEffect(()=>{const R={root:null,rootMargin:"0px",threshold:1};ot.current=new IntersectionObserver(w,R);const bt=document.querySelector("#load-more-trigger");return bt&&ot.current.observe(bt),()=>ot.current&&ot.current.disconnect()},[st,v]),v&&o.length===0)return at.jsx("div",{className:"text-center mt-10 text-lg",children:"Cargando vinilos..."});const C=R=>{const[bt,vt,F]=R.split("-").map(Number);return{year:F,month:vt,day:bt}},N=o.filter(R=>{var Tt,x;const bt=((Tt=h[R["artist-id"]])==null?void 0:Tt.toLowerCase())||"",vt=((x=R.name)==null?void 0:x.toLowerCase())||"",F=R["genre-id"];return(vt.includes(n.toLowerCase())||bt.includes(n.toLowerCase()))&&(!t||F===t)}).sort((R,bt)=>{var W,lt;let vt="",F="";switch(i){case"year":const Tt=C(R["release-date"]),x=C(bt["release-date"]);return Tt.year!==x.year?r==="asc"?Tt.year-x.year:x.year-Tt.year:Tt.month!==x.month?r==="asc"?Tt.month-x.month:x.month-Tt.month:r==="asc"?Tt.day-x.day:x.day-Tt.day;case"name":vt=R.name.toLowerCase(),F=bt.name.toLowerCase();break;case"artist":vt=((W=h[R["artist-id"]])==null?void 0:W.toLowerCase())||"",F=((lt=h[bt["artist-id"]])==null?void 0:lt.toLowerCase())||"";break}return r==="asc"?vt<F?-1:vt>F?1:0:vt>F?-1:vt<F?1:0}),P=[];for(let R=0;R<N.length;R+=j){const bt=N.slice(R,R+j);if(b!==null&&b>=R&&b<R+j){const vt=N[b];P.push(at.jsx(gh.div,{layout:!0,className:"col-span-full",onClick:()=>V(null),children:at.jsx(VE,{vinyl:{...vt,expanded:!0},artistName:h[vt["artist-id"]],genreName:p[vt["genre-id"]]})},"expanded-"+b))}bt.forEach((vt,F)=>{const W=R+F;W!==b&&P.push(at.jsx(gh.div,{layout:!0,onClick:()=>V(W),children:at.jsx(VE,{vinyl:{...vt,expanded:!1},artistName:h[vt["artist-id"]],genreName:p[vt["genre-id"]]})},W))})}return at.jsxs("div",{children:[at.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:P}),st&&at.jsx("div",{id:"load-more-trigger",className:"text-center mt-10",children:v?"Cargando más vinilos...":""})]})};var mb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xE=Ur.createContext&&Ur.createContext(mb),IN=["attr","size","title"];function MN(n,t){if(n==null)return{};var i=ON(n,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function ON(n,t){if(n==null)return{};var i={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;i[r]=n[r]}return i}function yh(){return yh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},yh.apply(this,arguments)}function IE(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function vh(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(i),!0).forEach(function(r){NN(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):IE(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function NN(n,t,i){return t=PN(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function PN(n){var t=LN(n,"string");return typeof t=="symbol"?t:t+""}function LN(n,t){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function pb(n){return n&&n.map((t,i)=>Ur.createElement(t.tag,vh({key:i},t.attr),pb(t.child)))}function jh(n){return t=>Ur.createElement(UN,yh({attr:vh({},n.attr)},t),pb(n.child))}function UN(n){var t=i=>{var{attr:r,size:o,title:u}=n,h=MN(n,IN),d=o||i.size||"1em",p;return i.className&&(p=i.className),n.className&&(p=(p?p+" ":"")+n.className),Ur.createElement("svg",yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,h,{className:p,style:vh(vh({color:n.color||i.color},i.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&Ur.createElement("title",null,u),n.children)};return xE!==void 0?Ur.createElement(xE.Consumer,null,i=>t(i)):t(mb)}function BN(n){return jh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function zN(n){return jh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function jN(n){return jh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function kN(n){return jh({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}const qN=({vinyl:n,artistName:t,genreName:i,onClose:r})=>{const o=n["release-date"]?n["release-date"].split("-"):[];return at.jsxs(gh.div,{layout:!0,className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-row h-full",style:{fontFamily:"Roboto Condensed, sans-serif"},children:[at.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white bg-gray-800 rounded-full p-2",children:at.jsx(kN,{})}),at.jsx("div",{className:"aspect-square w-1/2 overflow-hidden",children:at.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),at.jsxs("div",{className:"p-4 w-1/2 flex flex-col text-gray-800",children:[at.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),at.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),at.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripción no disponible."}),at.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[at.jsxs("p",{children:[at.jsx("strong",{children:"Género:"})," ",i||"Género no disponible"]}),at.jsxs("p",{children:[at.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",o.length===3?`${o[0]}/${o[1]}/${o[2]}`:"Fecha no disponible"]})]})]})]})},FN=()=>{const[n,t]=mt.useState(""),[i,r]=mt.useState([]),[o,u]=mt.useState(""),[h,d]=mt.useState("name"),[p,g]=mt.useState("asc"),[v,E]=mt.useState(null),[b,V]=mt.useState({});mt.useEffect(()=>{(async()=>{try{const Z=(await qm(jm(Nr,"genere"))).docs.map(ot=>({id:ot.id,name:ot.data().name}));r(Z)}catch(st){console.error("Error al obtener géneros:",st)}})()},[]);const j=X=>{h===X?g(p==="asc"?"desc":"asc"):(d(X),g("asc"))},G=async()=>{try{const Z=(await qm(jm(Nr,"vinyl"))).docs.map(ot=>({id:ot.id,...ot.data()})).filter(ot=>{var M,N;const nt=((M=b[ot["artist-id"]])==null?void 0:M.toLowerCase())||"",ft=((N=ot.name)==null?void 0:N.toLowerCase())||"",I=ot["genre-id"];return(ft.includes(n.toLowerCase())||nt.includes(n.toLowerCase()))&&(!o||I===o)});if(Z.length>0){const ot=Z[Math.floor(Math.random()*Z.length)],[nt,ft]=await Promise.all([lh(oh(Nr,"artist",ot["artist-id"])),lh(oh(Nr,"genere",ot["genre-id"]))]),I=nt.exists()?nt.data().name:"Artista desconocido",w=ft.exists()?ft.data().name:"Género desconocido";E({...ot,artistName:I,genreName:w})}else alert("No hay vinilos que coincidan con los filtros aplicados.")}catch(X){console.error("Error al obtener vinilo aleatorio:",X)}},H=()=>E(null);return at.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-serif px-8 py-12",children:[at.jsx("div",{className:"text-center mb-16",children:at.jsxs("div",{className:"flex items-center justify-center mb-4",children:[at.jsx("h1",{className:"text-6xl font-bold text-white mr-4",style:{fontFamily:"Oswald, sans-serif"},children:"COLECCIÓN DE VINILOS"}),at.jsx("img",{src:"./vinyl.png",alt:"Vinyl Record",className:"w-24 h-24"})]})}),at.jsxs("div",{className:"max-w-2xl mx-auto mb-12",children:[at.jsxs("div",{className:"relative mb-8",children:[at.jsx(jN,{className:"absolute top-1/2 left-4 transform -translate-y-1/2 text-gray-500"}),at.jsx("input",{type:"text",placeholder:"Buscar por nombre o artista...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-800 text-white text-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:X=>t(X.target.value)})]}),at.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[at.jsx("div",{className:"relative",children:at.jsxs("select",{value:o,onChange:X=>u(X.target.value),className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg",children:[at.jsx("option",{value:"",children:"Todos los géneros"}),i.map(X=>at.jsx("option",{value:X.id,children:X.name},X.id))]})}),at.jsxs("div",{className:"flex items-center gap-6",children:[at.jsxs("select",{value:h,onChange:X=>j(X.target.value),className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg",children:[at.jsx("option",{value:"name",children:"Nombre"}),at.jsx("option",{value:"year",children:"Año"}),at.jsx("option",{value:"artist",children:"Artista"})]}),at.jsx("button",{onClick:()=>g(p==="asc"?"desc":"asc"),className:"py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:p==="asc"?at.jsx(BN,{}):at.jsx(zN,{})})]})]}),at.jsx("div",{className:"text-center mt-4",children:at.jsxs("button",{className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg flex justify-between items-center",onClick:G,children:[at.jsx("span",{children:"Escuchar Vinilo Aleatorio"}),at.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1.2em",width:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:at.jsx("path",{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"})})]})})]}),v&&at.jsx("div",{className:"max-w-7xl mx-auto mb-12 relative",children:at.jsx(qN,{vinyl:v,artistName:v.artistName,genreName:v.genreName,onClose:H})}),at.jsx("div",{className:"max-w-7xl mx-auto mb-16",children:at.jsx(xN,{searchTerm:n,selectedGenreId:o,sortOption:h,sortOrder:p})}),at.jsx("p",{className:"text-xl font-light text-gray-400 text-center",children:"by Facundin"})]})};$w.createRoot(document.getElementById("root")).render(at.jsx(mt.StrictMode,{children:at.jsx(FN,{})}));
