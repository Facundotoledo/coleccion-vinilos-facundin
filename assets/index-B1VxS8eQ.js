(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function lw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Od={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function uw(){if(_0)return pl;_0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var T0;function cw(){return T0||(T0=1,Od.exports=uw()),Od.exports}var ut=cw(),Nd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function hw(){if(E0)return wt;E0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function F(M,W,ot){this.props=M,this.context=W,this.refs=G,this.updater=ot||x}F.prototype.isReactComponent={},F.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=F.prototype;function et(M,W,ot){this.props=M,this.context=W,this.refs=G,this.updater=ot||x}var Q=et.prototype=new $;Q.constructor=et,q(Q,F.prototype),Q.isPureReactComponent=!0;var st=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function V(M,W,ot,it,gt,Ct){return ot=Ct.ref,{$$typeof:n,type:M,key:W,ref:ot!==void 0?ot:null,props:Ct}}function b(M,W){return V(M.type,W,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function I(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ot){return W[ot]})}var N=/\/+/g;function L(M,W){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):W.toString(36)}function D(){}function ye(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,W,ot,it,gt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var At=!1;if(M===null)At=!0;else switch(Ct){case"bigint":case"string":case"number":At=!0;break;case"object":switch(M.$$typeof){case n:case t:At=!0;break;case v:return At=M._init,ne(At(M._payload),W,ot,it,gt)}}if(At)return gt=gt(M),At=it===""?"."+L(M,0):it,st(gt)?(ot="",At!=null&&(ot=At.replace(N,"$&/")+"/"),ne(gt,W,ot,"",function(Kn){return Kn})):gt!=null&&(R(gt)&&(gt=b(gt,ot+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(N,"$&/")+"/")+At)),W.push(gt)),1;At=0;var Ve=it===""?".":it+":";if(st(M))for(var Zt=0;Zt<M.length;Zt++)it=M[Zt],Ct=Ve+L(it,Zt),At+=ne(it,W,ot,Ct,gt);else if(Zt=w(M),typeof Zt=="function")for(M=Zt.call(M),Zt=0;!(it=M.next()).done;)it=it.value,Ct=Ve+L(it,Zt++),At+=ne(it,W,ot,Ct,gt);else if(Ct==="object"){if(typeof M.then=="function")return ne(ye(M),W,ot,it,gt);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return At}function K(M,W,ot){if(M==null)return M;var it=[],gt=0;return ne(M,it,"","",function(Ct){return W.call(ot,Ct,gt++)}),it}function nt(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ot){(M._status===0||M._status===-1)&&(M._status=1,M._result=ot)},function(ot){(M._status===0||M._status===-1)&&(M._status=2,M._result=ot)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function It(){}return wt.Children={map:K,forEach:function(M,W,ot){K(M,function(){W.apply(this,arguments)},ot)},count:function(M){var W=0;return K(M,function(){W++}),W},toArray:function(M){return K(M,function(W){return W})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},wt.Component=F,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=et,wt.StrictMode=r,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return tt.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cloneElement=function(M,W,ot){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=q({},M.props),gt=M.key,Ct=void 0;if(W!=null)for(At in W.ref!==void 0&&(Ct=void 0),W.key!==void 0&&(gt=""+W.key),W)!lt.call(W,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&W.ref===void 0||(it[At]=W[At]);var At=arguments.length-2;if(At===1)it.children=ot;else if(1<At){for(var Ve=Array(At),Zt=0;Zt<At;Zt++)Ve[Zt]=arguments[Zt+2];it.children=Ve}return V(M.type,gt,void 0,void 0,Ct,it)},wt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},wt.createElement=function(M,W,ot){var it,gt={},Ct=null;if(W!=null)for(it in W.key!==void 0&&(Ct=""+W.key),W)lt.call(W,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=W[it]);var At=arguments.length-2;if(At===1)gt.children=ot;else if(1<At){for(var Ve=Array(At),Zt=0;Zt<At;Zt++)Ve[Zt]=arguments[Zt+2];gt.children=Ve}if(M&&M.defaultProps)for(it in At=M.defaultProps,At)gt[it]===void 0&&(gt[it]=At[it]);return V(M,Ct,void 0,void 0,null,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:d,render:M}},wt.isValidElement=R,wt.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:nt}},wt.memo=function(M,W){return{$$typeof:g,type:M,compare:W===void 0?null:W}},wt.startTransition=function(M){var W=tt.T,ot={};tt.T=ot;try{var it=M(),gt=tt.S;gt!==null&&gt(ot,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(It,ht)}catch(Ct){ht(Ct)}finally{tt.T=W}},wt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},wt.use=function(M){return tt.H.use(M)},wt.useActionState=function(M,W,ot){return tt.H.useActionState(M,W,ot)},wt.useCallback=function(M,W){return tt.H.useCallback(M,W)},wt.useContext=function(M){return tt.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,W){return tt.H.useDeferredValue(M,W)},wt.useEffect=function(M,W,ot){var it=tt.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(M,W)},wt.useId=function(){return tt.H.useId()},wt.useImperativeHandle=function(M,W,ot){return tt.H.useImperativeHandle(M,W,ot)},wt.useInsertionEffect=function(M,W){return tt.H.useInsertionEffect(M,W)},wt.useLayoutEffect=function(M,W){return tt.H.useLayoutEffect(M,W)},wt.useMemo=function(M,W){return tt.H.useMemo(M,W)},wt.useOptimistic=function(M,W){return tt.H.useOptimistic(M,W)},wt.useReducer=function(M,W,ot){return tt.H.useReducer(M,W,ot)},wt.useRef=function(M){return tt.H.useRef(M)},wt.useState=function(M){return tt.H.useState(M)},wt.useSyncExternalStore=function(M,W,ot){return tt.H.useSyncExternalStore(M,W,ot)},wt.useTransition=function(){return tt.H.useTransition()},wt.version="19.1.0",wt}var A0;function tp(){return A0||(A0=1,Nd.exports=hw()),Nd.exports}var dt=tp();const Pr=lw(dt);var Pd={exports:{}},gl={},Ld={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function fw(){return S0||(S0=1,function(n){function t(K,nt){var ht=K.length;K.push(nt);t:for(;0<ht;){var It=ht-1>>>1,M=K[It];if(0<o(M,nt))K[It]=nt,K[ht]=M,ht=It;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var nt=K[0],ht=K.pop();if(ht!==nt){K[0]=ht;t:for(var It=0,M=K.length,W=M>>>1;It<W;){var ot=2*(It+1)-1,it=K[ot],gt=ot+1,Ct=K[gt];if(0>o(it,ht))gt<M&&0>o(Ct,it)?(K[It]=Ct,K[gt]=ht,It=gt):(K[It]=it,K[ot]=ht,It=ot);else if(gt<M&&0>o(Ct,ht))K[It]=Ct,K[gt]=ht,It=gt;else break t}}return nt}function o(K,nt){var ht=K.sortIndex-nt.sortIndex;return ht!==0?ht:K.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();n.unstable_now=function(){return f.now()-d}}var p=[],g=[],v=1,E=null,w=3,x=!1,q=!1,G=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function st(K){for(var nt=i(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=K)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(g)}}function tt(K){if(G=!1,st(K),!q)if(i(p)!==null)q=!0,lt||(lt=!0,L());else{var nt=i(g);nt!==null&&ne(tt,nt.startTime-K)}}var lt=!1,V=-1,b=5,R=-1;function I(){return F?!0:!(n.unstable_now()-R<b)}function N(){if(F=!1,lt){var K=n.unstable_now();R=K;var nt=!0;try{t:{q=!1,G&&(G=!1,et(V),V=-1),x=!0;var ht=w;try{e:{for(st(K),E=i(p);E!==null&&!(E.expirationTime>K&&I());){var It=E.callback;if(typeof It=="function"){E.callback=null,w=E.priorityLevel;var M=It(E.expirationTime<=K);if(K=n.unstable_now(),typeof M=="function"){E.callback=M,st(K),nt=!0;break e}E===i(p)&&r(p),st(K)}else r(p);E=i(p)}if(E!==null)nt=!0;else{var W=i(g);W!==null&&ne(tt,W.startTime-K),nt=!1}}break t}finally{E=null,w=ht,x=!1}nt=void 0}}finally{nt?L():lt=!1}}}var L;if(typeof Q=="function")L=function(){Q(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ye=D.port2;D.port1.onmessage=N,L=function(){ye.postMessage(null)}}else L=function(){$(N,0)};function ne(K,nt){V=$(function(){K(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var nt=3;break;default:nt=w}var ht=w;w=nt;try{return K()}finally{w=ht}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(K,nt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=w;w=K;try{return nt()}finally{w=ht}},n.unstable_scheduleCallback=function(K,nt,ht){var It=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?It+ht:It):ht=It,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,K={id:v++,callback:nt,priorityLevel:K,startTime:ht,expirationTime:M,sortIndex:-1},ht>It?(K.sortIndex=ht,t(g,K),i(p)===null&&K===i(g)&&(G?(et(V),V=-1):G=!0,ne(tt,ht-It))):(K.sortIndex=M,t(p,K),q||x||(q=!0,lt||(lt=!0,L()))),K},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(K){var nt=w;return function(){var ht=w;w=nt;try{return K.apply(this,arguments)}finally{w=ht}}}}(Ud)),Ud}var b0;function dw(){return b0||(b0=1,Ld.exports=fw()),Ld.exports}var Bd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function mw(){if(w0)return Ye;w0=1;var n=tp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ye.flushSync=function(p){var g=f.T,v=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=g,r.p=v,r.d.f()}},Ye.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Ye.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ye.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:x}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ye.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Ye.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ye.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Ye.requestFormReset=function(p){r.d.r(p)},Ye.unstable_batchedUpdates=function(p,g){return p(g)},Ye.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var R0;function pw(){if(R0)return Bd.exports;R0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bd.exports=mw(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function gw(){if(C0)return gl;C0=1;var n=dw(),t=tp(),i=pw();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function f(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),e;if(m===l)return d(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var T=!1,A=h.child;A;){if(A===a){T=!0,a=h,l=m;break}if(A===l){T=!0,l=h,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=h;break}if(A===l){T=!0,l=m,a=h;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case tt:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case et:return(e._context.displayName||"Context")+".Consumer";case st:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return s=e.displayName||null,s!==null?s:ye(e.type)||"Memo";case b:s=e._payload,e=e._init;try{return ye(e(s))}catch{}}return null}var ne=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},It=[],M=-1;function W(e){return{current:e}}function ot(e){0>M||(e.current=It[M],It[M]=null,M--)}function it(e,s){M++,It[M]=e.current,e.current=s}var gt=W(null),Ct=W(null),At=W(null),Ve=W(null);function Zt(e,s){switch(it(At,s),it(Ct,e),it(gt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Yv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Yv(s),e=Qv(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(gt),it(gt,e)}function Kn(){ot(gt),ot(Ct),ot(At)}function $i(e){e.memoizedState!==null&&it(Ve,e);var s=gt.current,a=Qv(s,e.type);s!==a&&(it(Ct,e),it(gt,a))}function _i(e){Ct.current===e&&(ot(gt),ot(Ct)),Ve.current===e&&(ot(Ve),cl._currentValue=ht)}var Fs=Object.prototype.hasOwnProperty,Gs=n.unstable_scheduleCallback,Ks=n.unstable_cancelCallback,ao=n.unstable_shouldYield,su=n.unstable_requestPaint,Sn=n.unstable_now,Ih=n.unstable_getCurrentPriorityLevel,oo=n.unstable_ImmediatePriority,Hr=n.unstable_UserBlockingPriority,Ys=n.unstable_NormalPriority,Oh=n.unstable_LowPriority,Fr=n.unstable_IdlePriority,lo=n.log,ru=n.unstable_setDisableYieldValue,oe=null,Ht=null;function dn(e){if(typeof lo=="function"&&ru(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(oe,e)}catch{}}var Ge=Math.clz32?Math.clz32:Qs,au=Math.log,Nh=Math.LN2;function Qs(e){return e>>>=0,e===0?32:31-(au(e)/Nh|0)|0}var Xs=256,$s=4194304;function zn(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gr(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?h=zn(l):(T&=A,T!==0?h=zn(T):a||(a=A&~e,a!==0&&(h=zn(a))))):(A=l&~m,A!==0?h=zn(A):T!==0?h=zn(T):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Zs(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function uo(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=Xs;return Xs<<=1,(Xs&4194048)===0&&(Xs=256),e}function ho(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function Ti(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ei(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,s,a,l,h,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-Ge(a),Z=1<<Y;A[Y]=0,C[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var k=j[Y];k!==null&&(k.lane&=-536870913)}a&=~Z}l!==0&&Yn(e,l,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function Yn(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Ge(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function mo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&s|e[l]&s&&(e[l]|=s),a&=~h}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ji(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function ou(e,s){var a=nt.p;try{return nt.p=e,s()}finally{nt.p=a}}var Wt=Math.random().toString(36).slice(2),Se="__reactFiber$"+Wt,ve="__reactProps$"+Wt,bn="__reactContainer$"+Wt,po="__reactEvents$"+Wt,Ph="__reactListeners$"+Wt,Wi="__reactHandles$"+Wt,lu="__reactResources$"+Wt,Js="__reactMarker$"+Wt;function ts(e){delete e[Se],delete e[ve],delete e[po],delete e[Ph],delete e[Wi]}function Ai(e){var s=e[Se];if(s)return s;for(var a=e.parentNode;a;){if(s=a[bn]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Jv(e);e!==null;){if(a=e[Se])return a;e=Jv(e)}return s}e=a,a=e.parentNode}return null}function Qn(e){if(e=e[Se]||e[bn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function Xn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function We(e){var s=e[lu];return s||(s=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function he(e){e[Js]=!0}var go=new Set,Yr={};function jn(e,s){Si(e,s),Si(e+"Capture",s)}function Si(e,s){for(Yr[e]=s,e=0;e<s.length;e++)go.add(s[e])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},Ws={};function hu(e){return Fs.call(Ws,e)?!0:Fs.call(cu,e)?!1:uu.test(e)?Ws[e]=!0:(cu[e]=!0,!1)}function es(e,s,a){if(hu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function $n(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ue(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var tr,fu;function bi(e){if(tr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);tr=s&&s[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+e+fu}var Qr=!1;function Xr(e,s){if(!e||Qr)return"";Qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(k){var j=k}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(k){j=k}e.call(Z.prototype)}}else{try{throw Error()}catch(k){j=k}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var C=T.split(`
`),z=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Qr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Xr(e.type,!1);case 11:return Xr(e.type.render,!1);case 1:return Xr(e.type,!0);case 31:return bi("Activity");default:return""}}function $r(e){try{var s="";do s+=yo(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lh(e){var s=vo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Zr(e){e._valueTracker||(e._valueTracker=Lh(e))}function _o(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=vo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Uh=/[\n"\\]/g;function _e(e){return e.replace(Uh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mn(e,s,a,l,h,m,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+tn(s)):e.value!==""+tn(s)&&(e.value=""+tn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?ns(e,T,tn(s)):a!=null?ns(e,T,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+tn(A):e.removeAttribute("name")}function nr(e,s,a,l,h,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+tn(a):"",s=s!=null?""+tn(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function ns(e,s,a){s==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wi(e,s,a,l){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function Kt(e,s,a){if(s!=null&&(s=""+tn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+tn(a):""}function ir(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=tn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function wn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||sr.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function To(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&du(e,h,l)}else for(var m in s)s.hasOwnProperty(m)&&du(e,m,s[m])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return zh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Di=null;function Ao(e){var s=Qn(e);if(s&&(e=s.stateNode)){var a=e[ve]||null;t:switch(e=s.stateNode,s.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(r(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&_o(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&wi(e,!!a.multiple,s,!1)}}}var Zn=!1;function mu(e,s,a){if(Zn)return e(s,a);Zn=!0;try{var l=e(s);return l}finally{if(Zn=!1,(Ci!==null||Di!==null)&&(oc(),Ci&&(s=Ci,e=Di,Di=Ci=null,Ao(s),e)))for(s=0;s<e.length;s++)Ao(e[s])}}function rr(e,s){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(kn)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Cn=!1}var Jn=null,is=null,xi=null;function So(){if(xi)return xi;var e,s=is,a=s.length,l,h="value"in Jn?Jn.value:Jn.textContent,m=h.length;for(e=0;e<a&&s[e]===h[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===h[m-l];l++);return xi=h.slice(e,1<l?1-l:void 0)}function Wn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function bo(){return!1}function Me(e){function s(a,l,h,m,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ti:bo,this.isPropagationStopped=bo,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),s}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Me(qt),or=v({},qt,{view:0,detail:0}),pu=Me(or),ta,ea,ei,lr=v({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(ta=e.screenX-ei.screenX,ea=e.screenY-ei.screenY):ea=ta=0,ei=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Dn=Me(lr),gu=v({},lr,{dataTransfer:0}),jh=Me(gu),ur=v({},or,{relatedTarget:0}),na=Me(ur),wo=v({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Me(wo),yu=v({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sa=Me(yu),kh=v({},qt,{data:0}),Ro=Me(kh),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=_u[e])?!!s[e]:!1}function hr(){return Co}var Tu=v({},or,{key:function(e){if(e.key){var s=cr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Me(Tu),Eu=v({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=Me(Eu),Vi=v({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),Au=Me(Vi),Su=v({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Me(Su),wu=v({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Me(wu),en=v({},qt,{newState:0,oldState:0}),Ru=Me(en),Cu=[9,13,27,32],ni=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var y=kn&&"TextEvent"in window&&!c,_=kn&&(!ni||c&&8<c&&11>=c),S=" ",U=!1;function H(e,s){switch(e){case"keyup":return Cu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function be(e,s){switch(e){case"compositionend":return rt(s);case"keypress":return s.which!==32?null:(U=!0,S);case"textInput":return e=s.data,e===S&&U?null:e;default:return null}}function Nt(e,s){if(Ot)return e==="compositionend"||!ni&&H(e,s)?(e=So(),xi=is=Jn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Ie[e.type]:s==="textarea"}function Mi(e,s,a,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,s=dc(s,"onChange"),0<s.length&&(a=new Wr("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Be=null,ii=null;function xo(e){qv(e,0)}function Du(e){var s=Xn(e);if(_o(s))return e}function ug(e,s){if(e==="change")return s}var cg=!1;if(kn){var qh;if(kn){var Hh="oninput"in document;if(!Hh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Hh=typeof hg.oninput=="function"}qh=Hh}else qh=!1;cg=qh&&(!document.documentMode||9<document.documentMode)}function fg(){Be&&(Be.detachEvent("onpropertychange",dg),ii=Be=null)}function dg(e){if(e.propertyName==="value"&&Du(ii)){var s=[];Mi(s,ii,e,Rn(e)),mu(xo,s)}}function B1(e,s,a){e==="focusin"?(fg(),Be=s,ii=a,Be.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(ii)}function j1(e,s){if(e==="click")return Du(s)}function k1(e,s){if(e==="input"||e==="change")return Du(s)}function q1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var pn=typeof Object.is=="function"?Object.is:q1;function Vo(e,s){if(pn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Fs.call(s,h)||!pn(e[h],s[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,s){var a=mg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=mg(a)}}function gg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?gg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=er(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=er(e.document)}return s}function Fh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var H1=kn&&"documentMode"in document&&11>=document.documentMode,oa=null,Gh=null,Mo=null,Kh=!1;function vg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||oa==null||oa!==er(l)||(l=oa,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mo&&Vo(Mo,l)||(Mo=l,l=dc(Gh,"onSelect"),0<l.length&&(s=new Wr("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=oa)))}function fr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var la={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},Yh={},_g={};kn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function dr(e){if(Yh[e])return Yh[e];if(!la[e])return e;var s=la[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in _g)return Yh[e]=s[a];return e}var Tg=dr("animationend"),Eg=dr("animationiteration"),Ag=dr("animationstart"),F1=dr("transitionrun"),G1=dr("transitionstart"),K1=dr("transitioncancel"),Sg=dr("transitionend"),bg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function qn(e,s){bg.set(e,s),jn(s,[e])}var wg=new WeakMap;function xn(e,s){if(typeof e=="object"&&e!==null){var a=wg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:$r(s)},wg.set(e,s),s)}return{value:e,source:s,stack:$r(s)}}var Vn=[],ua=0,Xh=0;function xu(){for(var e=ua,s=Xh=ua=0;s<e;){var a=Vn[s];Vn[s++]=null;var l=Vn[s];Vn[s++]=null;var h=Vn[s];Vn[s++]=null;var m=Vn[s];if(Vn[s++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}m!==0&&Rg(a,h,m)}}function Vu(e,s,a,l){Vn[ua++]=e,Vn[ua++]=s,Vn[ua++]=a,Vn[ua++]=l,Xh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $h(e,s,a,l){return Vu(e,s,a,l),Mu(e)}function ca(e,s){return Vu(e,null,null,s),Mu(e)}function Rg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&s!==null&&(h=31-Ge(a),e=m.hiddenUpdates,l=e[h],l===null?e[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function Mu(e){if(50<nl)throw nl=0,id=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ha={};function Y1(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,s,a,l){return new Y1(e,s,a,l)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,s){var a=e.alternate;return a===null?(a=gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cg(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Iu(e,s,a,l,h,m){var T=0;if(l=e,typeof e=="function")Zh(e)&&(T=1);else if(typeof e=="string")T=Xb(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,s,h),e.elementType=R,e.lanes=m,e;case q:return mr(a.children,h,m,s);case G:T=8,h|=24;break;case F:return e=gn(12,a,s,h|2),e.elementType=F,e.lanes=m,e;case tt:return e=gn(13,a,s,h),e.elementType=tt,e.lanes=m,e;case lt:return e=gn(19,a,s,h),e.elementType=lt,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case Q:T=10;break t;case et:T=9;break t;case st:T=11;break t;case V:T=14;break t;case b:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=gn(T,a,s,h),s.elementType=e,s.type=l,s.lanes=m,s}function mr(e,s,a,l){return e=gn(7,e,l,s),e.lanes=a,e}function Jh(e,s,a){return e=gn(6,e,null,s),e.lanes=a,e}function Wh(e,s,a){return s=gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var fa=[],da=0,Ou=null,Nu=0,Mn=[],In=0,pr=null,Oi=1,Ni="";function gr(e,s){fa[da++]=Nu,fa[da++]=Ou,Ou=e,Nu=s}function Dg(e,s,a){Mn[In++]=Oi,Mn[In++]=Ni,Mn[In++]=pr,pr=e;var l=Oi;e=Ni;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var m=32-Ge(s)+h;if(30<m){var T=h-h%5;m=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Oi=1<<32-Ge(s)+h|a<<h|l,Ni=m+e}else Oi=1<<m|a<<h|l,Ni=e}function tf(e){e.return!==null&&(gr(e,1),Dg(e,1,0))}function ef(e){for(;e===Ou;)Ou=fa[--da],fa[da]=null,Nu=fa[--da],fa[da]=null;for(;e===pr;)pr=Mn[--In],Mn[In]=null,Ni=Mn[--In],Mn[In]=null,Oi=Mn[--In],Mn[In]=null}var nn=null,le=null,kt=!1,yr=null,si=!1,nf=Error(r(519));function vr(e){var s=Error(r(418,""));throw No(xn(s,e)),nf}function xg(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Se]=e,s[ve]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<sl.length;a++)Mt(sl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),nr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zr(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),ir(s,l.value,l.defaultValue,l.children),Zr(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Kv(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=mc),s=!0):s=!1,s||vr(e)}function Vg(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:nn=nn.return}}function Io(e){if(e!==nn)return!1;if(!kt)return Vg(e),kt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&le&&vr(e),Vg(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){le=Fn(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}le=null}}else s===27?(s=le,_s(e.type)?(e=Sd,Sd=null,le=e):le=s):le=nn?Fn(e.stateNode.nextSibling):null;return!0}function Oo(){le=nn=null,kt=!1}function Mg(){var e=yr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),yr=null),e}function No(e){yr===null?yr=[e]:yr.push(e)}var sf=W(null),_r=null,Pi=null;function ss(e,s,a){it(sf,s._currentValue),s._currentValue=a}function Li(e){e._currentValue=sf.current,ot(sf)}function rf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function af(e,s,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=h;for(var C=0;C<s.length;C++)if(A.context===s[C]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),rf(m.return,a,e),l||(T=null);break t}m=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),rf(T,a,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Po(e,s,a,l){e=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=h.type;pn(h.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(h===Ve.current){if(T=h.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&af(s,e,a,l),s.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tr(e){_r=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Ig(_r,e)}function Lu(e,s){return _r===null&&Tr(e),Ig(e,s)}function Ig(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(r(308));Pi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Pi=Pi.next=s;return a}var Q1=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},X1=n.unstable_scheduleCallback,$1=n.unstable_NormalPriority,Re={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new Q1,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&X1($1,function(){e.controller.abort()})}var Uo=null,lf=0,ma=0,pa=null;function Z1(e,s){if(Uo===null){var a=Uo=[];lf=0,ma=cd(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,s.then(Og,Og),s}function Og(){if(--lf===0&&Uo!==null){pa!==null&&(pa.status="fulfilled");var e=Uo;Uo=null,ma=0,pa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function J1(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=K.S;K.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Z1(e,s),Ng!==null&&Ng(e,s)};var Er=W(null);function uf(){var e=Er.current;return e!==null?e:Jt.pooledCache}function Uu(e,s){s===null?it(Er,Er.current):it(Er,s.pool)}function Pg(){var e=uf();return e===null?null:{parent:Re._currentValue,pool:e}}var Bo=Error(r(460)),Lg=Error(r(474)),Bu=Error(r(542)),cf={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function Bg(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(zu,zu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,jg(e),e;default:if(typeof s.status=="string")s.then(zu,zu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,jg(e),e}throw zo=s,Bo}}var zo=null;function zg(){if(zo===null)throw Error(r(459));var e=zo;return zo=null,e}function jg(e){if(e===Bo||e===Bu)throw Error(r(483))}var rs=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function os(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Mu(e),Rg(e,null,a),s}return Vu(e,l,s,a),Mu(e)}function jo(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,mo(e,a)}}function df(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var mf=!1;function ko(){if(mf){var e=pa;if(e!==null)throw e}}function qo(e,s,a,l){mf=!1;var h=e.updateQueue;rs=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,z=C.next;C.next=null,T===null?m=z:T.next=z,T=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==T&&(A===null?Y.firstBaseUpdate=z:A.next=z,Y.lastBaseUpdate=C))}if(m!==null){var Z=h.baseState;T=0,Y=z=C=null,A=m;do{var j=A.lane&-536870913,k=j!==A.lane;if(k?(Pt&j)===j:(l&j)===j){j!==0&&j===ma&&(mf=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Tt=e,yt=A;j=s;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Z=Tt.call(Xt,Z,j);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,j=typeof Tt=="function"?Tt.call(Xt,Z,j):Tt,j==null)break t;Z=v({},Z,j);break t;case 2:rs=!0}}j=A.callback,j!==null&&(e.flags|=64,k&&(e.flags|=8192),k=h.callbacks,k===null?h.callbacks=[j]:k.push(j))}else k={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(z=Y=k,C=Z):Y=Y.next=k,T|=j;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;k=A,A=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);Y===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),ps|=T,e.lanes=T,e.memoizedState=Z}}function kg(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function qg(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kg(a[e],s)}var ga=W(null),ju=W(0);function Hg(e,s){e=Hi,it(ju,e),it(ga,s),Hi=e|s.baseLanes}function pf(){it(ju,Hi),it(ga,ga.current)}function gf(){Hi=ju.current,ot(ga),ot(ju)}var ls=0,Rt=null,Yt=null,Te=null,ku=!1,ya=!1,Ar=!1,qu=0,Ho=0,va=null,W1=0;function fe(){throw Error(r(321))}function yf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!pn(e[a],s[a]))return!1;return!0}function vf(e,s,a,l,h,m){return ls=m,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=e===null||e.memoizedState===null?Ry:Cy,Ar=!1,m=a(l,h),Ar=!1,ya&&(m=Gg(s,a,l,h)),Fg(e),m}function Fg(e){K.H=Qu;var s=Yt!==null&&Yt.next!==null;if(ls=0,Te=Yt=Rt=null,ku=!1,Ho=0,va=null,s)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&Pu(e)&&(Oe=!0))}function Gg(e,s,a,l){Rt=e;var h=0;do{if(ya&&(va=null),Ho=0,ya=!1,25<=h)throw Error(r(301));if(h+=1,Te=Yt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=ab,m=s(a,l)}while(ya);return m}function tb(){var e=K.H,s=e.useState()[0];return s=typeof s.then=="function"?Fo(s):s,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Rt.flags|=1024),s}function _f(){var e=qu!==0;return qu=0,e}function Tf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Ef(e){if(ku){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}ku=!1}ls=0,Te=Yt=Rt=null,ya=!1,Ho=qu=0,va=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Rt.memoizedState=Te=e:Te=Te.next=e,Te}function Ee(){if(Yt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var s=Te===null?Rt.memoizedState:Te.next;if(s!==null)Te=s,Yt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Rt.memoizedState=Te=e:Te=Te.next=e}return Te}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var s=Ho;return Ho+=1,va===null&&(va=[]),e=Bg(va,e,s),s=Rt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?Ry:Cy),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===Q)return Ke(e)}throw Error(r(438,String(e)))}function Sf(e){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Af(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=I;return s.index++,a}function Ui(e,s){return typeof s=="function"?s(e):s}function Fu(e){var s=Ee();return bf(s,Yt,e)}function bf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,m=l.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}s.baseQueue=h=m,l.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{s=h.next;var A=T=null,C=null,z=s,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Pt&Z)===Z:(ls&Z)===Z){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===ma&&(Y=!0);else if((ls&j)===j){z=z.next,j===ma&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=Z,T=m):C=C.next=Z,Rt.lanes|=j,ps|=j;Z=z.action,Ar&&a(m,Z),m=z.hasEagerState?z.eagerState:a(m,Z)}else j={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=j,T=m):C=C.next=j,Rt.lanes|=Z,ps|=Z;z=z.next}while(z!==null&&z!==s);if(C===null?T=m:C.next=A,!pn(m,e.memoizedState)&&(Oe=!0,Y&&(a=pa,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=C,l.lastRenderedState=m}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wf(e){var s=Ee(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=e(m,T.action),T=T.next;while(T!==h);pn(m,s.memoizedState)||(Oe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Kg(e,s,a){var l=Rt,h=Ee(),m=kt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!pn((Yt||h).memoizedState,a);T&&(h.memoizedState=a,Oe=!0),h=h.queue;var A=Xg.bind(null,l,h,e);if(Go(2048,8,A,[e]),h.getSnapshot!==s||T||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,_a(9,Gu(),Qg.bind(null,l,h,a,s),null),Jt===null)throw Error(r(349));m||(ls&124)!==0||Yg(l,s,a)}return a}function Yg(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=Af(),Rt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Qg(e,s,a,l){s.value=a,s.getSnapshot=l,$g(s)&&Zg(e)}function Xg(e,s,a){return a(function(){$g(s)&&Zg(e)})}function $g(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!pn(e,a)}catch{return!0}}function Zg(e){var s=ca(e,2);s!==null&&En(s,e,2)}function Rf(e){var s=an();if(typeof e=="function"){var a=e;if(e=a(),Ar){dn(!0);try{a()}finally{dn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},s}function Jg(e,s,a,l){return e.baseState=a,bf(e,Yt,typeof l=="function"?l:Ui)}function eb(e,s,a,l,h){if(Yu(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Wg(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Wg(e,s){var a=s.action,l=s.payload,h=e.state;if(s.isTransition){var m=K.T,T={};K.T=T;try{var A=a(h,l),C=K.S;C!==null&&C(T,A),ty(e,s,A)}catch(z){Cf(e,s,z)}finally{K.T=m}}else try{m=a(h,l),ty(e,s,m)}catch(z){Cf(e,s,z)}}function ty(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(e,s,l)},function(l){return Cf(e,s,l)}):ey(e,s,a)}function ey(e,s,a){s.status="fulfilled",s.value=a,ny(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Wg(e,a)))}function Cf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,ny(s),s=s.next;while(s!==l)}e.action=null}function ny(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function iy(e,s){return s}function sy(e,s){if(kt){var a=Jt.formState;if(a!==null){t:{var l=Rt;if(kt){if(le){e:{for(var h=le,m=si;h.nodeType!==8;){if(!m){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){le=Fn(h.nextSibling),l=h.data==="F!";break t}}vr(l)}l=!1}l&&(s=a[0])}}return a=an(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:s},a.queue=l,a=Sy.bind(null,Rt,l),l.dispatch=a,l=Rf(!1),m=If.bind(null,Rt,!1,l.queue),l=an(),h={state:s,dispatch:null,action:e,pending:null},l.queue=h,a=eb.bind(null,Rt,h,m,a),h.dispatch=a,l.memoizedState=e,[s,a,!1]}function ry(e){var s=Ee();return ay(s,Yt,e)}function ay(e,s,a){if(s=bf(e,s,iy)[0],e=Fu(Ui)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Fo(s)}catch(T){throw T===Bo?Bu:T}else l=s;s=Ee();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,_a(9,Gu(),nb.bind(null,h,a),null)),[l,m,e]}function nb(e,s){e.action=s}function oy(e){var s=Ee(),a=Yt;if(a!==null)return ay(s,a,e);Ee(),s=s.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function _a(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Af(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function ly(){return Ee().memoizedState}function Ku(e,s,a,l){var h=an();l=l===void 0?null:l,Rt.flags|=e,h.memoizedState=_a(1|s,Gu(),a,l)}function Go(e,s,a,l){var h=Ee();l=l===void 0?null:l;var m=h.memoizedState.inst;Yt!==null&&l!==null&&yf(l,Yt.memoizedState.deps)?h.memoizedState=_a(s,m,a,l):(Rt.flags|=e,h.memoizedState=_a(1|s,m,a,l))}function uy(e,s){Ku(8390656,8,e,s)}function cy(e,s){Go(2048,8,e,s)}function hy(e,s){return Go(4,2,e,s)}function fy(e,s){return Go(4,4,e,s)}function dy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function my(e,s,a){a=a!=null?a.concat([e]):null,Go(4,4,dy.bind(null,s,e),a)}function Df(){}function py(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&yf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function gy(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&yf(s,l[1]))return l[0];if(l=e(),Ar){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,s],l}function xf(e,s,a){return a===void 0||(ls&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=_v(),Rt.lanes|=e,ps|=e,a)}function yy(e,s,a,l){return pn(a,s)?a:ga.current!==null?(e=xf(e,a,l),pn(e,s)||(Oe=!0),e):(ls&42)===0?(Oe=!0,e.memoizedState=a):(e=_v(),Rt.lanes|=e,ps|=e,s)}function vy(e,s,a,l,h){var m=nt.p;nt.p=m!==0&&8>m?m:8;var T=K.T,A={};K.T=A,If(e,!1,s,a);try{var C=h(),z=K.S;if(z!==null&&z(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=J1(C,l);Ko(e,s,Y,Tn(e))}else Ko(e,s,l,Tn(e))}catch(Z){Ko(e,s,{then:function(){},status:"rejected",reason:Z},Tn())}finally{nt.p=m,K.T=T}}function ib(){}function Vf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var h=_y(e).queue;vy(e,h,s,ht,a===null?ib:function(){return Ty(e),a(l)})}function _y(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Ty(e){var s=_y(e).next.queue;Ko(e,s,{},Tn())}function Mf(){return Ke(cl)}function Ey(){return Ee().memoizedState}function Ay(){return Ee().memoizedState}function sb(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Tn();e=as(a);var l=os(s,e,a);l!==null&&(En(l,s,a),jo(l,s,a)),s={cache:of()},e.payload=s;return}s=s.return}}function rb(e,s,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?by(s,a):(a=$h(e,s,a,l),a!==null&&(En(a,e,l),wy(a,s,l)))}function Sy(e,s,a){var l=Tn();Ko(e,s,a,l)}function Ko(e,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))by(s,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,A=m(T,a);if(h.hasEagerState=!0,h.eagerState=A,pn(A,T))return Vu(e,s,h,0),Jt===null&&xu(),!1}catch{}finally{}if(a=$h(e,s,h,l),a!==null)return En(a,e,l),wy(a,s,l),!0}return!1}function If(e,s,a,l){if(l={lane:2,revertLane:cd(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(s)throw Error(r(479))}else s=$h(e,a,l,2),s!==null&&En(s,e,2)}function Yu(e){var s=e.alternate;return e===Rt||s!==null&&s===Rt}function by(e,s){ya=ku=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function wy(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,mo(e,a)}}var Qu={readContext:Ke,use:Hu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Ry={readContext:Ke,use:Hu,useCallback:function(e,s){return an().memoizedState=[e,s===void 0?null:s],e},useContext:Ke,useEffect:uy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,dy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Ku(4194308,4,e,s)},useInsertionEffect:function(e,s){Ku(4,2,e,s)},useMemo:function(e,s){var a=an();s=s===void 0?null:s;var l=e();if(Ar){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=an();if(a!==void 0){var h=a(s);if(Ar){dn(!0);try{a(s)}finally{dn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=rb.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var s=an();return e={current:e},s.memoizedState=e},useState:function(e){e=Rf(e);var s=e.queue,a=Sy.bind(null,Rt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(e,s){var a=an();return xf(a,e,s)},useTransition:function(){var e=Rf(!1);return e=vy.bind(null,Rt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Rt,h=an();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Jt===null)throw Error(r(349));(Pt&124)!==0||Yg(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,uy(Xg.bind(null,l,m,e),[e]),l.flags|=2048,_a(9,Gu(),Qg.bind(null,l,m,a,s),null),a},useId:function(){var e=an(),s=Jt.identifierPrefix;if(kt){var a=Ni,l=Oi;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,s=""+s+"R"+a,a=qu++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=W1++,s=""+s+"r"+a.toString(32)+"";return e.memoizedState=s},useHostTransitionStatus:Mf,useFormState:sy,useActionState:sy,useOptimistic:function(e){var s=an();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=If.bind(null,Rt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Sf,useCacheRefresh:function(){return an().memoizedState=sb.bind(null,Rt)}},Cy={readContext:Ke,use:Hu,useCallback:py,useContext:Ke,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:Fu,useRef:ly,useState:function(){return Fu(Ui)},useDebugValue:Df,useDeferredValue:function(e,s){var a=Ee();return yy(a,Yt.memoizedState,e,s)},useTransition:function(){var e=Fu(Ui)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:Fo(e),s]},useSyncExternalStore:Kg,useId:Ey,useHostTransitionStatus:Mf,useFormState:ry,useActionState:ry,useOptimistic:function(e,s){var a=Ee();return Jg(a,Yt,e,s)},useMemoCache:Sf,useCacheRefresh:Ay},ab={readContext:Ke,use:Hu,useCallback:py,useContext:Ke,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:wf,useRef:ly,useState:function(){return wf(Ui)},useDebugValue:Df,useDeferredValue:function(e,s){var a=Ee();return Yt===null?xf(a,e,s):yy(a,Yt.memoizedState,e,s)},useTransition:function(){var e=wf(Ui)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:Fo(e),s]},useSyncExternalStore:Kg,useId:Ey,useHostTransitionStatus:Mf,useFormState:oy,useActionState:oy,useOptimistic:function(e,s){var a=Ee();return Yt!==null?Jg(a,Yt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Ay},Ta=null,Yo=0;function Xu(e){var s=Yo;return Yo+=1,Ta===null&&(Ta=[]),Bg(Ta,e,s)}function Qo(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function $u(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Dy(e){var s=e._init;return s(e._payload)}function xy(e){function s(P,O){if(e){var B=P.deletions;B===null?(P.deletions=[O],P.flags|=16):B.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)s(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ii(P,O),P.index=0,P.sibling=null,P}function m(P,O,B){return P.index=B,e?(B=P.alternate,B!==null?(B=B.index,B<O?(P.flags|=67108866,O):B):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function T(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function A(P,O,B,X){return O===null||O.tag!==6?(O=Jh(B,P.mode,X),O.return=P,O):(O=h(O,B),O.return=P,O)}function C(P,O,B,X){var ft=B.type;return ft===q?Y(P,O,B.props.children,X,B.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Dy(ft)===O.type)?(O=h(O,B.props),Qo(O,B),O.return=P,O):(O=Iu(B.type,B.key,B.props,null,P.mode,X),Qo(O,B),O.return=P,O)}function z(P,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Wh(B,P.mode,X),O.return=P,O):(O=h(O,B.children||[]),O.return=P,O)}function Y(P,O,B,X,ft){return O===null||O.tag!==7?(O=mr(B,P.mode,X,ft),O.return=P,O):(O=h(O,B),O.return=P,O)}function Z(P,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,P.mode,B),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return B=Iu(O.type,O.key,O.props,null,P.mode,B),Qo(B,O),B.return=P,B;case x:return O=Wh(O,P.mode,B),O.return=P,O;case b:var X=O._init;return O=X(O._payload),Z(P,O,B)}if(ne(O)||L(O))return O=mr(O,P.mode,B,null),O.return=P,O;if(typeof O.then=="function")return Z(P,Xu(O),B);if(O.$$typeof===Q)return Z(P,Lu(P,O),B);$u(P,O)}return null}function j(P,O,B,X){var ft=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:A(P,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ft?C(P,O,B,X):null;case x:return B.key===ft?z(P,O,B,X):null;case b:return ft=B._init,B=ft(B._payload),j(P,O,B,X)}if(ne(B)||L(B))return ft!==null?null:Y(P,O,B,X,null);if(typeof B.then=="function")return j(P,O,Xu(B),X);if(B.$$typeof===Q)return j(P,O,Lu(P,B),X);$u(P,B)}return null}function k(P,O,B,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(B)||null,A(O,P,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return P=P.get(X.key===null?B:X.key)||null,C(O,P,X,ft);case x:return P=P.get(X.key===null?B:X.key)||null,z(O,P,X,ft);case b:var Dt=X._init;return X=Dt(X._payload),k(P,O,B,X,ft)}if(ne(X)||L(X))return P=P.get(B)||null,Y(O,P,X,ft,null);if(typeof X.then=="function")return k(P,O,B,Xu(X),ft);if(X.$$typeof===Q)return k(P,O,B,Lu(O,X),ft);$u(O,X)}return null}function Tt(P,O,B,X){for(var ft=null,Dt=null,mt=O,_t=O=0,Pe=null;mt!==null&&_t<B.length;_t++){mt.index>_t?(Pe=mt,mt=null):Pe=mt.sibling;var jt=j(P,mt,B[_t],X);if(jt===null){mt===null&&(mt=Pe);break}e&&mt&&jt.alternate===null&&s(P,mt),O=m(jt,O,_t),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt,mt=Pe}if(_t===B.length)return a(P,mt),kt&&gr(P,_t),ft;if(mt===null){for(;_t<B.length;_t++)mt=Z(P,B[_t],X),mt!==null&&(O=m(mt,O,_t),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return kt&&gr(P,_t),ft}for(mt=l(mt);_t<B.length;_t++)Pe=k(mt,P,_t,B[_t],X),Pe!==null&&(e&&Pe.alternate!==null&&mt.delete(Pe.key===null?_t:Pe.key),O=m(Pe,O,_t),Dt===null?ft=Pe:Dt.sibling=Pe,Dt=Pe);return e&&mt.forEach(function(bs){return s(P,bs)}),kt&&gr(P,_t),ft}function yt(P,O,B,X){if(B==null)throw Error(r(151));for(var ft=null,Dt=null,mt=O,_t=O=0,Pe=null,jt=B.next();mt!==null&&!jt.done;_t++,jt=B.next()){mt.index>_t?(Pe=mt,mt=null):Pe=mt.sibling;var bs=j(P,mt,jt.value,X);if(bs===null){mt===null&&(mt=Pe);break}e&&mt&&bs.alternate===null&&s(P,mt),O=m(bs,O,_t),Dt===null?ft=bs:Dt.sibling=bs,Dt=bs,mt=Pe}if(jt.done)return a(P,mt),kt&&gr(P,_t),ft;if(mt===null){for(;!jt.done;_t++,jt=B.next())jt=Z(P,jt.value,X),jt!==null&&(O=m(jt,O,_t),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt);return kt&&gr(P,_t),ft}for(mt=l(mt);!jt.done;_t++,jt=B.next())jt=k(mt,P,_t,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&mt.delete(jt.key===null?_t:jt.key),O=m(jt,O,_t),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt);return e&&mt.forEach(function(ow){return s(P,ow)}),kt&&gr(P,_t),ft}function Xt(P,O,B,X){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:t:{for(var ft=B.key;O!==null;){if(O.key===ft){if(ft=B.type,ft===q){if(O.tag===7){a(P,O.sibling),X=h(O,B.props.children),X.return=P,P=X;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Dy(ft)===O.type){a(P,O.sibling),X=h(O,B.props),Qo(X,B),X.return=P,P=X;break t}a(P,O);break}else s(P,O);O=O.sibling}B.type===q?(X=mr(B.props.children,P.mode,X,B.key),X.return=P,P=X):(X=Iu(B.type,B.key,B.props,null,P.mode,X),Qo(X,B),X.return=P,P=X)}return T(P);case x:t:{for(ft=B.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(P,O.sibling),X=h(O,B.children||[]),X.return=P,P=X;break t}else{a(P,O);break}else s(P,O);O=O.sibling}X=Wh(B,P.mode,X),X.return=P,P=X}return T(P);case b:return ft=B._init,B=ft(B._payload),Xt(P,O,B,X)}if(ne(B))return Tt(P,O,B,X);if(L(B)){if(ft=L(B),typeof ft!="function")throw Error(r(150));return B=ft.call(B),yt(P,O,B,X)}if(typeof B.then=="function")return Xt(P,O,Xu(B),X);if(B.$$typeof===Q)return Xt(P,O,Lu(P,B),X);$u(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,B),X.return=P,P=X):(a(P,O),X=Jh(B,P.mode,X),X.return=P,P=X),T(P)):a(P,O)}return function(P,O,B,X){try{Yo=0;var ft=Xt(P,O,B,X);return Ta=null,ft}catch(mt){if(mt===Bo||mt===Bu)throw mt;var Dt=gn(29,mt,null,P.mode);return Dt.lanes=X,Dt.return=P,Dt}finally{}}}var Ea=xy(!0),Vy=xy(!1),On=W(null),ri=null;function us(e){var s=e.alternate;it(Ce,Ce.current&1),it(On,e),ri===null&&(s===null||ga.current!==null||s.memoizedState!==null)&&(ri=e)}function My(e){if(e.tag===22){if(it(Ce,Ce.current),it(On,e),ri===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(ri=e)}}else cs()}function cs(){it(Ce,Ce.current),it(On,On.current)}function Bi(e){ot(On),ri===e&&(ri=null),ot(Ce)}var Ce=W(0);function Zu(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ad(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Of(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nf={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Tn(),h=as(l);h.payload=s,a!=null&&(h.callback=a),s=os(e,h,l),s!==null&&(En(s,e,l),jo(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Tn(),h=as(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=os(e,h,l),s!==null&&(En(s,e,l),jo(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Tn(),l=as(a);l.tag=2,s!=null&&(l.callback=s),s=os(e,l,a),s!==null&&(En(s,e,a),jo(s,e,a))}};function Iy(e,s,a,l,h,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Vo(a,l)||!Vo(h,m):!0}function Oy(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Nf.enqueueReplaceState(s,s.state,null)}function Sr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ny(e){Ju(e)}function Py(e){console.error(e)}function Ly(e){Ju(e)}function Wu(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,s,a){return a=as(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,s)},a}function By(e){return e=as(e),e.tag=3,e}function zy(e,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;e.payload=function(){return h(m)},e.callback=function(){Uy(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Uy(s,a,l),typeof h!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function ob(e,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Po(s,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ri===null?rd():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),od(e,l,h)),!1;case 22:return a.flags|=65536,l===cf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),od(e,l,h)),!1}throw Error(r(435,a.tag))}return od(e,l,h),rd(),!1}if(kt)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==nf&&(e=Error(r(422),{cause:l}),No(xn(e,a)))):(l!==nf&&(s=Error(r(423),{cause:l}),No(xn(s,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=xn(l,a),h=Pf(e.stateNode,l,h),df(e,h),ue!==4&&(ue=2)),!1;var m=Error(r(520),{cause:l});if(m=xn(m,a),el===null?el=[m]:el.push(m),ue!==4&&(ue=2),s===null)return!0;l=xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,l,e),df(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(gs===null||!gs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),zy(h,e,a,l),df(a,h),!1}a=a.return}while(a!==null);return!1}var jy=Error(r(461)),Oe=!1;function ze(e,s,a,l){s.child=e===null?Vy(s,null,a,l):Ea(s,e.child,a,l)}function ky(e,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Tr(s),l=vf(e,s,a,T,m,h),A=_f(),e!==null&&!Oe?(Tf(e,s,h),zi(e,s,h)):(kt&&A&&tf(s),s.flags|=1,ze(e,s,l,h),s.child)}function qy(e,s,a,l,h){if(e===null){var m=a.type;return typeof m=="function"&&!Zh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Hy(e,s,m,l,h)):(e=Iu(a.type,null,l,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Hf(e,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(T,l)&&e.ref===s.ref)return zi(e,s,h)}return s.flags|=1,e=Ii(m,l),e.ref=s.ref,e.return=s,s.child=e}function Hy(e,s,a,l,h){if(e!==null){var m=e.memoizedProps;if(Vo(m,l)&&e.ref===s.ref)if(Oe=!1,s.pendingProps=l=m,Hf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return s.lanes=e.lanes,zi(e,s,h)}return Lf(e,s,a,l,h)}function Fy(e,s,a){var l=s.pendingProps,h=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,e!==null){for(h=s.child=e.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Gy(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(s,m!==null?m.cachePool:null),m!==null?Hg(s,m):pf(),My(s);else return s.lanes=s.childLanes=536870912,Gy(e,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Uu(s,m.cachePool),Hg(s,m),cs(),s.memoizedState=null):(e!==null&&Uu(s,null),pf(),cs());return ze(e,s,h,a),s.child}function Gy(e,s,a,l){var h=uf();return h=h===null?null:{parent:Re._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},e!==null&&Uu(s,null),pf(),My(s),e!==null&&Po(e,s,l,!0),null}function tc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Lf(e,s,a,l,h){return Tr(s),a=vf(e,s,a,l,void 0,h),l=_f(),e!==null&&!Oe?(Tf(e,s,h),zi(e,s,h)):(kt&&l&&tf(s),s.flags|=1,ze(e,s,a,h),s.child)}function Ky(e,s,a,l,h,m){return Tr(s),s.updateQueue=null,a=Gg(s,l,a,h),Fg(e),l=_f(),e!==null&&!Oe?(Tf(e,s,m),zi(e,s,m)):(kt&&l&&tf(s),s.flags|=1,ze(e,s,a,m),s.child)}function Yy(e,s,a,l,h){if(Tr(s),s.stateNode===null){var m=ha,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ke(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},hf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ke(T):ha,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Of(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Nf.enqueueReplaceState(m,m.state,null),qo(s,l,m,h),ko(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var A=s.memoizedProps,C=Sr(a,A);m.props=C;var z=m.context,Y=a.contextType;T=ha,typeof Y=="object"&&Y!==null&&(T=Ke(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||z!==T)&&Oy(s,m,l,T),rs=!1;var j=s.memoizedState;m.state=j,qo(s,l,m,h),ko(),z=s.memoizedState,A||j!==z||rs?(typeof Z=="function"&&(Of(s,a,Z,l),z=s.memoizedState),(C=rs||Iy(s,a,C,l,j,z,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),m.props=l,m.state=z,m.context=T,l=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,ff(e,s),T=s.memoizedProps,Y=Sr(a,T),m.props=Y,Z=s.pendingProps,j=m.context,z=a.contextType,C=ha,typeof z=="object"&&z!==null&&(C=Ke(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Z||j!==C)&&Oy(s,m,l,C),rs=!1,j=s.memoizedState,m.state=j,qo(s,l,m,h),ko();var k=s.memoizedState;T!==Z||j!==k||rs||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof A=="function"&&(Of(s,a,A,l),k=s.memoizedState),(Y=rs||Iy(s,a,Y,l,j,k,C)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,k,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,k,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=k),m.props=l,m.state=k,m.context=C,l=Y):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,tc(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Ea(s,e.child,null,h),s.child=Ea(s,null,a,h)):ze(e,s,a,h),s.memoizedState=m.state,e=s.child):e=zi(e,s,h),e}function Qy(e,s,a,l){return Oo(),s.flags|=256,ze(e,s,a,l),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:Pg()}}function zf(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Nn),e}function Xy(e,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(kt){if(h?us(s):cs(),kt){var A=le,C;if(C=A){t:{for(C=A,A=si;C.nodeType!==8;){if(!A){A=null;break t}if(C=Fn(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(s.memoizedState={dehydrated:A,treeContext:pr!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=A,C.return=s,s.child=C,nn=s,le=null,C=!0):C=!1}C||vr(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Ad(A)?s.lanes=32:s.lanes=536870912,null;Bi(s)}return A=l.children,l=l.fallback,h?(cs(),h=s.mode,A=ec({mode:"hidden",children:A},h),l=mr(l,h,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,h=s.child,h.memoizedState=Bf(a),h.childLanes=zf(e,T,a),s.memoizedState=Uf,l):(us(s),jf(s,A))}if(C=e.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(m)s.flags&256?(us(s),s.flags&=-257,s=kf(e,s,a)):s.memoizedState!==null?(cs(),s.child=e.child,s.flags|=128,s=null):(cs(),h=l.fallback,A=s.mode,l=ec({mode:"visible",children:l.children},A),h=mr(h,A,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,Ea(s,e.child,null,a),l=s.child,l.memoizedState=Bf(a),l.childLanes=zf(e,T,a),s.memoizedState=Uf,s=h);else if(us(s),Ad(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(r(419)),l.stack="",l.digest=T,No({value:l,source:null,stack:null}),s=kf(e,s,a)}else if(Oe||Po(e,s,a,!1),T=(a&e.childLanes)!==0,Oe||T){if(T=Jt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ca(e,l),En(T,e,l),jy;A.data==="$?"||rd(),s=kf(e,s,a)}else A.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=C.treeContext,le=Fn(A.nextSibling),nn=s,kt=!0,yr=null,si=!1,e!==null&&(Mn[In++]=Oi,Mn[In++]=Ni,Mn[In++]=pr,Oi=e.id,Ni=e.overflow,pr=s),s=jf(s,l.children),s.flags|=4096);return s}return h?(cs(),h=l.fallback,A=s.mode,C=e.child,z=C.sibling,l=Ii(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Ii(z,h):(h=mr(h,A,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,A=e.child.memoizedState,A===null?A=Bf(a):(C=A.cachePool,C!==null?(z=Re._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Pg(),A={baseLanes:A.baseLanes|a,cachePool:C}),h.memoizedState=A,h.childLanes=zf(e,T,a),s.memoizedState=Uf,l):(us(s),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function jf(e,s){return s=ec({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function ec(e,s){return e=gn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kf(e,s,a){return Ea(s,e.child,null,a),e=jf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function $y(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),rf(e.return,s,a)}function qf(e,s,a,l,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Zy(e,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;if(ze(e,s,l.children,a),l=Ce.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,a,s);else if(e.tag===19)$y(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Ce,l),h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),qf(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(s,!0,a,null,m);break;case"together":qf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),ps|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Po(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ii(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Hf(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function lb(e,s,a){switch(s.tag){case 3:Zt(s,s.stateNode.containerInfo),ss(s,Re,e.memoizedState.cache),Oo();break;case 27:case 5:$i(s);break;case 4:Zt(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(us(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Xy(e,s,a):(us(s),e=zi(e,s,a),e!==null?e.sibling:null);us(s);break;case 19:var h=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Po(e,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Zy(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ce,Ce.current),l)break;return null;case 22:case 23:return s.lanes=0,Fy(e,s,a);case 24:ss(s,Re,e.memoizedState.cache)}return zi(e,s,a)}function Jy(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Oe=!0;else{if(!Hf(e,a)&&(s.flags&128)===0)return Oe=!1,lb(e,s,a);Oe=(e.flags&131072)!==0}else Oe=!1,kt&&(s.flags&1048576)!==0&&Dg(s,Nu,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")Zh(l)?(e=Sr(l,e),s.tag=1,s=Yy(null,s,l,e,a)):(s.tag=0,s=Lf(null,s,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===st){s.tag=11,s=ky(null,s,l,e,a);break t}else if(h===V){s.tag=14,s=qy(null,s,l,e,a);break t}}throw s=ye(l)||l,Error(r(306,s,""))}}return s;case 0:return Lf(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Sr(l,s.pendingProps),Yy(e,s,l,h,a);case 3:t:{if(Zt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,ff(e,s),qo(s,l,null,a);var T=s.memoizedState;if(l=T.cache,ss(s,Re,l),l!==m.cache&&af(s,[Re],a,!0),ko(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Qy(e,s,l,a);break t}else if(l!==h){h=xn(Error(r(424)),s),No(h),s=Qy(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Fn(e.firstChild),nn=s,kt=!0,yr=null,si=!0,a=Vy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oo(),l===h){s=zi(e,s,a);break t}ze(e,s,l,a)}s=s.child}return s;case 26:return tc(e,s),e===null?(a=n0(s.type,null,s.pendingProps,null))?s.memoizedState=a:kt||(a=s.type,e=s.pendingProps,l=pc(At.current).createElement(a),l[Se]=s,l[ve]=e,ke(l,a,e),he(l),s.stateNode=l):s.memoizedState=n0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return $i(s),e===null&&kt&&(l=s.stateNode=Wv(s.type,s.pendingProps,At.current),nn=s,si=!0,h=le,_s(s.type)?(Sd=h,le=Fn(l.firstChild)):le=h),ze(e,s,s.pendingProps.children,a),tc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&kt&&((h=l=le)&&(l=Lb(l,s.type,s.pendingProps,si),l!==null?(s.stateNode=l,nn=s,le=Fn(l.firstChild),si=!1,h=!0):h=!1),h||vr(s)),$i(s),h=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,_d(h,m)?l=null:T!==null&&_d(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=vf(e,s,tb,null,null,a),cl._currentValue=h),tc(e,s),ze(e,s,l,a),s.child;case 6:return e===null&&kt&&((e=a=le)&&(a=Ub(a,s.pendingProps,si),a!==null?(s.stateNode=a,nn=s,le=null,e=!0):e=!1),e||vr(s)),null;case 13:return Xy(e,s,a);case 4:return Zt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Ea(s,null,l,a):ze(e,s,l,a),s.child;case 11:return ky(e,s,s.type,s.pendingProps,a);case 7:return ze(e,s,s.pendingProps,a),s.child;case 8:return ze(e,s,s.pendingProps.children,a),s.child;case 12:return ze(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ss(s,s.type,l.value),ze(e,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Tr(s),h=Ke(h),l=l(h),s.flags|=1,ze(e,s,l,a),s.child;case 14:return qy(e,s,s.type,s.pendingProps,a);case 15:return Hy(e,s,s.type,s.pendingProps,a);case 19:return Zy(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=ec(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Ii(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Fy(e,s,a);case 24:return Tr(s),l=Ke(Re),e===null?(h=uf(),h===null&&(h=Jt,m=of(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},hf(s),ss(s,Re,h)):((e.lanes&a)!==0&&(ff(e,s),qo(s,null,null,a),ko()),h=e.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ss(s,Re,l)):(l=m.cache,ss(s,Re,l),l!==h.cache&&af(s,[Re],a,!0))),ze(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ji(e){e.flags|=4}function Wy(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o0(s)){if(s=On.current,s!==null&&((Pt&4194048)===Pt?ri!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||s!==ri))throw zo=cf,Lg;e.flags|=8192}}function nc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?ho():536870912,e.lanes|=s,wa|=s)}function Xo(e,s){if(!kt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function ub(e,s,a){var l=s.pendingProps;switch(ef(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(s),null;case 1:return ie(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Li(Re),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Io(s)?ji(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mg())),ie(s),null;case 26:return a=s.memoizedState,e===null?(ji(s),a!==null?(ie(s),Wy(s,a)):(ie(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ji(s),ie(s),Wy(s,a)):(ie(s),s.flags&=-16777217):(e.memoizedProps!==l&&ji(s),ie(s),s.flags&=-16777217),null;case 27:_i(s),a=At.current;var h=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}e=gt.current,Io(s)?xg(s):(e=Wv(h,l,a),s.stateNode=e,ji(s))}return ie(s),null;case 5:if(_i(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}if(e=gt.current,Io(s))xg(s);else{switch(h=pc(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=s,e[ve]=l;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(s)}}return ie(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=At.current,Io(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Kv(e.nodeValue,a)),e||vr(s)}else e=pc(e).createTextNode(l),e[Se]=s,s.stateNode=e}return ie(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(s),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=s}else Oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),h=!1}else h=Mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Bi(s),s):(Bi(s),null)}if(Bi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),nc(s,s.updateQueue),ie(s),null;case 4:return Kn(),e===null&&md(s.stateNode.containerInfo),ie(s),null;case 10:return Li(s.type),ie(s),null;case 19:if(ot(Ce),h=s.memoizedState,h===null)return ie(s),null;if(l=(s.flags&128)!==0,m=h.rendering,m===null)if(l)Xo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=Zu(e),m!==null){for(s.flags|=128,Xo(h,!1),e=m.updateQueue,s.updateQueue=e,nc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Cg(a,e),a=a.sibling;return it(Ce,Ce.current&1|2),s.child}e=e.sibling}h.tail!==null&&Sn()>rc&&(s.flags|=128,l=!0,Xo(h,!1),s.lanes=4194304)}else{if(!l)if(e=Zu(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,nc(s,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!kt)return ie(s),null}else 2*Sn()-h.renderingStartTime>rc&&a!==536870912&&(s.flags|=128,l=!0,Xo(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(e=h.last,e!==null?e.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Sn(),s.sibling=null,e=Ce.current,it(Ce,l?e&1|2:e&1),s):(ie(s),null);case 22:case 23:return Bi(s),gf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ie(s),s.subtreeFlags&6&&(s.flags|=8192)):ie(s),a=s.updateQueue,a!==null&&nc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&ot(Er),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Li(Re),ie(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function cb(e,s){switch(ef(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Li(Re),Kn(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return _i(s),null;case 13:if(Bi(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Oo()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return ot(Ce),null;case 4:return Kn(),null;case 10:return Li(s.type),null;case 22:case 23:return Bi(s),gf(),e!==null&&ot(Er),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Li(Re),null;case 25:return null;default:return null}}function tv(e,s){switch(ef(s),s.tag){case 3:Li(Re),Kn();break;case 26:case 27:case 5:_i(s);break;case 4:Kn();break;case 13:Bi(s);break;case 19:ot(Ce);break;case 10:Li(s.type);break;case 22:case 23:Bi(s),gf(),e!==null&&ot(Er);break;case 24:Li(Re)}}function $o(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==h)}}catch(A){$t(s,s.return,A)}}function hs(e,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&e)===e){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=s;var C=a,z=A;try{z()}catch(Y){$t(h,C,Y)}}}l=l.next}while(l!==m)}}catch(Y){$t(s,s.return,Y)}}function ev(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{qg(s,a)}catch(l){$t(e,e.return,l)}}}function nv(e,s,a){a.props=Sr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,s,l)}}function Zo(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,s,h)}}function ai(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,s,h)}else a.current=null}function iv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Ff(e,s,a){try{var l=e.stateNode;Mb(l,e.type,a,s),l[ve]=s}catch(h){$t(e,e.return,h)}}function sv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_s(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_s(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=mc));else if(l!==4&&(l===27&&_s(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Kf(e,s,a),e=e.sibling;e!==null;)Kf(e,s,a),e=e.sibling}function ic(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&_s(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,s,a),e=e.sibling;e!==null;)ic(e,s,a),e=e.sibling}function rv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ke(s,l,a),s[Se]=e,s[ve]=a}catch(m){$t(e,e.return,m)}}var ki=!1,de=!1,Yf=!1,av=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function hb(e,s){if(e=e.containerInfo,yd=Ec,e=yg(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,C=-1,z=0,Y=0,Z=e,j=null;e:for(;;){for(var k;Z!==a||h!==0&&Z.nodeType!==3||(A=T+h),Z!==m||l!==0&&Z.nodeType!==3||(C=T+l),Z.nodeType===3&&(T+=Z.nodeValue.length),(k=Z.firstChild)!==null;)j=Z,Z=k;for(;;){if(Z===e)break e;if(j===a&&++z===h&&(A=T),j===m&&++Y===l&&(C=T),(k=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=k}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},Ec=!1,Ne=s;Ne!==null;)if(s=Ne,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Ne=e;else for(;Ne!==null;){switch(s=Ne,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Tt=Sr(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Tt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Ne=e;break}Ne=s.return}}function ov(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fs(e,a),l&4&&$o(5,a);break;case 1:if(fs(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){$t(a,a.return,T)}else{var h=Sr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){$t(a,a.return,T)}}l&64&&ev(a),l&512&&Zo(a,a.return);break;case 3:if(fs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{qg(e,s)}catch(T){$t(a,a.return,T)}}break;case 27:s===null&&l&4&&rv(a);case 26:case 5:fs(e,a),s===null&&l&4&&iv(a),l&512&&Zo(a,a.return);break;case 12:fs(e,a);break;case 13:fs(e,a),l&4&&cv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Tb.bind(null,a),Bb(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){s=s!==null&&s.memoizedState!==null||de,h=ki;var m=de;ki=l,(de=s)&&!m?ds(e,a,(a.subtreeFlags&8772)!==0):fs(e,a),ki=h,de=m}break;case 30:break;default:fs(e,a)}}function lv(e){var s=e.alternate;s!==null&&(e.alternate=null,lv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ts(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,on=!1;function qi(e,s,a){for(a=a.child;a!==null;)uv(e,s,a),a=a.sibling}function uv(e,s,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||ai(a,s),qi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ai(a,s);var l=te,h=on;_s(a.type)&&(te=a.stateNode,on=!1),qi(e,s,a),al(a.stateNode),te=l,on=h;break;case 5:de||ai(a,s);case 6:if(l=te,h=on,te=null,qi(e,s,a),te=l,on=h,te!==null)if(on)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(m){$t(a,s,m)}else try{te.removeChild(a.stateNode)}catch(m){$t(a,s,m)}break;case 18:te!==null&&(on?(e=te,Zv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):Zv(te,a.stateNode));break;case 4:l=te,h=on,te=a.stateNode.containerInfo,on=!0,qi(e,s,a),te=l,on=h;break;case 0:case 11:case 14:case 15:de||hs(2,a,s),de||hs(4,a,s),qi(e,s,a);break;case 1:de||(ai(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&nv(a,s,l)),qi(e,s,a);break;case 21:qi(e,s,a);break;case 22:de=(l=de)||a.memoizedState!==null,qi(e,s,a),de=l;break;default:qi(e,s,a)}}function cv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){$t(s,s.return,a)}}function fb(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new av),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new av),s;default:throw Error(r(435,e.tag))}}function Qf(e,s){var a=fb(e);s.forEach(function(l){var h=Eb.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=e,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(_s(A.type)){te=A.stateNode,on=!1;break t}break;case 5:te=A.stateNode,on=!1;break t;case 3:case 4:te=A.stateNode.containerInfo,on=!0;break t}A=A.return}if(te===null)throw Error(r(160));uv(m,T,h),te=null,on=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)hv(s,e),s=s.sibling}var Hn=null;function hv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(s,e),vn(e),l&4&&(hs(3,e,e.return),$o(3,e),hs(5,e,e.return));break;case 1:yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Js]||m[Se]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),ke(m,l,a),m[Se]=e,he(m),l=m;break t;case"link":var T=r0("link","href",h).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=h.createElement(l),ke(m,l,a),h.head.appendChild(m);break;case"meta":if(T=r0("meta","content",h).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=h.createElement(l),ke(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[Se]=e,he(m),l=m}e.stateNode=l}else a0(h,e.type,e.stateNode);else e.stateNode=s0(h,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?a0(h,e.type,e.stateNode):s0(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),a!==null&&l&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(k){$t(e,e.return,k)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(yn(s,e),vn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(k){$t(e,e.return,k)}}break;case 3:if(vc=null,h=Hn,Hn=gc(s.containerInfo),yn(s,e),Hn=h,vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(s.containerInfo)}catch(k){$t(e,e.return,k)}Yf&&(Yf=!1,fv(e));break;case 4:l=Hn,Hn=gc(e.stateNode.containerInfo),yn(s,e),vn(e),Hn=l;break;case 12:yn(s,e),vn(e);break;case 13:yn(s,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(td=Sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qf(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ki,Y=de;if(ki=z||h,de=Y||C,yn(s,e),de=Y,ki=z,vn(e),l&8192)t:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||ki||de||br(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(m=C.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=C.stateNode;var Z=C.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(k){$t(C,C.return,k)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(k){$t(C,C.return,k)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qf(e,a))));break;case 19:yn(s,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qf(e,l)));break;case 30:break;case 21:break;default:yn(s,e),vn(e)}}function vn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(sv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=Gf(e);ic(e,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(wn(T,""),a.flags&=-33);var A=Gf(e);ic(e,A,T);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Gf(e);Kf(e,z,C);break;default:throw Error(r(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function fv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;fv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function fs(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ov(e,s.alternate,s),s=s.sibling}function br(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),br(s);break;case 1:ai(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&nv(s,s.return,a),br(s);break;case 27:al(s.stateNode);case 26:case 5:ai(s,s.return),br(s);break;case 22:s.memoizedState===null&&br(s);break;case 30:br(s);break;default:br(s)}e=e.sibling}}function ds(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:ds(h,m,a),$o(4,m);break;case 1:if(ds(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=m,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)kg(C[h],A)}catch(z){$t(l,l.return,z)}}a&&T&64&&ev(m),Zo(m,m.return);break;case 27:rv(m);case 26:case 5:ds(h,m,a),a&&l===null&&T&4&&iv(m),Zo(m,m.return);break;case 12:ds(h,m,a);break;case 13:ds(h,m,a),a&&T&4&&cv(h,m);break;case 22:m.memoizedState===null&&ds(h,m,a),Zo(m,m.return);break;case 30:break;default:ds(h,m,a)}s=s.sibling}}function Xf(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function $f(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Lo(e))}function oi(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dv(e,s,a,l),s=s.sibling}function dv(e,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:oi(e,s,a,l),h&2048&&$o(9,s);break;case 1:oi(e,s,a,l);break;case 3:oi(e,s,a,l),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){oi(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(s,s.return,C)}}else oi(e,s,a,l);break;case 13:oi(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?oi(e,s,a,l):Jo(e,s):m._visibility&2?oi(e,s,a,l):(m._visibility|=2,Aa(e,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&Xf(T,s);break;case 24:oi(e,s,a,l),h&2048&&$f(s.alternate,s);break;default:oi(e,s,a,l)}}function Aa(e,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,A=a,C=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:Aa(m,T,A,C,h),$o(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?Aa(m,T,A,C,h):Jo(m,T):(Y._visibility|=2,Aa(m,T,A,C,h)),h&&z&2048&&Xf(T.alternate,T);break;case 24:Aa(m,T,A,C,h),h&&z&2048&&$f(T.alternate,T);break;default:Aa(m,T,A,C,h)}s=s.sibling}}function Jo(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&Xf(l.alternate,l);break;case 24:Jo(a,l),h&2048&&$f(l.alternate,l);break;default:Jo(a,l)}s=s.sibling}}var Wo=8192;function Sa(e){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)mv(e),e=e.sibling}function mv(e){switch(e.tag){case 26:Sa(e),e.flags&Wo&&e.memoizedState!==null&&Zb(Hn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var s=Hn;Hn=gc(e.stateNode.containerInfo),Sa(e),Hn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Wo,Wo=16777216,Sa(e),Wo=s):Sa(e));break;default:Sa(e)}}function pv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function tl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ne=l,yv(l,e)}pv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gv(e),e=e.sibling}function gv(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&hs(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,sc(e)):tl(e);break;default:tl(e)}}function sc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ne=l,yv(l,e)}pv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:hs(8,s,s.return),sc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,sc(s));break;default:sc(s)}e=e.sibling}}function yv(e,s){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:hs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,m=l.return;if(lv(l),l===a){Ne=null;break t}if(h!==null){h.return=m,Ne=h;break t}Ne=m}}}var db={getCacheForType:function(e){var s=Ke(Re),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},mb=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,Vt=null,Pt=0,Gt=0,_n=null,ms=!1,ba=!1,Zf=!1,Hi=0,ue=0,ps=0,wr=0,Jf=0,Nn=0,wa=0,el=null,ln=null,Wf=!1,td=0,rc=1/0,ac=null,gs=null,je=0,ys=null,Ra=null,Ca=0,ed=0,nd=null,vv=null,nl=0,id=null;function Tn(){if((Ft&2)!==0&&Pt!==0)return Pt&-Pt;if(K.T!==null){var e=ma;return e!==0?e:cd()}return Ji()}function _v(){Nn===0&&(Nn=(Pt&536870912)===0||kt?co():536870912);var e=On.current;return e!==null&&(e.flags|=32),Nn}function En(e,s,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),vs(e,Pt,Nn,!1)),Ei(e,a),((Ft&2)===0||e!==Jt)&&(e===Jt&&((Ft&2)===0&&(wr|=a),ue===4&&vs(e,Pt,Nn,!1)),li(e))}function Tv(e,s,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||Zs(e,s),h=l?yb(e,s):ad(e,s,!0),m=l;do{if(h===0){ba&&!l&&vs(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!pb(a)){h=ad(e,s,!1),m=!1;continue}if(h===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=e;h=el;var C=A.current.memoizedState.isDehydrated;if(C&&(Da(A,T).flags|=256),T=ad(A,T,!1),T!==2){if(Zf&&!C){A.errorRecoveryDisabledLanes|=m,wr|=m,h=4;break t}m=ln,ln=h,m!==null&&(ln===null?ln=m:ln.push.apply(ln,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Da(e,0),vs(e,s,0,!0);break}t:{switch(l=e,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vs(l,s,Nn,!ms);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=td+300-Sn(),10<h)){if(vs(l,s,Nn,!ms),Gr(l,0,!0)!==0)break t;l.timeoutHandle=Xv(Ev.bind(null,l,a,ln,ac,Wf,s,Nn,wr,wa,ms,m,2,-0,0),h);break t}Ev(l,a,ln,ac,Wf,s,Nn,wr,wa,ms,m,0,-0,0)}}break}while(!0);li(e)}function Ev(e,s,a,l,h,m,T,A,C,z,Y,Z,j,k){if(e.timeoutHandle=-1,Z=s.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:$b},mv(s),Z=Jb(),Z!==null)){e.cancelPendingCommit=Z(Dv.bind(null,e,s,m,a,l,h,T,A,C,Y,1,j,k)),vs(e,m,T,!z);return}Dv(e,s,m,a,l,h,T,A,C)}function pb(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!pn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(e,s,a,l){s&=~Jf,s&=~wr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var h=s;0<h;){var m=31-Ge(h),T=1<<m;l[m]=-1,h&=~T}a!==0&&Yn(e,a,s)}function oc(){return(Ft&6)===0?(il(0),!1):!0}function sd(){if(Vt!==null){if(Gt===0)var e=Vt.return;else e=Vt,Pi=_r=null,Ef(e),Ta=null,Yo=0,e=Vt;for(;e!==null;)tv(e.alternate,e),e=e.return;Vt=null}}function Da(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ob(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sd(),Jt=e,Vt=a=Ii(e.current,null),Pt=s,Gt=0,_n=null,ms=!1,ba=Zs(e,s),Zf=!1,wa=Nn=Jf=wr=ps=ue=0,ln=el=null,Wf=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var h=31-Ge(l),m=1<<h;s|=e[h],l&=~m}return Hi=s,xu(),a}function Av(e,s){Rt=null,K.H=Qu,s===Bo||s===Bu?(s=zg(),Gt=3):s===Lg?(s=zg(),Gt=4):Gt=s===jy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,_n=s,Vt===null&&(ue=1,Wu(e,xn(s,e.current)))}function Sv(){var e=K.H;return K.H=Qu,e===null?Qu:e}function bv(){var e=K.A;return K.A=db,e}function rd(){ue=4,ms||(Pt&4194048)!==Pt&&On.current!==null||(ba=!0),(ps&134217727)===0&&(wr&134217727)===0||Jt===null||vs(Jt,Pt,Nn,!1)}function ad(e,s,a){var l=Ft;Ft|=2;var h=Sv(),m=bv();(Jt!==e||Pt!==s)&&(ac=null,Da(e,s)),s=!1;var T=ue;t:do try{if(Gt!==0&&Vt!==null){var A=Vt,C=_n;switch(Gt){case 8:sd(),T=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var z=Gt;if(Gt=0,_n=null,xa(e,A,C,z),a&&ba){T=0;break t}break;default:z=Gt,Gt=0,_n=null,xa(e,A,C,z)}}gb(),T=ue;break}catch(Y){Av(e,Y)}while(!0);return s&&e.shellSuspendCounter++,Pi=_r=null,Ft=l,K.H=h,K.A=m,Vt===null&&(Jt=null,Pt=0,xu()),T}function gb(){for(;Vt!==null;)wv(Vt)}function yb(e,s){var a=Ft;Ft|=2;var l=Sv(),h=bv();Jt!==e||Pt!==s?(ac=null,rc=Sn()+500,Da(e,s)):ba=Zs(e,s);t:do try{if(Gt!==0&&Vt!==null){s=Vt;var m=_n;e:switch(Gt){case 1:Gt=0,_n=null,xa(e,s,m,1);break;case 2:case 9:if(Ug(m)){Gt=0,_n=null,Rv(s);break}s=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),li(e)},m.then(s,s);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Ug(m)?(Gt=0,_n=null,Rv(s)):(Gt=0,_n=null,xa(e,s,m,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var A=Vt;if(!T||o0(T)){Gt=0,_n=null;var C=A.sibling;if(C!==null)Vt=C;else{var z=A.return;z!==null?(Vt=z,lc(z)):Vt=null}break e}}Gt=0,_n=null,xa(e,s,m,5);break;case 6:Gt=0,_n=null,xa(e,s,m,6);break;case 8:sd(),ue=6;break t;default:throw Error(r(462))}}vb();break}catch(Y){Av(e,Y)}while(!0);return Pi=_r=null,K.H=l,K.A=h,Ft=a,Vt!==null?0:(Jt=null,Pt=0,xu(),ue)}function vb(){for(;Vt!==null&&!ao();)wv(Vt)}function wv(e){var s=Jy(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,s===null?lc(e):Vt=s}function Rv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Ky(a,s,s.pendingProps,s.type,void 0,Pt);break;case 11:s=Ky(a,s,s.pendingProps,s.type.render,s.ref,Pt);break;case 5:Ef(s);default:tv(a,s),s=Vt=Cg(s,Hi),s=Jy(a,s,Hi)}e.memoizedProps=e.pendingProps,s===null?lc(e):Vt=s}function xa(e,s,a,l){Pi=_r=null,Ef(s),Ta=null,Yo=0;var h=s.return;try{if(ob(e,h,s,a,Pt)){ue=1,Wu(e,xn(a,e.current)),Vt=null;return}}catch(m){if(h!==null)throw Vt=h,m;ue=1,Wu(e,xn(a,e.current)),Vt=null;return}s.flags&32768?(kt||l===1?e=!0:ba||(Pt&536870912)!==0?e=!1:(ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cv(s,e)):lc(s)}function lc(e){var s=e;do{if((s.flags&32768)!==0){Cv(s,ms);return}e=s.return;var a=ub(s.alternate,s,Hi);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=e}while(s!==null);ue===0&&(ue=5)}function Cv(e,s){do{var a=cb(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);ue=6,Vt=null}function Dv(e,s,a,l,h,m,T,A,C){e.cancelPendingCommit=null;do uc();while(je!==0);if((Ft&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Xh,fo(e,a,m,T,A,C),e===Jt&&(Vt=Jt=null,Pt=0),Ra=s,ys=e,Ca=a,ed=m,nd=h,vv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ab(Ys,function(){return Ov(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=nt.p,nt.p=2,T=Ft,Ft|=4;try{hb(e,s,a)}finally{Ft=T,nt.p=h,K.T=l}}je=1,xv(),Vv(),Mv()}}function xv(){if(je===1){je=0;var e=ys,s=Ra,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{hv(s,e);var m=vd,T=yg(e.containerInfo),A=m.focusedElem,C=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&gg(A.ownerDocument.documentElement,A)){if(C!==null&&Fh(A)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Y,A.value.length);else{var Z=A.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var k=j.getSelection(),Tt=A.textContent.length,yt=Math.min(C.start,Tt),Xt=C.end===void 0?yt:Math.min(C.end,Tt);!k.extend&&yt>Xt&&(T=Xt,Xt=yt,yt=T);var P=pg(A,yt),O=pg(A,Xt);if(P&&O&&(k.rangeCount!==1||k.anchorNode!==P.node||k.anchorOffset!==P.offset||k.focusNode!==O.node||k.focusOffset!==O.offset)){var B=Z.createRange();B.setStart(P.node,P.offset),k.removeAllRanges(),yt>Xt?(k.addRange(B),k.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),k.addRange(B))}}}}for(Z=[],k=A;k=k.parentNode;)k.nodeType===1&&Z.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var X=Z[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ec=!!yd,vd=yd=null}finally{Ft=h,nt.p=l,K.T=a}}e.current=s,je=2}}function Vv(){if(je===2){je=0;var e=ys,s=Ra,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{ov(e,s.alternate,s)}finally{Ft=h,nt.p=l,K.T=a}}je=3}}function Mv(){if(je===4||je===3){je=0,su();var e=ys,s=Ra,a=Ca,l=vv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?je=5:(je=0,Ra=ys=null,Iv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gs=null),Kr(a),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(oe,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,h=nt.p,nt.p=2,K.T=null;try{for(var m=e.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{K.T=s,nt.p=h}}(Ca&3)!==0&&uc(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===id?nl++:(nl=0,id=e):nl=0,il(0)}}function Iv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Lo(s)))}function uc(e){return xv(),Vv(),Mv(),Ov()}function Ov(){if(je!==5)return!1;var e=ys,s=ed;ed=0;var a=Kr(Ca),l=K.T,h=nt.p;try{nt.p=32>a?32:a,K.T=null,a=nd,nd=null;var m=ys,T=Ca;if(je=0,Ra=ys=null,Ca=0,(Ft&6)!==0)throw Error(r(331));var A=Ft;if(Ft|=4,gv(m.current),dv(m,m.current,T,a),Ft=A,il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(oe,m)}catch{}return!0}finally{nt.p=h,K.T=l,Iv(e,s)}}function Nv(e,s,a){s=xn(a,s),s=Pf(e.stateNode,s,2),e=os(e,s,2),e!==null&&(Ei(e,2),li(e))}function $t(e,s,a){if(e.tag===3)Nv(e,e,a);else for(;s!==null;){if(s.tag===3){Nv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gs===null||!gs.has(l))){e=xn(a,e),a=By(2),l=os(s,a,2),l!==null&&(zy(a,l,s,e),Ei(l,2),li(l));break}}s=s.return}}function od(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new mb;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(Zf=!0,h.add(a),e=_b.bind(null,e,s,a),s.then(e,e))}function _b(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Pt&a)===a&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>Sn()-td?(Ft&2)===0&&Da(e,0):Jf|=a,wa===Pt&&(wa=0)),li(e)}function Pv(e,s){s===0&&(s=ho()),e=ca(e,s),e!==null&&(Ei(e,s),li(e))}function Tb(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Pv(e,a)}function Eb(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Pv(e,a)}function Ab(e,s){return Gs(e,s)}var cc=null,Va=null,ld=!1,hc=!1,ud=!1,Rr=0;function li(e){e!==Va&&e.next===null&&(Va===null?cc=Va=e:Va=Va.next=e),hc=!0,ld||(ld=!0,bb())}function il(e,s){if(!ud&&hc){ud=!0;do for(var a=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-Ge(42|e)+1)-1,m&=h&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zv(l,m))}else m=Pt,m=Gr(l,l===Jt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Zs(l,m)||(a=!0,zv(l,m));l=l.next}while(a);ud=!1}}function Sb(){Lv()}function Lv(){hc=ld=!1;var e=0;Rr!==0&&(Ib()&&(e=Rr),Rr=0);for(var s=Sn(),a=null,l=cc;l!==null;){var h=l.next,m=Uv(l,s);m===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(Va=a)):(a=l,(e!==0||(m&3)!==0)&&(hc=!0)),l=h}il(e)}function Uv(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Ge(m),A=1<<T,C=h[T];C===-1?((A&a)===0||(A&l)!==0)&&(h[T]=uo(A,s)):C<=s&&(e.expiredLanes|=A),m&=~A}if(s=Jt,a=Pt,a=Gr(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ks(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zs(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Ks(l),Kr(a)){case 2:case 8:a=Hr;break;case 32:a=Ys;break;case 268435456:a=Fr;break;default:a=Ys}return l=Bv.bind(null,e),a=Gs(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Ks(l),e.callbackPriority=2,e.callbackNode=null,2}function Bv(e,s){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var l=Pt;return l=Gr(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tv(e,l,s),Uv(e,Sn()),e.callbackNode!=null&&e.callbackNode===a?Bv.bind(null,e):null)}function zv(e,s){if(uc())return null;Tv(e,s,!0)}function bb(){Nb(function(){(Ft&6)!==0?Gs(oo,Sb):Lv()})}function cd(){return Rr===0&&(Rr=co()),Rr}function jv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function kv(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function wb(e,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=jv((h[ve]||null).action),T=l.submitter;T&&(s=(s=T[ve]||null)?jv(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var A=new Wr("action","action",null,l,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rr!==0){var C=T?kv(h,T):new FormData(h);Vf(a,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(A.preventDefault(),C=T?kv(h,T):new FormData(h),Vf(a,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],Rb=fd.toLowerCase(),Cb=fd[0].toUpperCase()+fd.slice(1);qn(Rb,"on"+Cb)}qn(Tg,"onAnimationEnd"),qn(Eg,"onAnimationIteration"),qn(Ag,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(F1,"onTransitionRun"),qn(G1,"onTransitionStart"),qn(K1,"onTransitionCancel"),qn(Sg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function qv(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var A=l[T],C=A.instance,z=A.currentTarget;if(A=A.listener,C!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=z;try{m(h)}catch(Y){Ju(Y)}h.currentTarget=null,m=C}else for(T=0;T<l.length;T++){if(A=l[T],C=A.instance,z=A.currentTarget,A=A.listener,C!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=z;try{m(h)}catch(Y){Ju(Y)}h.currentTarget=null,m=C}}}}function Mt(e,s){var a=s[po];a===void 0&&(a=s[po]=new Set);var l=e+"__bubble";a.has(l)||(Hv(s,e,2,!1),a.add(l))}function dd(e,s,a){var l=0;s&&(l|=4),Hv(a,e,l,s)}var fc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[fc]){e[fc]=!0,go.forEach(function(a){a!=="selectionchange"&&(Db.has(a)||dd(a,!1,e),dd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[fc]||(s[fc]=!0,dd("selectionchange",!1,s))}}function Hv(e,s,a,l){switch(d0(s)){case 2:var h=ew;break;case 8:h=nw;break;default:h=Dd}a=h.bind(null,s,a,e),h=void 0,!Cn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function pd(e,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=Ai(A),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=m=T;continue t}A=A.parentNode}}l=l.return}mu(function(){var z=m,Y=Rn(a),Z=[];t:{var j=bg.get(e);if(j!==void 0){var k=Wr,Tt=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":k=ra;break;case"focusin":Tt="focus",k=na;break;case"focusout":Tt="blur",k=na;break;case"beforeblur":case"afterblur":k=na;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Au;break;case Tg:case Eg:case Ag:k=ia;break;case Sg:k=bu;break;case"scroll":case"scrollend":k=pu;break;case"wheel":k=aa;break;case"copy":case"cut":case"paste":k=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Do;break;case"toggle":case"beforetoggle":k=Ru}var yt=(s&4)!==0,Xt=!yt&&(e==="scroll"||e==="scrollend"),P=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=z,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||P===null||(X=rr(O,P),X!=null&&yt.push(rl(O,X,B))),Xt)break;O=O.return}0<yt.length&&(j=new k(j,Tt,null,a,Y),Z.push({event:j,listeners:yt}))}}if((s&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",j&&a!==Ri&&(Tt=a.relatedTarget||a.fromElement)&&(Ai(Tt)||Tt[bn]))break t;if((k||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,k?(Tt=a.relatedTarget||a.toElement,k=z,Tt=Tt?Ai(Tt):null,Tt!==null&&(Xt=u(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(k=null,Tt=z),k!==Tt)){if(yt=Dn,X="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Do,X="onPointerLeave",P="onPointerEnter",O="pointer"),Xt=k==null?j:Xn(k),B=Tt==null?j:Xn(Tt),j=new yt(X,O+"leave",k,a,Y),j.target=Xt,j.relatedTarget=B,X=null,Ai(Y)===z&&(yt=new yt(P,O+"enter",Tt,a,Y),yt.target=B,yt.relatedTarget=Xt,X=yt),Xt=X,k&&Tt)e:{for(yt=k,P=Tt,O=0,B=yt;B;B=Ma(B))O++;for(B=0,X=P;X;X=Ma(X))B++;for(;0<O-B;)yt=Ma(yt),O--;for(;0<B-O;)P=Ma(P),B--;for(;O--;){if(yt===P||P!==null&&yt===P.alternate)break e;yt=Ma(yt),P=Ma(P)}yt=null}else yt=null;k!==null&&Fv(Z,j,k,yt,!1),Tt!==null&&Xt!==null&&Fv(Z,Xt,Tt,yt,!0)}}t:{if(j=z?Xn(z):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var ft=ug;else if(we(j))if(cg)ft=k1;else{ft=z1;var Dt=B1}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Eo(z.elementType)&&(ft=ug):ft=j1;if(ft&&(ft=ft(e,z))){Mi(Z,ft,a,Y);break t}Dt&&Dt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ns(j,"number",j.value)}switch(Dt=z?Xn(z):window,e){case"focusin":(we(Dt)||Dt.contentEditable==="true")&&(oa=Dt,Gh=z,Mo=null);break;case"focusout":Mo=Gh=oa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,vg(Z,a,Y);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":vg(Z,a,Y)}var mt;if(ni)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?H(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(mt=So()):(Jn=Y,is="value"in Jn?Jn.value:Jn.textContent,Ot=!0)),Dt=dc(z,_t),0<Dt.length&&(_t=new Ro(_t,e,null,a,Y),Z.push({event:_t,listeners:Dt}),mt?_t.data=mt:(mt=rt(a),mt!==null&&(_t.data=mt)))),(mt=y?be(e,a):Nt(e,a))&&(_t=dc(z,"onBeforeInput"),0<_t.length&&(Dt=new Ro("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Dt,listeners:_t}),Dt.data=mt)),wb(Z,e,z,a,Y)}qv(Z,s)})}function rl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function dc(e,s){for(var a=s+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=rr(e,a),h!=null&&l.unshift(rl(e,h,m)),h=rr(e,s),h!=null&&l.push(rl(e,h,m))),e.tag===3)return l;e=e.return}return[]}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fv(e,s,a,l,h){for(var m=s._reactName,T=[];a!==null&&a!==l;){var A=a,C=A.alternate,z=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||z===null||(C=z,h?(z=rr(a,m),z!=null&&T.unshift(rl(a,z,C))):h||(z=rr(a,m),z!=null&&T.push(rl(a,z,C)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var xb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function Gv(e){return(typeof e=="string"?e:""+e).replace(xb,`
`).replace(Vb,"")}function Kv(e,s){return s=Gv(s),Gv(e)===s}function mc(){}function Qt(e,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&wn(e,""+l);break;case"className":$n(e,"class",l);break;case"tabIndex":$n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,l);break;case"style":To(e,l,m);break;case"data":if(s!=="object"){$n(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Qt(e,s,"name",h.name,h,null),Qt(e,s,"formEncType",h.formEncType,h,null),Qt(e,s,"formMethod",h.formMethod,h,null),Qt(e,s,"formTarget",h.formTarget,h,null)):(Qt(e,s,"encType",h.encType,h,null),Qt(e,s,"method",h.method,h,null),Qt(e,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=mc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Jr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),es(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":es(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bh.get(a)||a,es(e,a,l))}}function gd(e,s,a,l,h,m){switch(a){case"style":To(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=e[ve]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):es(e,a,l)}}}function ke(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qt(e,s,m,T,a,null)}}h&&Qt(e,s,"srcSet",a.srcSet,a,null),l&&Qt(e,s,"src",a.src,a,null);return;case"input":Mt("invalid",e);var A=m=T=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":T=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Qt(e,s,l,Y,a,null)}}nr(e,m,A,C,z,T,h,!1),Zr(e);return;case"select":Mt("invalid",e),l=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Qt(e,s,h,A,a,null)}s=m,a=T,e.multiple=!!l,s!=null?wi(e,!!l,s,!1):a!=null&&wi(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),m=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Qt(e,s,T,A,a,null)}ir(e,l,h,m),Zr(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(e,s,C,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<sl.length;l++)Mt(sl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qt(e,s,z,l,a,null)}return;default:if(Eo(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&gd(e,s,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Qt(e,s,A,l,a,null))}function Mb(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,A=null,C=null,z=null,Y=null;for(k in a){var Z=a[k];if(a.hasOwnProperty(k)&&Z!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(k)||Qt(e,s,k,null,l,Z)}}for(var j in l){var k=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(k!=null||Z!=null))switch(j){case"type":m=k;break;case"name":h=k;break;case"checked":z=k;break;case"defaultChecked":Y=k;break;case"value":T=k;break;case"defaultValue":A=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:k!==Z&&Qt(e,s,j,k,l,Z)}}mn(e,T,A,C,z,Y,m,h);return;case"select":k=T=A=j=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":k=C;default:l.hasOwnProperty(m)||Qt(e,s,m,null,l,C)}for(h in l)if(m=l[h],C=a[h],l.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":j=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==C&&Qt(e,s,h,m,l,C)}s=A,a=T,l=k,j!=null?wi(e,!!a,j,!1):!!l!=!!a&&(s!=null?wi(e,!!a,s,!0):wi(e,!!a,a?[]:"",!1));return;case"textarea":k=j=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qt(e,s,A,null,l,h)}for(T in l)if(h=l[T],m=a[T],l.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":j=h;break;case"defaultValue":k=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&Qt(e,s,T,h,l,m)}Kt(e,j,k);return;case"option":for(var Tt in a)if(j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Qt(e,s,Tt,null,l,j)}for(C in l)if(j=l[C],k=a[C],l.hasOwnProperty(C)&&j!==k&&(j!=null||k!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Qt(e,s,C,j,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Qt(e,s,yt,null,l,j);for(z in l)if(j=l[z],k=a[z],l.hasOwnProperty(z)&&j!==k&&(j!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Qt(e,s,z,j,l,k)}return;default:if(Eo(s)){for(var Xt in a)j=a[Xt],a.hasOwnProperty(Xt)&&j!==void 0&&!l.hasOwnProperty(Xt)&&gd(e,s,Xt,void 0,l,j);for(Y in l)j=l[Y],k=a[Y],!l.hasOwnProperty(Y)||j===k||j===void 0&&k===void 0||gd(e,s,Y,j,l,k);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Qt(e,s,P,null,l,j);for(Z in l)j=l[Z],k=a[Z],!l.hasOwnProperty(Z)||j===k||j==null&&k==null||Qt(e,s,Z,j,l,k)}var yd=null,vd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function Yv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function _d(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Td=null;function Ib(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(Pb)}:Xv;function Pb(e){setTimeout(function(){throw e})}function _s(e){return e==="head"}function Zv(e,s){var a=s,l=0,h=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&al(T.documentElement),a&2&&al(T.body),a&4)for(a=T.head,al(a),T=a.firstChild;T;){var A=T.nextSibling,C=T.nodeName;T[Js]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(h===0){e.removeChild(m),ml(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);ml(s)}function Ed(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lb(e,s,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Js])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Ub(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Bb(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Sd=null;function Jv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function Wv(e,s,a){switch(s=pc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function al(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ts(e)}var Pn=new Map,t0=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=nt.d;nt.d={f:zb,r:jb,D:kb,C:qb,L:Hb,m:Fb,X:Kb,S:Gb,M:Yb};function zb(){var e=Fi.f(),s=oc();return e||s}function jb(e){var s=Qn(e);s!==null&&s.tag===5&&s.type==="form"?Ty(s):Fi.r(e)}var Ia=typeof document>"u"?null:document;function e0(e,s,a){var l=Ia;if(l&&typeof s=="string"&&s){var h=_e(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t0.has(h)||(t0.add(h),e={rel:e,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),ke(s,"link",e),he(s),l.head.appendChild(s)))}}function kb(e){Fi.D(e),e0("dns-prefetch",e,null)}function qb(e,s){Fi.C(e,s),e0("preconnect",e,s)}function Hb(e,s,a){Fi.L(e,s,a);var l=Ia;if(l&&e&&s){var h='link[rel="preload"][as="'+_e(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_e(a.imageSizes)+'"]')):h+='[href="'+_e(e)+'"]';var m=h;switch(s){case"style":m=Oa(e);break;case"script":m=Na(e)}Pn.has(m)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Pn.set(m,e),l.querySelector(h)!==null||s==="style"&&l.querySelector(ol(m))||s==="script"&&l.querySelector(ll(m))||(s=l.createElement("link"),ke(s,"link",e),he(s),l.head.appendChild(s)))}}function Fb(e,s){Fi.m(e,s);var a=Ia;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Na(e)}if(!Pn.has(m)&&(e=v({rel:"modulepreload",href:e},s),Pn.set(m,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(m)))return}l=a.createElement("link"),ke(l,"link",e),he(l),a.head.appendChild(l)}}}function Gb(e,s,a){Fi.S(e,s,a);var l=Ia;if(l&&e){var h=We(l).hoistableStyles,m=Oa(e);s=s||"default";var T=h.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(ol(m)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Pn.get(m))&&bd(e,a);var C=T=l.createElement("link");he(C),ke(C,"link",e),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,yc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(m,T)}}}function Kb(e,s){Fi.X(e,s);var a=Ia;if(a&&e){var l=We(a).hoistableScripts,h=Na(e),m=l.get(h);m||(m=a.querySelector(ll(h)),m||(e=v({src:e,async:!0},s),(s=Pn.get(h))&&wd(e,s),m=a.createElement("script"),he(m),ke(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Yb(e,s){Fi.M(e,s);var a=Ia;if(a&&e){var l=We(a).hoistableScripts,h=Na(e),m=l.get(h);m||(m=a.querySelector(ll(h)),m||(e=v({src:e,async:!0,type:"module"},s),(s=Pn.get(h))&&wd(e,s),m=a.createElement("script"),he(m),ke(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function n0(e,s,a,l){var h=(h=At.current)?gc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Oa(a.href),a=We(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var m=We(h).hoistableStyles,T=m.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=h.querySelector(ol(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),m||Qb(h,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Na(a),a=We(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Oa(e){return'href="'+_e(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function i0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ke(s,"link",a),he(s),e.head.appendChild(s))}function Na(e){return'[src="'+_e(e)+'"]'}function ll(e){return"script[async]"+e}function s0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return s.instance=l,he(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),ke(l,"style",h),yc(l,a.precedence,e),s.instance=l;case"stylesheet":h=Oa(a.href);var m=e.querySelector(ol(h));if(m)return s.state.loading|=4,s.instance=m,he(m),m;l=i0(a),(h=Pn.get(h))&&bd(l,h),m=(e.ownerDocument||e).createElement("link"),he(m);var T=m;return T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),ke(m,"link",l),s.state.loading|=4,yc(m,a.precedence,e),s.instance=m;case"script":return m=Na(a.src),(h=e.querySelector(ll(m)))?(s.instance=h,he(h),h):(l=a,(h=Pn.get(m))&&(l=v({},a),wd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),ke(h,"link",l),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,yc(l,a.precedence,e));return s.instance}function yc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===s)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function bd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function wd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var vc=null;function r0(e,s,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[Js]||m[Se]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function a0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Xb(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function o0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function $b(){}function Zb(e,s,a){if(ul===null)throw Error(r(475));var l=ul;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Oa(a.href),m=e.querySelector(ol(h));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=_c.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,he(m);return}m=e.ownerDocument||e,a=i0(a),(h=Pn.get(h))&&bd(a,h),m=m.createElement("link"),he(m);var T=m;T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),ke(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=_c.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function Jb(){if(ul===null)throw Error(r(475));var e=ul;return e.stylesheets&&e.count===0&&Rd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Rd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Rd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,s.forEach(Wb,e),Tc=null,_c.call(e))}function Wb(e,s){if(!(s.state.loading&4)){var a=Tc.get(e);if(a)var l=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=s.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,h),a.set(T,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var cl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function tw(e,s,a,l,h,m,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function l0(e,s,a,l,h,m,T,A,C,z,Y,Z){return e=new tw(e,s,a,T,A,C,z,Z),s=1,m===!0&&(s|=24),m=gn(3,null,null,s),e.current=m,m.stateNode=e,s=of(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},hf(m),e}function u0(e){return e?(e=ha,e):ha}function c0(e,s,a,l,h,m){h=u0(h),l.context===null?l.context=h:l.pendingContext=h,l=as(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=os(e,l,s),a!==null&&(En(a,e,s),jo(a,e,s))}function h0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Cd(e,s){h0(e,s),(e=e.alternate)&&h0(e,s)}function f0(e){if(e.tag===13){var s=ca(e,67108864);s!==null&&En(s,e,67108864),Cd(e,67108864)}}var Ec=!0;function ew(e,s,a,l){var h=K.T;K.T=null;var m=nt.p;try{nt.p=2,Dd(e,s,a,l)}finally{nt.p=m,K.T=h}}function nw(e,s,a,l){var h=K.T;K.T=null;var m=nt.p;try{nt.p=8,Dd(e,s,a,l)}finally{nt.p=m,K.T=h}}function Dd(e,s,a,l){if(Ec){var h=xd(l);if(h===null)pd(e,s,l,Ac,a),m0(e,l);else if(sw(h,e,s,a,l))l.stopPropagation();else if(m0(e,l),s&4&&-1<iw.indexOf(e)){for(;h!==null;){var m=Qn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=zn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var C=1<<31-Ge(T);A.entanglements[1]|=C,T&=~C}li(m),(Ft&6)===0&&(rc=Sn()+500,il(0))}}break;case 13:A=ca(m,2),A!==null&&En(A,m,2),oc(),Cd(m,2)}if(m=xd(l),m===null&&pd(e,s,l,Ac,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else pd(e,s,l,null,a)}}function xd(e){return e=Rn(e),Vd(e)}var Ac=null;function Vd(e){if(Ac=null,e=Ai(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=f(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Ac=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case oo:return 2;case Hr:return 8;case Ys:case Oh:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Md=!1,Ts=null,Es=null,As=null,hl=new Map,fl=new Map,Ss=[],iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(e,s){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(s.pointerId)}}function dl(e,s,a,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Qn(s),s!==null&&f0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function sw(e,s,a,l,h){switch(s){case"focusin":return Ts=dl(Ts,e,s,a,l,h),!0;case"dragenter":return Es=dl(Es,e,s,a,l,h),!0;case"mouseover":return As=dl(As,e,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return hl.set(m,dl(hl.get(m)||null,e,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,fl.set(m,dl(fl.get(m)||null,e,s,a,l,h)),!0}return!1}function p0(e){var s=Ai(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){e.blockedOn=s,ou(e.priority,function(){if(a.tag===13){var l=Tn();l=Zi(l);var h=ca(a,l);h!==null&&En(h,a,l),Cd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return s=Qn(a),s!==null&&f0(s),e.blockedOn=a,!1;s.shift()}return!0}function g0(e,s,a){Sc(e)&&a.delete(s)}function rw(){Md=!1,Ts!==null&&Sc(Ts)&&(Ts=null),Es!==null&&Sc(Es)&&(Es=null),As!==null&&Sc(As)&&(As=null),hl.forEach(g0),fl.forEach(g0)}function bc(e,s){e.blockedOn===s&&(e.blockedOn=null,Md||(Md=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,rw)))}var wc=null;function y0(e){wc!==e&&(wc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],h=e[s+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var m=Qn(a);m!==null&&(e.splice(s,3),s-=3,Vf(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(e){function s(C){return bc(C,e)}Ts!==null&&bc(Ts,e),Es!==null&&bc(Es,e),As!==null&&bc(As,e),hl.forEach(s),fl.forEach(s);for(var a=0;a<Ss.length;a++){var l=Ss[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ss.length&&(a=Ss[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&Ss.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],T=h[ve]||null;if(typeof m=="function")T||y0(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[ve]||null)A=T.formAction;else if(Vd(h)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),y0(a)}}}function Id(e){this._internalRoot=e}Rc.prototype.render=Id.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Tn();c0(a,l,e,s,null,null)},Rc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;c0(e.current,2,null,e,null,null),oc(),s[bn]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Ji();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ss.length&&s!==0&&s<Ss[a].priority;a++);Ss.splice(a,0,e),a===0&&p0(e)}};var v0=t.version;if(v0!=="19.1.0")throw Error(r(527,v0,"19.1.0"));nt.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var aw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{oe=Cc.inject(aw),Ht=Cc}catch{}}return gl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",h=Ny,m=Py,T=Ly,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=l0(e,1,!1,null,null,a,l,h,m,T,A,null),e[bn]=s.current,md(e),new Id(s)},gl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,h="",m=Ny,T=Py,A=Ly,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=l0(e,1,!0,s,a??null,l,h,m,T,A,C,z),s.context=u0(null),a=s.current,l=Tn(),l=Zi(l),h=as(l),h.callback=null,os(a,h,l),a=l,s.current.lanes=a,Ei(s,a),li(s),e[bn]=s.current,md(e),new Rc(s)},gl.version="19.1.0",gl}var D0;function yw(){if(D0)return Pd.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pd.exports=gw(),Pd.exports}var vw=yw();const _w=()=>{};var x0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Tw=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],f=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],f=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,d=f?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,x=g&63;p||(x=64,f||(w=64)),r.push(i[v],i[E],i[w],i[x])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(uE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Tw(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new Ew;const w=u<<2|d>>4;if(r.push(w),g!==64){const x=d<<4&240|g>>2;if(r.push(x),E!==64){const q=g<<6&192|E;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aw=function(n){const t=uE(n);return cE.encodeByteArray(t,!0)},Fc=function(n){return Aw(n).replace(/\./g,"")},Sw=function(n){try{return cE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=()=>bw().__FIREBASE_DEFAULTS__,Rw=()=>{if(typeof process>"u"||typeof x0>"u")return;const n=x0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Cw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Sw(n[1]);return t&&JSON.parse(t)},ep=()=>{try{return _w()||ww()||Rw()||Cw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Dw=n=>{var t,i;return(i=(t=ep())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},xw=n=>{const t=Dw(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},hE=()=>{var n;return(n=ep())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fc(JSON.stringify(i)),Fc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ow(){var n;const t=(n=ep())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Pw(){return!Ow()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fE(){try{return typeof indexedDB=="object"}catch{return!1}}function dE(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function Lw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="FirebaseError";class qs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Uw,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Bw(u,r):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new qs(o,d,r)}}function Bw(n,t){return n.replace(zw,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const zw=/\{\$([^}]+)}/g;function Nl(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],f=t[o];if(V0(u)&&V0(f)){if(!Nl(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function V0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=1e3,kw=2,qw=4*60*60*1e3,Hw=.5;function M0(n,t=jw,i=kw){const r=t*Math.pow(i,n),o=Math.round(Hw*r*(Math.random()-.5)*2);return Math.min(qw,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n){return n&&n._delegate?n._delegate:n}class Gi{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Vw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kw(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gw(n){return n===Dr?void 0:n}function Kw(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Fw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const Qw={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Xw=Ut.INFO,$w={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},Zw=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=$w[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class np{constructor(t){this.name=t,this._logLevel=Xw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const Jw=(n,t)=>t.some(i=>n instanceof i);let I0,O0;function Ww(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t2(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,um=new WeakMap,pE=new WeakMap,zd=new WeakMap,ip=new WeakMap;function e2(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(Ds(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&mE.set(i,n)}).catch(()=>{}),ip.set(t,n),t}function n2(n){if(um.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});um.set(n,t)}let cm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return um.get(n);if(t==="objectStoreNames")return n.objectStoreNames||pE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ds(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function i2(n){cm=n(cm)}function s2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(jd(this),t,...i);return pE.set(r,t.sort?t.sort():[t]),Ds(r)}:t2().includes(n)?function(...t){return n.apply(jd(this),t),Ds(mE.get(this))}:function(...t){return Ds(n.apply(jd(this),t))}}function r2(n){return typeof n=="function"?s2(n):(n instanceof IDBTransaction&&n2(n),Jw(n,Ww())?new Proxy(n,cm):n)}function Ds(n){if(n instanceof IDBRequest)return e2(n);if(zd.has(n))return zd.get(n);const t=r2(n);return t!==n&&(zd.set(n,t),ip.set(t,n)),t}const jd=n=>ip.get(n);function gE(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),d=Ds(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ds(f.result),p.oldVersion,p.newVersion,Ds(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const a2=["get","getKey","getAll","getAllKeys","count"],o2=["put","add","delete","clear"],kd=new Map;function N0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=o2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||a2.includes(i)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return kd.set(t,u),u}i2(n=>({...n,get:(t,i,r)=>N0(t,i)||n.get(t,i,r),has:(t,i)=>!!N0(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(u2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function u2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hm="@firebase/app",P0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new np("@firebase/app"),c2="@firebase/app-compat",h2="@firebase/analytics-compat",f2="@firebase/analytics",d2="@firebase/app-check-compat",m2="@firebase/app-check",p2="@firebase/auth",g2="@firebase/auth-compat",y2="@firebase/database",v2="@firebase/data-connect",_2="@firebase/database-compat",T2="@firebase/functions",E2="@firebase/functions-compat",A2="@firebase/installations",S2="@firebase/installations-compat",b2="@firebase/messaging",w2="@firebase/messaging-compat",R2="@firebase/performance",C2="@firebase/performance-compat",D2="@firebase/remote-config",x2="@firebase/remote-config-compat",V2="@firebase/storage",M2="@firebase/storage-compat",I2="@firebase/firestore",O2="@firebase/vertexai",N2="@firebase/firestore-compat",P2="firebase",L2="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",U2={[hm]:"fire-core",[c2]:"fire-core-compat",[f2]:"fire-analytics",[h2]:"fire-analytics-compat",[m2]:"fire-app-check",[d2]:"fire-app-check-compat",[p2]:"fire-auth",[g2]:"fire-auth-compat",[y2]:"fire-rtdb",[v2]:"fire-data-connect",[_2]:"fire-rtdb-compat",[T2]:"fire-fn",[E2]:"fire-fn-compat",[A2]:"fire-iid",[S2]:"fire-iid-compat",[b2]:"fire-fcm",[w2]:"fire-fcm-compat",[R2]:"fire-perf",[C2]:"fire-perf-compat",[D2]:"fire-rc",[x2]:"fire-rc-compat",[V2]:"fire-gcs",[M2]:"fire-gcs-compat",[I2]:"fire-fst",[N2]:"fire-fst-compat",[O2]:"fire-vertex","fire-js":"fire-js",[P2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,B2=new Map,dm=new Map;function L0(n,t){try{n.container.addComponent(t)}catch(i){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Os(n){const t=n.name;if(dm.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,n);for(const i of Gc.values())L0(i,n);for(const i of B2.values())L0(i,n);return!0}function Xl(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function z2(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new hh("app","Firebase",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=L2;function yE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:fm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw xs.create("bad-app-name",{appName:String(o)});if(i||(i=hE()),!i)throw xs.create("no-options");const u=Gc.get(o);if(u){if(Nl(i,u.options)&&Nl(r,u.config))return u;throw xs.create("duplicate-app",{appName:o})}const f=new Yw(o);for(const p of dm.values())f.addComponent(p);const d=new k2(i,r,f);return Gc.set(o,d),d}function vE(n=fm){const t=Gc.get(n);if(!t&&n===fm&&hE())return yE();if(!t)throw xs.create("no-app",{appName:n});return t}function hi(n,t,i){var r;let o=(r=U2[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}Os(new Gi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firebase-heartbeat-database",F2=1,Pl="firebase-heartbeat-store";let qd=null;function _E(){return qd||(qd=gE(H2,F2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),qd}async function G2(n){try{const i=(await _E()).transaction(Pl),r=await i.objectStore(Pl).get(TE(n));return await i.done,r}catch(t){if(t instanceof qs)Ki.warn(t.message);else{const i=xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ki.warn(i.message)}}}async function U0(n,t){try{const r=(await _E()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(t,TE(n)),await r.done}catch(i){if(i instanceof qs)Ki.warn(i.message);else{const r=xs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ki.warn(r.message)}}}function TE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1024,Y2=30;class Q2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Y2){const f=Z2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=B0(),{heartbeatsToSend:r,unsentEntries:o}=X2(this._heartbeatsCache.heartbeats),u=Fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Ki.warn(i),""}}}function B0(){return new Date().toISOString().substring(0,10)}function X2(n,t=K2){const i=[];let r=n.slice();for(const o of n){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),z0(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),z0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fE()?dE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await G2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return U0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return U0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function z0(n){return Fc(JSON.stringify({version:2,heartbeats:n})).length}function Z2(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){Os(new Gi("platform-logger",t=>new l2(t),"PRIVATE")),Os(new Gi("heartbeat",t=>new Q2(t),"PRIVATE")),hi(hm,P0,n),hi(hm,P0,"esm2017"),hi("fire-js","")}J2("");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,EE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,b){function R(){}R.prototype=b.prototype,V.D=b.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(I,N,L){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return b.prototype[N].apply(I,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,R){R||(R=0);var I=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)I[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;16>N;++N)I[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=V.g[0],R=V.g[1],N=V.g[2];var L=V.g[3],D=b+(L^R&(N^L))+I[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=L+(N^b&(R^N))+I[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=N+(R^L&(b^R))+I[2]+606105819&4294967295,N=L+(D<<17&4294967295|D>>>15),D=R+(b^N&(L^b))+I[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(L^R&(N^L))+I[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(N^b&(R^N))+I[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=N+(R^L&(b^R))+I[6]+2821735955&4294967295,N=L+(D<<17&4294967295|D>>>15),D=R+(b^N&(L^b))+I[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(L^R&(N^L))+I[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(N^b&(R^N))+I[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=N+(R^L&(b^R))+I[10]+4294925233&4294967295,N=L+(D<<17&4294967295|D>>>15),D=R+(b^N&(L^b))+I[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(L^R&(N^L))+I[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(N^b&(R^N))+I[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=N+(R^L&(b^R))+I[14]+2792965006&4294967295,N=L+(D<<17&4294967295|D>>>15),D=R+(b^N&(L^b))+I[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(N^L&(R^N))+I[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^N&(b^R))+I[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(L^b))+I[11]+643717713&4294967295,N=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(N^L))+I[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^L&(R^N))+I[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^N&(b^R))+I[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(L^b))+I[15]+3634488961&4294967295,N=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(N^L))+I[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^L&(R^N))+I[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^N&(b^R))+I[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(L^b))+I[3]+4107603335&4294967295,N=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(N^L))+I[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^L&(R^N))+I[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^N&(b^R))+I[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(L^b))+I[7]+1735328473&4294967295,N=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(N^L))+I[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(R^N^L)+I[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^N)+I[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=N+(L^b^R)+I[11]+1839030562&4294967295,N=L+(D<<16&4294967295|D>>>16),D=R+(N^L^b)+I[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^L)+I[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^N)+I[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=N+(L^b^R)+I[7]+4139469664&4294967295,N=L+(D<<16&4294967295|D>>>16),D=R+(N^L^b)+I[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^L)+I[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^N)+I[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=N+(L^b^R)+I[3]+3572445317&4294967295,N=L+(D<<16&4294967295|D>>>16),D=R+(N^L^b)+I[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^L)+I[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^N)+I[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=N+(L^b^R)+I[15]+530742520&4294967295,N=L+(D<<16&4294967295|D>>>16),D=R+(N^L^b)+I[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(N^(R|~L))+I[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~N))+I[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=N+(b^(L|~R))+I[14]+2878612391&4294967295,N=L+(D<<15&4294967295|D>>>17),D=R+(L^(N|~b))+I[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~L))+I[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~N))+I[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=N+(b^(L|~R))+I[10]+4293915773&4294967295,N=L+(D<<15&4294967295|D>>>17),D=R+(L^(N|~b))+I[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~L))+I[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~N))+I[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=N+(b^(L|~R))+I[6]+2734768916&4294967295,N=L+(D<<15&4294967295|D>>>17),D=R+(L^(N|~b))+I[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~L))+I[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~N))+I[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=N+(b^(L|~R))+I[2]+718787259&4294967295,N=L+(D<<15&4294967295|D>>>17),D=R+(L^(N|~b))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+L&4294967295}r.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var R=b-this.blockSize,I=this.B,N=this.h,L=0;L<b;){if(N==0)for(;L<=R;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<b;)if(I[N++]=V.charCodeAt(L++),N==this.blockSize){o(this,I),N=0;break}}else for(;L<b;)if(I[N++]=V[L++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=b},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var R=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=R&255,R/=256;for(this.u(V),V=Array(16),b=R=0;4>b;++b)for(var I=0;32>I;I+=8)V[R++]=this.g[b]>>>I&255;return V};function u(V,b){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=b(V)}function f(V,b){this.h=b;for(var R=[],I=!0,N=V.length-1;0<=N;N--){var L=V[N]|0;I&&L==b||(R[N]=L,I=!1)}this.g=R}var d={};function p(V){return-128<=V&&128>V?u(V,function(b){return new f([b|0],0>b?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return F(g(-V));for(var b=[],R=1,I=0;V>=R;I++)b[I]=V/R|0,R*=4294967296;return new f(b,0)}function v(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return F(v(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),I=E,N=0;N<V.length;N+=8){var L=Math.min(8,V.length-N),D=parseInt(V.substring(N,N+L),b);8>L?(L=g(Math.pow(b,L)),I=I.j(L).add(g(D))):(I=I.j(R),I=I.add(g(D)))}return I}var E=p(0),w=p(1),x=p(16777216);n=f.prototype,n.m=function(){if(G(this))return-F(this).m();for(var V=0,b=1,R=0;R<this.g.length;R++){var I=this.i(R);V+=(0<=I?I:4294967296+I)*b,b*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(q(this))return"0";if(G(this))return"-"+F(this).toString(V);for(var b=g(Math.pow(V,6)),R=this,I="";;){var N=st(R,b).g;R=$(R,N.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=N,q(R))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function q(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function G(V){return V.h==-1}n.l=function(V){return V=$(this,V),G(V)?-1:q(V)?0:1};function F(V){for(var b=V.g.length,R=[],I=0;I<b;I++)R[I]=~V.g[I];return new f(R,~V.h).add(w)}n.abs=function(){return G(this)?F(this):this},n.add=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0,N=0;N<=b;N++){var L=I+(this.i(N)&65535)+(V.i(N)&65535),D=(L>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);I=D>>>16,L&=65535,D&=65535,R[N]=D<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(V,b){return V.add(F(b))}n.j=function(V){if(q(this)||q(V))return E;if(G(this))return G(V)?F(this).j(F(V)):F(F(this).j(V));if(G(V))return F(this.j(F(V)));if(0>this.l(x)&&0>V.l(x))return g(this.m()*V.m());for(var b=this.g.length+V.g.length,R=[],I=0;I<2*b;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<V.g.length;N++){var L=this.i(I)>>>16,D=this.i(I)&65535,ye=V.i(N)>>>16,ne=V.i(N)&65535;R[2*I+2*N]+=D*ne,et(R,2*I+2*N),R[2*I+2*N+1]+=L*ne,et(R,2*I+2*N+1),R[2*I+2*N+1]+=D*ye,et(R,2*I+2*N+1),R[2*I+2*N+2]+=L*ye,et(R,2*I+2*N+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new f(R,0)};function et(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function Q(V,b){this.g=V,this.h=b}function st(V,b){if(q(b))throw Error("division by zero");if(q(V))return new Q(E,E);if(G(V))return b=st(F(V),b),new Q(F(b.g),F(b.h));if(G(b))return b=st(V,F(b)),new Q(F(b.g),b.h);if(30<V.g.length){if(G(V)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,I=b;0>=I.l(V);)R=tt(R),I=tt(I);var N=lt(R,1),L=lt(I,1);for(I=lt(I,2),R=lt(R,2);!q(I);){var D=L.add(I);0>=D.l(V)&&(N=N.add(R),L=D),I=lt(I,1),R=lt(R,1)}return b=$(V,N.j(b)),new Q(N,b)}for(N=E;0<=V.l(b);){for(R=Math.max(1,Math.floor(V.m()/b.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=g(R),D=L.j(b);G(D)||0<D.l(V);)R-=I,L=g(R),D=L.j(b);q(L)&&(L=w),N=N.add(L),V=$(V,D)}return new Q(N,V)}n.A=function(V){return st(this,V).h},n.and=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)&V.i(I);return new f(R,this.h&V.h)},n.or=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)|V.i(I);return new f(R,this.h|V.h)},n.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)^V.i(I);return new f(R,this.h^V.h)};function tt(V){for(var b=V.g.length+1,R=[],I=0;I<b;I++)R[I]=V.i(I)<<1|V.i(I-1)>>>31;return new f(R,V.h)}function lt(V,b){var R=b>>5;b%=32;for(var I=V.g.length-R,N=[],L=0;L<I;L++)N[L]=0<b?V.i(L+R)>>>b|V.i(L+R+1)<<32-b:V.i(L+R);return new f(N,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Vs=f}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,vl,SE,Lc,mm,bE,wE,RE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break t;_=_[U]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var H=_++;return{value:y(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,w.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function q(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,H){for(var rt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)rt[Ot-2]=arguments[Ot];return y.prototype[U].apply(S,rt)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,H=S.length||0;c.length=U+H;for(let rt=0;rt<H;rt++)c[U+rt]=S[rt]}else c.push(S)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function et(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function st(c){return st[" "](c),c}st[" "]=function(){};var tt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function lt(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let H=0;H<R.length;H++)_=R[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){d.setTimeout(()=>{throw c},0)}function D(){var c=It;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ye{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,It=new ye,M=()=>{const c=d.Promise.resolve(void 0);nt=()=>{c.then(W)}};var W=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ht=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Ct(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(tt){t:{try{st(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}q(Ct,it);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Kn(c,y,_,S,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function $i(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _i(c){this.src=c,this.g={},this.h=0}_i.prototype.add=function(c,y,_,S,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var rt=Gs(c,y,S,U);return-1<rt?(y=c[rt],_||(y.fa=!1)):(y=new Kn(y,this.src,H,!!S,U),y.fa=_,c.push(y)),y};function Fs(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,y,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&($i(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Gs(c,y,_,S){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==y&&H.capture==!!_&&H.ha==S)return U}return-1}var Ks="closure_lm_"+(1e6*Math.random()|0),ao={};function su(c,y,_,S,U){if(Array.isArray(y)){for(var H=0;H<y.length;H++)su(c,y[H],_,S,U);return null}return _=ru(_),c&&c[Ve]?c.K(y,_,g(S)?!!S.capture:!1,U):Sn(c,y,_,!1,S,U)}function Sn(c,y,_,S,U,H){if(!y)throw Error("Invalid event type");var rt=g(U)?!!U.capture:!!U,Ot=Fr(c);if(Ot||(c[Ks]=Ot=new _i(c)),_=Ot.add(y,_,S,rt,H),_.proxy)return _;if(S=Ih(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)gt||(U=rt),U===void 0&&(U=!1),c.addEventListener(y.toString(),S,U);else if(c.attachEvent)c.attachEvent(Ys(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ih(){function c(_){return y.call(c.src,c.listener,_)}const y=Oh;return c}function oo(c,y,_,S,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)oo(c,y[H],_,S,U);else S=g(S)?!!S.capture:!!S,_=ru(_),c&&c[Ve]?(c=c.i,y=String(y).toString(),y in c.g&&(H=c.g[y],_=Gs(H,_,S,U),-1<_&&($i(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[y],c.h--)))):c&&(c=Fr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Gs(y,_,S,U)),(_=-1<c?y[c]:null)&&Hr(_))}function Hr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ve])Fs(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Ys(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Fr(y))?(Fs(_,c),_.h==0&&(_.src=null,y[Ks]=null)):$i(c)}}}function Ys(c){return c in ao?ao[c]:ao[c]="on"+c}function Oh(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Hr(c),c=_.call(S,y)}return c}function Fr(c){return c=c[Ks],c instanceof _i?c:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(c){return typeof c=="function"?c:(c[lo]||(c[lo]=function(y){return c.handleEvent(y)}),c[lo])}function oe(){ot.call(this),this.i=new _i(this),this.M=this,this.F=null}q(oe,ot),oe.prototype[Ve]=!0,oe.prototype.removeEventListener=function(c,y,_,S){oo(this,c,y,_,S)};function Ht(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var U=y;y=new it(S,c),I(y,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var rt=y.g=_[H];U=dn(rt,S,!0,y)&&U}if(rt=y.g=c,U=dn(rt,S,!0,y)&&U,U=dn(rt,S,!1,y)&&U,_)for(H=0;H<_.length;H++)rt=y.g=_[H],U=dn(rt,S,!1,y)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)$i(_[S]);delete c.g[y],c.h--}}this.F=null},oe.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},oe.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,H=0;H<y.length;++H){var rt=y[H];if(rt&&!rt.da&&rt.capture==_){var Ot=rt.listener,be=rt.ha||rt.src;rt.fa&&Fs(c.i,rt),U=Ot.call(be,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ge(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function au(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Nh extends ot{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(c){ot.call(this),this.h=c,this.g={}}q(Qs,ot);var Xs=[];function $s(c){lt(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hr(y)},c),c.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),$s(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,Gr=d.JSON.parse,Zs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function co(c){return c.h||(c.h=c.i())}function ho(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){it.call(this,"d")}q(Ei,it);function fo(){it.call(this,"c")}q(fo,it);var Yn={},mo=null;function Zi(){return mo=mo||new oe}Yn.La="serverreachability";function Kr(c){it.call(this,Yn.La,c)}q(Kr,it);function Ji(c){const y=Zi();Ht(y,new Kr(y))}Yn.STAT_EVENT="statevent";function ou(c,y){it.call(this,Yn.STAT_EVENT,c),this.stat=y}q(ou,it);function Wt(c){const y=Zi();Ht(y,new ou(y,c))}Yn.Ma="timingevent";function Se(c,y){it.call(this,Yn.Ma,c),this.size=y}q(Se,it);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function po(c,y,_,S,U,H){c.info(function(){if(c.g)if(H)for(var rt="",Ot=H.split("&"),be=0;be<Ot.length;be++){var Nt=Ot[be].split("=");if(1<Nt.length){var Ie=Nt[0];Nt=Nt[1];var we=Ie.split("_");rt=2<=we.length&&we[1]=="type"?rt+(Ie+"="+Nt+"&"):rt+(Ie+"=redacted&")}}else rt=null;else rt=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+rt})}function Ph(c,y,_,S,U,H,rt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+H+" "+rt})}function Wi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Js(c,_)+(S?" "+S:"")})}function lu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function Js(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var rt=1;rt<U.length;rt++)U[rt]=""}}}}return zn(_)}catch{return y}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Xn(){}q(Xn,uo),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Qn=new Xn;function We(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var go={},Yr={};function jn(c,y,_){c.L=1,c.v=ir(mn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),Ws(c),c.A=mn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ao(_.i,"t",S),c.C=0,_=c.j.J,c.h=new he,c.g=bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Nh(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Xs[0]=U.toString()),U=Xs);for(var H=0;H<U.length;H++){var rt=su(_,U[H],S||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ji(),po(c.i,c.u,c.A,c.l,c.R,c.m)}We.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},We.prototype.Y=function(c){try{if(c==this.g)t:{const we=Dn(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||we!=4||y==7||(y==8||0>=Mi?Ji(3):Ji(2)),es(this);var _=this.g.Z();this.X=_;e:if(uu(this)){var S=gu(this.g);c="";var U=S.length,H=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),$n(this);var rt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(H&&y==U-1)});S.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Ph(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,be=this.g;if((Ot=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Ot)){var Nt=Ot;break e}}Nt=null}if(_=Nt)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tr(this,_);else{this.o=!1,this.s=3,Wt(12),Ue(this),$n(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<rt.length;)if(Be=cu(this,rt),Be==Yr){we==4&&(this.s=4,Wt(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==go){this.s=4,Wt(15),Wi(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,Be,null),tr(this,Be);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||rt.length!=0||this.h.h||(this.s=1,Wt(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,rt,"[Invalid Chunked Response]"),Ue(this),$n(this);else if(0<rt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),hr(Ie),Ie.M=!0,Wt(11))}}else Wi(this.i,this.l,rt,null),tr(this,rt);we==4&&Ue(this),this.o&&!this.J&&(we==4?Eu(this.j,this):(this.o=!1,Ws(this)))}else jh(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ue(this),$n(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Yr:(_=Number(y.substring(_,S)),isNaN(_)?go:(S+=1,S+_>y.length?Yr:(y=y.slice(S,S+_),c.C=S+_,y)))}We.prototype.cancel=function(){this.J=!0,Ue(this)};function Ws(c){c.S=Date.now()+c.I,hu(c,c.I)}function hu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(w(c.ba,c),y)}function es(c){c.B&&(d.clearTimeout(c.B),c.B=null)}We.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lu(this.i,this.A),this.L!=2&&(Ji(),Wt(17)),Ue(this),this.s=2,$n(this)):hu(this,this.S-c)};function $n(c){c.j.G==0||c.J||Eu(c.j,c)}function Ue(c){es(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$s(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function tr(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||yo(_.h,c))){if(!c.K&&yo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ra(_),ia(_);else break t;Co(_),Wt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(w(_.Za,_),6e3));if(1>=Xr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&ra(_),!et(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Nt=U[y];if(_.T=Nt[0],Nt=Nt[1],_.G==2)if(Nt[0]=="c"){_.K=Nt[1],_.ia=Nt[2];const Ie=Nt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const we=Nt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Mi=Nt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(S=1.5*Mi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Be=c.g;if(Be){const ii=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var H=S.h;H.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($r(H,H.h),H.h=null))}if(S.D){const xo=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(S.ya=xo,Kt(S.I,S.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var rt=c;if(S.qa=Su(S,S.J?S.ia:null,S.W),rt.K){tn(S.h,rt);var Ot=rt,be=S.L;be&&(Ot.I=be),Ot.B&&(es(Ot),Ws(Ot)),S.g=rt}else _u(S);0<_.i.length&&sa(_)}else Nt[0]!="stop"&&Nt[0]!="close"||Vi(_,7);else _.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Vi(_,7):wo(_):Nt[0]!="noop"&&_.l&&_.l.ta(Nt),_.v=0)}}Ji(4)}catch{}}var fu=class{constructor(c,y){this.g=c,this.map=y}};function bi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xr(c){return c.h?1:c.g?c.g.size:0}function yo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $r(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bi.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Lh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Zr(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function _o(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Zr(c),S=Lh(c),U=S.length,H=0;H<U;H++)y.call(void 0,S[H],_&&_[H],c)}var er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var H=c[_].substring(0,S);U=c[_].substring(S+1)}else H=c[_];y(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _e(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _e){this.h=c.h,nr(this,c.j),this.o=c.o,this.g=c.g,ns(this,c.s),this.l=c.l;var y=c.i,_=new Ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),wi(this,_),this.m=c.m}else c&&(y=String(c).match(er))?(this.h=!1,nr(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),ns(this,y[4]),this.l=wn(y[5]||"",!0),wi(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}_e.prototype.toString=function(){var c=[],y=this.j;y&&c.push(sr(y,To,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(sr(y,To,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(sr(_,_.charAt(0)=="/"?Bh:Eo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",sr(_,Jr)),c.join("")};function mn(c){return new _e(c)}function nr(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ns(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function wi(c,y,_){y instanceof Ri?(c.i=y,mu(c.i,c.h)):(_||(y=sr(y,zh)),c.i=new Ri(y,c.h))}function Kt(c,y,_){c.i.set(y,_)}function ir(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function sr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,Eo=/[#\?:]/g,Bh=/[#\?]/g,zh=/[#\?@]/g,Jr=/#/g;function Ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Uh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Ri.prototype,n.add=function(c,y){Rn(this),this.i=null,c=Zn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){Rn(c),y=Zn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Rn(c),y=Zn(c,y),c.g.has(y)}n.forEach=function(c,y){Rn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(y,U,S,this)},this)},this)},n.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const U=c[S];for(let H=0;H<U.length;H++)_.push(y[S])}return _},n.V=function(c){Rn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Rn(this),this.i=null,c=Zn(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ao(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(Zn(c,y),G(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const H=encodeURIComponent(String(S)),rt=this.V(S);for(S=0;S<rt.length;S++){var U=H;rt[S]!==""&&(U+="="+encodeURIComponent(String(rt[S]))),c.push(U)}}return this.i=c.join("&")};function Zn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function mu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ci(this,S),Ao(this,U,_))},c)),c.j=y}function rr(c,y){const _=new bn;if(d.Image){const S=new Image;S.onload=x(Cn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=x(Cn,_,"TestLoadImage: error",!1,y,S),S.onabort=x(Cn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(Cn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function kn(c,y){const _=new bn,S=new AbortController,U=setTimeout(()=>{S.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function ar(){this.g=new Zs}function Jn(c,y,_){const S=_||"";try{_o(c,function(U,H){let rt=U;g(U)&&(rt=zn(U)),y.push(S+H+"="+encodeURIComponent(rt))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function is(c){this.l=c.Ub||null,this.j=c.eb||!1}q(is,uo),is.prototype.g=function(){return new xi(this.l,this.j)},is.prototype.i=function(c){return function(){return c}}({});function xi(c,y){oe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(xi,oe),n=xi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ti(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wn(this):ti(this),this.readyState==3&&So(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},n.Qa=function(c){this.g&&(this.response=c,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let y="";return lt(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Me(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,y,_))}function qt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(qt,oe);var Wr=/^https?$/i,or=["POST","PUT"];n=qt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?co(this.o):co(Qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){pu(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(or,y,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,rt]of _)this.g.setRequestHeader(H,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lr(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){pu(this,H)}};function pu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ta(c),ei(c)}function ta(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},n.bb=function(){ea(this)};function ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ge(c.Ea,0,c);else if(Ht(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=rt===0){var U=String(c.D).match(er)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!Wr.test(U?U.toLowerCase():"")}_=S}if(_)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var H=2<Dn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ta(c)}}finally{ei(c)}}}}function ei(c,y){if(c.g){lr(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{_.onreadystatechange=S}catch{}}}function lr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Gr(y)}};function gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(et(c[S]))continue;var _=N(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=y[U]||[];y[U]=H,H.push(_)}V(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function na(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,c),this.cb=ur("retryDelaySeedMs",1e4,c),this.Wa=ur("forwardChannelMaxRetries",2,c),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new ar,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=na.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,S){Wt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Su(this,null,this.W),sa(this)};function wo(c){if(yu(c),c.G==3){var y=c.U++,_=mn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),cr(c,_),y=new We(c,c.j,y),y.L=2,y.v=ir(mn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ws(y)}Au(c)}function ia(c){c.g&&(hr(c),c.g.cancel(),c.g=null)}function yu(c){ia(c),c.u&&(d.clearTimeout(c.u),c.u=null),ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function sa(c){if(!Qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;nt||M(),ht||(nt(),ht=!0),It.add(y,c),c.B=0}}function kh(c,y){return Xr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(w(c.Ga,c,y),Do(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new We(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),I(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=vu(this,U,y),_=mn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),cr(this,_),H&&(this.O?y="headers="+encodeURIComponent(String(bo(H)))+"&"+y:this.m&&Me(_,this.m,H)),$r(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",y),Kt(_,"SID","null"),U.T=!0,jn(U,_,null)):jn(U,_,y),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||Qr(this.h)||Ro(this))};function Ro(c,y){var _;y?_=y.l:_=c.U++;const S=mn(c.I);Kt(S,"SID",c.K),Kt(S,"RID",_),Kt(S,"AID",c.T),cr(c,S),c.m&&c.o&&Me(S,c.m,c.o),_=new We(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$r(c.h,_),jn(_,S,y)}function cr(c,y){c.H&&lt(c.H,function(_,S){Kt(y,S,_)}),c.l&&_o({},function(_,S){Kt(y,S,_)})}function vu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;t:{var U=c.i;let H=-1;for(;;){const rt=["count="+_];H==-1?0<_?(H=U[0].g,rt.push("ofs="+H)):H=0:rt.push("ofs="+H);let Ot=!0;for(let be=0;be<_;be++){let Nt=U[be].g;const Ie=U[be].map;if(Nt-=H,0>Nt)H=Math.max(0,U[be].g-100),Ot=!1;else try{Jn(Ie,rt,"req"+Nt+"_")}catch{S&&S(Ie)}}if(Ot){S=rt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function _u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;nt||M(),ht||(nt(),ht=!0),It.add(y,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(w(c.Fa,c),Do(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ia(this),Tu(this))};function hr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new We(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),cr(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ir(mn(y)),_.m=null,_.P=!0,Si(_,c)}n.Za=function(){this.C!=null&&(this.C=null,ia(this),Co(this),Wt(19))};function ra(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Eu(c,y){var _=null;if(c.g==y){ra(c),hr(c),c.g=null;var S=2}else if(yo(c.h,y))_=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;S=Zi(),Ht(S,new Se(S,_)),sa(c)}else _u(c);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&kh(c,y)||S==2&&Co(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Do(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const U=!S;S=new _e(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nr(S,"https"),ir(S),U?rr(S.toString(),_):kn(S.toString(),_)}else Wt(2);c.G=0,c.l&&c.l.sa(y),Au(c),yu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const y=vo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Su(c,y,_){var S=_ instanceof _e?mn(_):new _e(_);if(S.g!="")y&&(S.g=y+"."+S.g),ns(S,S.s);else{var U=d.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var H=new _e(null);S&&nr(H,S),y&&(H.g=y),U&&ns(H,U),_&&(H.l=_),S=H}return _=c.D,y=c.ya,_&&y&&Kt(S,_,y),Kt(S,"VER",c.la),cr(c,S),S}function bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qt(new is({eb:_})):new qt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}n=wu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function aa(){}aa.prototype.g=function(c,y){return new en(c,y)};function en(c,y){oe.call(this),this.g=new na(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!et(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!et(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ni(this)}q(en,oe),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){wo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new fu(y.Ya++,c)),y.G==3&&sa(y)},en.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,en.aa.N.call(this)};function Ru(c){Ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}q(Ru,Ei);function Cu(){fo.call(this),this.status=1}q(Cu,fo);function ni(c){this.g=c}q(ni,wu),ni.prototype.ua=function(){Ht(this.g,"a")},ni.prototype.ta=function(c){Ht(this.g,new Ru(c))},ni.prototype.sa=function(c){Ht(this.g,new Cu)},ni.prototype.ra=function(){Ht(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,RE=function(){return new aa},wE=function(){return Zi()},bE=Yn,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Lc=ts,Ai.COMPLETE="complete",SE=Ai,ho.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",oe.prototype.listen=oe.prototype.K,vl=ho,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,AE=qt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",q0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new np("@firebase/firestore");function Pa(){return zr.logLevel}function ct(n,...t){if(zr.logLevel<=Ut.DEBUG){const i=t.map(sp);zr.debug(`Firestore (${to}): ${n}`,...i)}}function Yi(n,...t){if(zr.logLevel<=Ut.ERROR){const i=t.map(sp);zr.error(`Firestore (${to}): ${n}`,...i)}}function Ka(n,...t){if(zr.logLevel<=Ut.WARN){const i=t.map(sp);zr.warn(`Firestore (${to}): ${n}`,...i)}}function sp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,CE(n,r,i)}function CE(n,t,i){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Yi(r),new Error(r)}function re(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||CE(t,o,r)}function Bt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends qs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class tR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class eR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ms,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ms)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new DE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class nR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new nR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,z2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new H0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=rR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function xt(n,t){return n<t?-1:n>t?1:0}function pm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return xt(r,o);{const u=xE(),f=aR(u.encode(F0(n,i)),u.encode(F0(t,i)));return f!==0?f:xt(r,o)}}i+=r>65535?2:1}return xt(n.length,t.length)}function F0(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function aR(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return xt(n[i],t[i]);return xt(n.length,t.length)}function Ya(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,K0=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(t){return hn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*K0);return new hn(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<G0)throw new pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-G0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new hn(0,0))}static max(){return new St(new hn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class ui{constructor(t,i,r){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&bt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ui.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return xt(t.length,i.length)}static compareSegments(t,i){const r=ui.isNumericId(t),o=ui.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ui.extractNumericId(t).compare(ui.extractNumericId(i)):pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vs.fromString(t.substring(4,t.length-2))}}class ee extends ui{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const oR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ui{construct(t,i,r){return new sn(t,i,r)}static isValidIdentifier(t){return oR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new sn([Y0])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(r+=d,o++):(u(),o++)}if(u(),f)throw new pt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ee.fromString(t))}static fromName(t){return new vt(ee.fromString(t).popFirst(5))}static empty(){return new vt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function lR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new hn(i+1,0):new hn(i,r));return new Ns(o,vt.empty(),t)}function uR(n){return new Ns(n.readTime,n.key,Ll)}class Ns{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ns(St.min(),vt.empty(),Ll)}static max(){return new Ns(St.max(),vt.empty(),Ll)}}function cR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:xt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==hR)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,r)=>{i(t)})}static reject(t){return new J((i,r)=>{r(t)})}static waitFor(t){return new J((i,r)=>{let o=0,u=0,f=!1;t.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&i()},p=>r(p))}),f=!0,u===o&&i()})}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next(o=>o?J.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new J((r,o)=>{const u=t.length,f=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{f[g]=v,++d,d===u&&r(f)},v=>o(v))}})}static doWhile(t,i){return new J((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function dR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}mh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=-1;function ph(n){return n==null}function gm(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function pR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=Q0(t)),t=gR(n.get(i),t);return Q0(t)}function gR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case ME:i+="";break;default:i+=u}}return i}function Q0(n){return n+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function $l(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function yR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new He(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(t){return new $0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class $0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Rs([])}unionWith(t){let i=new xe(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Rs(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IE("Invalid base64 string: "+u):u}}(t);return new Fe(i)}static fromUint8Array(t){const i=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(re(!!n,39018),typeof n=="string"){let t=0;const i=vR.exec(n);if(re(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(n.seconds),nanos:pe(n.nanos)}}function pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Fe.fromBase64String(n):Fe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="server_timestamp",NE="__type__",PE="__previous_value__",LE="__local_write_time__";function rp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[NE])===null||i===void 0?void 0:i.stringValue)===OE}function gh(n){const t=n.mapValue.fields[PE];return rp(t)?gh(t):t}function Ul(n){const t=Ps(n.mapValue.fields[LE].timestampValue);return new hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,i,r,o,u,f,d,p,g){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Kc="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__type__",ER="__max__",Vc={mapValue:{}},AR="__vector__",ym="value";function Us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rp(n)?4:bR(n)?9007199254740991:SR(n)?10:11:bt(28295,{value:n})}function yi(n,t){if(n===t)return!0;const i=Us(n);if(i!==Us(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ul(n).isEqual(Ul(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ps(o.timestampValue),d=Ps(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return Ls(o.bytesValue).isEqual(Ls(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),d=pe(u.doubleValue);return f===d?gm(f)===gm(d):isNaN(f)&&isNaN(d)}return!1}(n,t);case 9:return Ya(n.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(X0(f)!==X0(d))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(d[p]===void 0||!yi(f[p],d[p])))return!1;return!0}(n,t);default:return bt(52216,{left:n})}}function zl(n,t){return(n.values||[]).find(i=>yi(i,t))!==void 0}function Qa(n,t){if(n===t)return 0;const i=Us(n),r=Us(t);if(i!==r)return xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,t.booleanValue);case 2:return function(u,f){const d=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return Z0(n.timestampValue,t.timestampValue);case 4:return Z0(Ul(n),Ul(t));case 5:return pm(n.stringValue,t.stringValue);case 6:return function(u,f){const d=Ls(u),p=Ls(f);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,f){const d=u.split("/"),p=f.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=xt(d[g],p[g]);if(v!==0)return v}return xt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,f){const d=xt(pe(u.latitude),pe(f.latitude));return d!==0?d:xt(pe(u.longitude),pe(f.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return J0(n.arrayValue,t.arrayValue);case 10:return function(u,f){var d,p,g,v;const E=u.fields||{},w=f.fields||{},x=(d=E[ym])===null||d===void 0?void 0:d.arrayValue,q=(p=w[ym])===null||p===void 0?void 0:p.arrayValue,G=xt(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:J0(x,q)}(n.mapValue,t.mapValue);case 11:return function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const w=pm(p[E],v[E]);if(w!==0)return w;const x=Qa(d[p[E]],g[v[E]]);if(x!==0)return x}return xt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw bt(23264,{Pe:i})}}function Z0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return xt(n,t);const i=Ps(n),r=Ps(t),o=xt(i.seconds,r.seconds);return o!==0?o:xt(i.nanos,r.nanos)}function J0(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Qa(i[o],r[o]);if(u)return u}return xt(i.length,r.length)}function Xa(n){return vm(n)}function vm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ps(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Ls(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return vt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=vm(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${vm(i.fields[f])}`;return o+"}"}(n.mapValue):bt(61005,{value:n})}function Uc(n){switch(Us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(n);return t?16+Uc(t):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Uc(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return $l(r.fields,(u,f)=>{o+=u.length+Uc(f)}),o}(n.mapValue);default:throw bt(13486,{value:n})}}function _m(n){return!!n&&"integerValue"in n}function ap(n){return!!n&&"arrayValue"in n}function W0(n){return!!n&&"nullValue"in n}function t_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hd(n){return!!n&&"mapValue"in n}function SR(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[TR])===null||i===void 0?void 0:i.stringValue)===AR}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return $l(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=bl(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(n.arrayValue.values[i]);return t}return Object.assign({},n)}function bR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.value=t}static empty(){return new ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Hd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=sn.emptyPath(),r={},o=[];t.forEach((f,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}f?r[d.lastSegment()]=bl(f):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Hd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Hd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){$l(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new ci(bl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,r,o,u,f,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new Ze(t,0,St.min(),St.min(),St.min(),ci.empty(),0)}static newFoundDocument(t,i,r,o){return new Ze(t,1,i,St.min(),r,o,0)}static newNoDocument(t,i){return new Ze(t,2,i,St.min(),St.min(),ci.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,St.min(),St.min(),ci.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function e_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(f.referenceValue),i.key):r=Qa(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!yi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function wR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{}class De extends UE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new CR(t,i,r):i==="array-contains"?new VR(t,r):i==="in"?new MR(t,r):i==="not-in"?new IR(t,r):i==="array-contains-any"?new OR(t,r):new De(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new DR(t,r):new xR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Us(this.value)===Us(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new vi(t,i)}matches(t){return BE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BE(n){return n.op==="and"}function zE(n){return RR(n)&&BE(n)}function RR(n){for(const t of n.filters)if(t instanceof vi)return!1;return!0}function Tm(n){if(n instanceof De)return n.field.canonicalString()+n.op.toString()+Xa(n.value);if(zE(n))return n.filters.map(t=>Tm(t)).join(",");{const t=n.filters.map(i=>Tm(i)).join(",");return`${n.op}(${t})`}}function jE(n,t){return n instanceof De?function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&yi(r.value,o.value)}(n,t):n instanceof vi?function(r,o){return o instanceof vi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,d)=>u&&jE(f,o.filters[d]),!0):!1}(n,t):void bt(19439)}function kE(n){return n instanceof De?function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`}(n):n instanceof vi?function(i){return i.op.toString()+" {"+i.getFilters().map(kE).join(" ,")+"}"}(n):"Filter"}class CR extends De{constructor(t,i,r){super(t,i,r),this.key=vt.fromName(r.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class DR extends De{constructor(t,i){super(t,"in",i),this.keys=qE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class xR extends De{constructor(t,i){super(t,"not-in",i),this.keys=qE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function qE(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>vt.fromName(r.referenceValue))}class VR extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ap(i)&&zl(i.arrayValue,this.value)}}class MR extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class IR extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class OR extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ap(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,i=null,r=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Ie=null}}function i_(n,t=null,i=[],r=[],o=null,u=null,f=null){return new NR(n,t,i,r,o,u,f)}function op(n){const t=Bt(n);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Tm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Xa(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Xa(r)).join(",")),t.Ie=i}return t.Ie}function lp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!wR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!jE(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!n_(n.startAt,t.startAt)&&n_(n.endAt,t.endAt)}function Em(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,i=null,r=[],o=[],u=null,f="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PR(n,t,i,r,o,u,f,d){return new yh(n,t,i,r,o,u,f,d)}function up(n){return new yh(n)}function s_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LR(n){return n.collectionGroup!==null}function wl(n){const t=Bt(n);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new xe(sn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Qc(u,r))}),i.has(sn.keyField().canonicalString())||t.Ee.push(new Qc(sn.keyField(),r))}return t.Ee}function fi(n){const t=Bt(n);return t.de||(t.de=UR(t,wl(n))),t.de}function UR(n,t){if(n.limitType==="F")return i_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qc(o.field,u)});const i=n.endAt?new Yc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yc(n.startAt.position,n.startAt.inclusive):null;return i_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Am(n,t,i){return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function vh(n,t){return lp(fi(n),fi(t))&&n.limitType===t.limitType}function HE(n){return`${op(fi(n))}|lt:${n.limitType}`}function La(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>kE(o)).join(", ")}]`),ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>Xa(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>Xa(o)).join(",")),`Target(${r})`}(fi(n))}; limitType=${n.limitType})`}function _h(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of wl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(f,d,p){const g=e_(f,d,p);return f.inclusive?g<=0:g<0}(r.startAt,wl(r),o)||r.endAt&&!function(f,d,p){const g=e_(f,d,p);return f.inclusive?g>=0:g>0}(r.endAt,wl(r),o))}(n,t)}function BR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FE(n){return(t,i)=>{let r=!1;for(const o of wl(n)){const u=zR(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function zR(n,t,i){const r=n.field.isKeyField()?vt.comparator(t.key,i.key):function(u,f,d){const p=f.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Qa(p,g):bt(42886)}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$l(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return yR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new ge(vt.comparator);function Bs(){return jR}const GE=new ge(vt.comparator);function _l(...n){let t=GE;for(const i of n)t=t.insert(i.key,i);return t}function kR(n){let t=GE;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Vr(){return Rl()}function KE(){return Rl()}function Rl(){return new qr(n=>n.toString(),(n,t)=>n.isEqual(t))}const qR=new xe(vt.comparator);function zt(...n){let t=qR;for(const i of n)t=t.add(i);return t}const HR=new xe(xt);function FR(){return HR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gm(t)?"-0":t}}function KR(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function YR(n,t,i){return n instanceof Sm?function(o,u){const f={fields:{[NE]:{stringValue:OE},[LE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rp(u)&&(u=gh(u)),u&&(f.fields[PE]=u),{mapValue:f}}(i,t):n instanceof Xc?YE(n,t):n instanceof $c?QE(n,t):function(o,u){const f=XR(o,u),d=r_(f)+r_(o.Re);return _m(f)&&_m(o.Re)?KR(d):GR(o.serializer,d)}(n,t)}function QR(n,t,i){return n instanceof Xc?YE(n,t):n instanceof $c?QE(n,t):i}function XR(n,t){return n instanceof bm?function(r){return _m(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class Sm extends Th{}class Xc extends Th{constructor(t){super(),this.elements=t}}function YE(n,t){const i=XE(t);for(const r of n.elements)i.some(o=>yi(o,r))||i.push(r);return{arrayValue:{values:i}}}class $c extends Th{constructor(t){super(),this.elements=t}}function QE(n,t){let i=XE(t);for(const r of n.elements)i=i.filter(o=>!yi(o,r));return{arrayValue:{values:i}}}class bm extends Th{constructor(t,i){super(),this.serializer=t,this.Re=i}}function r_(n){return pe(n.integerValue||n.doubleValue)}function XE(n){return ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $R(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof Xc&&o instanceof Xc||r instanceof $c&&o instanceof $c?Ya(r.elements,o.elements,yi):r instanceof bm&&o instanceof bm?yi(r.Re,o.Re):r instanceof Sm&&o instanceof Sm}(n.transform,t.transform)}class Lr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Lr}static exists(t){return new Lr(void 0,t)}static updateTime(t){return new Lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class cp{}function $E(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new JR(n.key,Lr.none()):new hp(n.key,n.data,Lr.none());{const i=n.data,r=ci.empty();let o=new xe(sn.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Eh(n.key,r,new Rs(o.toArray()),Lr.none())}}function ZR(n,t,i){n instanceof hp?function(o,u,f){const d=o.value.clone(),p=o_(o.fieldTransforms,u,f.transformResults);d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(n,t,i):n instanceof Eh?function(o,u,f){if(!Bc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=o_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ZE(o)),p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function Cl(n,t,i,r){return n instanceof hp?function(u,f,d,p){if(!Bc(u.precondition,f))return d;const g=u.value.clone(),v=l_(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof Eh?function(u,f,d,p){if(!Bc(u.precondition,f))return d;const g=l_(u.fieldTransforms,p,f),v=f.data;return v.setAll(ZE(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,f,d){return Bc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(n,t,i)}function a_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ya(r,o,(u,f)=>$R(u,f))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hp extends cp{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Eh extends cp{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function o_(n,t,i){const r=new Map;re(n.length===i.length,32656,{Ve:i.length,me:n.length});for(let o=0;o<i.length;o++){const u=n[o],f=u.transform,d=t.data.field(u.field);r.set(u.field,QR(f,d,i[o]))}return r}function l_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,f=i.data.field(o.field);r.set(o.field,YR(u,f,t))}return r}class JR extends cp{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ZR(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Cl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Cl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=KE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=i.has(o.key)?null:d;const p=$E(f,d);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),zt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,(i,r)=>a_(i,r))&&Ya(this.baseMutations,t.baseMutations,(i,r)=>a_(i,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Lt;function JE(n){if(n===void 0)return Yi("GRPC error has no .code"),at.UNKNOWN;switch(n){case Ae.OK:return at.OK;case Ae.CANCELLED:return at.CANCELLED;case Ae.UNKNOWN:return at.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return at.INTERNAL;case Ae.UNAVAILABLE:return at.UNAVAILABLE;case Ae.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ae.NOT_FOUND:return at.NOT_FOUND;case Ae.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ae.ABORTED:return at.ABORTED;case Ae.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ae.DATA_LOSS:return at.DATA_LOSS;default:return bt(39323,{code:n})}}(Lt=Ae||(Ae={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Vs([4294967295,4294967295],0);function u_(n){const t=xE().encode(n),i=new EE;return i.update(t),new Uint8Array(i.digest())}function c_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Vs([i,r],0),new Vs([o,u],0)]}class fp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Vs.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(Vs.fromNumber(r)));return o.compare(nC)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=u_(t),[r,o]=c_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);if(!this.be(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new fp(u,o,i);return r.forEach(d=>f.insert(d)),f}insert(t){if(this.pe===0)return;const i=u_(t),[r,o]=c_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ah(St.min(),o,new ge(xt),Bs(),zt())}}class Zl{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Zl(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class WE{constructor(t,i){this.targetId=t,this.Ce=i}}class tA{constructor(t,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class h_{constructor(){this.Fe=0,this.Me=f_(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=zt(),i=zt(),r=zt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}}),new Zl(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=f_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,re(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iC{constructor(t){this.ze=t,this.je=new Map,this.He=Bs(),this.Je=Mc(),this.Ye=Mc(),this.Ze=new ge(xt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:bt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(Em(u))if(r===0){const f=new vt(u.path);this.tt(i,f,Ze.newNoDocument(f,St.min()))}else re(r===1,20013,{expectedCount:r});else{const f=this.ut(i);if(f!==r){const d=this.ct(t),p=d?this.lt(d,t,f):1;if(p!==0){this.st(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,d;try{f=Ls(r).toUint8Array()}catch(p){if(p instanceof IE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new fp(f,o,u)}catch(p){return Ka(p instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const f=this.ze.Pt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,f)=>{const d=this._t(f);if(d){if(u.current&&Em(d.target)){const p=new vt(d.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ze.newNoDocument(p,t))}u.Le&&(i.set(f,u.qe()),u.Qe())}});let r=zt();this.Ye.forEach((u,f)=>{let d=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Ah(t,i,this.Ze,this.He,r);return this.He=Bs(),this.Je=Mc(),this.Ye=Mc(),this.Ze=new ge(xt),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new h_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new xe(xt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new h_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ge(vt.comparator)}function f_(){return new ge(vt.comparator)}const sC={asc:"ASCENDING",desc:"DESCENDING"},rC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aC={and:"AND",or:"OR"};class oC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function wm(n,t){return n.useProto3Json||ph(t)?t:{value:t}}function lC(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Fa(n){return re(!!n,49232),St.fromTimestamp(function(i){const r=Ps(i);return new hn(r.seconds,r.nanos)}(n))}function cC(n,t){return Rm(n,t).canonicalString()}function Rm(n,t){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function eA(n){const t=ee.fromString(n);return re(aA(t),10190,{key:t.toString()}),t}function Fd(n,t){const i=eA(t);if(i.get(1)!==n.databaseId.projectId)throw new pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(iA(i))}function nA(n,t){return cC(n.databaseId,t)}function hC(n){const t=eA(n);return t.length===4?ee.emptyPath():iA(t)}function d_(n){return new ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iA(n){return re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fC(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(re(v===void 0||typeof v=="string",58123),Fe.fromBase64String(v||"")):(re(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Fe.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&function(g){const v=g.code===void 0?at.UNKNOWN:JE(g.code);return new pt(v,g.message||"")}(f);i=new tA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fd(n,r.document.name),u=Fa(r.document.updateTime),f=r.document.createTime?Fa(r.document.createTime):St.min(),d=new ci({mapValue:{fields:r.document.fields}}),p=Ze.newFoundDocument(o,u,f,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new zc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Fd(n,r.document),u=r.readTime?Fa(r.readTime):St.min(),f=Ze.newNoDocument(o,u),d=r.removedTargetIds||[];i=new zc([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Fd(n,r.document),u=r.removedTargetIds||[];i=new zc([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new eC(o,u),d=r.targetId;i=new WE(d,f)}}return i}function dC(n,t){return{documents:[nA(n,t.path)]}}function mC(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=nA(n,o);const u=function(g){if(g.length!==0)return rA(vi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Ua(w.field),direction:yC(w.dir)}}(v))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const d=wm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function pC(n){let t=hC(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){re(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const w=sA(E);return w instanceof vi&&zE(w)?w.getFilters():[w]}(i.where));let f=[];i.orderBy&&(f=function(E){return E.map(w=>function(q){return new Qc(Ba(q.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(w))}(i.orderBy));let d=null;i.limit&&(d=function(E){let w;return w=typeof E=="object"?E.value:E,ph(w)?null:w}(i.limit));let p=null;i.startAt&&(p=function(E){const w=!!E.before,x=E.values||[];return new Yc(x,w)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const w=!E.before,x=E.values||[];return new Yc(x,w)}(i.endAt)),PR(t,o,f,u,d,"F",p,g)}function gC(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sA(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(i.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(i.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}}(n):n.fieldFilter!==void 0?function(i){return De.create(Ba(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return vi.create(i.compositeFilter.filters.map(r=>sA(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}}(i.compositeFilter.op))}(n):bt(30097,{filter:n})}function yC(n){return sC[n]}function vC(n){return rC[n]}function _C(n){return aC[n]}function Ua(n){return{fieldPath:n.canonicalString()}}function Ba(n){return sn.fromServerFormat(n.fieldPath)}function rA(n){return n instanceof De?function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(W0(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(W0(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:vC(i.op),value:i.value}}}(n):n instanceof vi?function(i){const r=i.getFilters().map(o=>rA(o));return r.length===1?r[0]:{compositeFilter:{op:_C(i.op),filters:r}}}(n):bt(54877,{filter:n})}function aA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,i,r,o,u=St.min(),f=St.min(),d=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.wt=t}}function EC(n){const t=pC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Am(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.yn=new SC}addToCollectionParentIndex(t,i){return this.yn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ns.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ns.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class SC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new xe(ee.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oA=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(oA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new $a(0)}static ir(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",bC=1048576;function g_([n,t],[i,r]){const o=xt(n,i);return o===0?xt(t,r):o}class wC{constructor(t){this.cr=t,this.buffer=new xe(g_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();g_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class RC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ct(p_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?ct(p_,"Ignoring IndexedDB error during garbage collection: ",i):await dh(i)}await this.Ir(3e5)})}}class CC{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return J.resolve(mh.le);const r=new wC(i);return this.Er.forEachTarget(t,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.Er.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(m_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let r,o,u,f,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Pa()<=Ut.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function DC(n,t){return new CC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.changes=new qr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Cl(r.mutation,o,Rs.empty(),hn.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,zt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=zt()){const o=Vr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let f=_l();return u.forEach((d,p)=>{f=f.insert(d,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const r=Vr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,zt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,d)=>{i.set(f,d)})})}computeViews(t,i,r,o){let u=Bs();const f=Rl(),d=function(){return Rl()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Eh)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Cl(v.mutation,g,v.mutation.getFieldMask(),hn.now())):f.set(g.key,Rs.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new VC(v,(E=f.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const r=Rl();let o=new ge((f,d)=>f-d),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const d of f)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Rs.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||zt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=KE();v.forEach(w=>{if(!u.has(w)){const x=$E(i.get(w),r.get(w));x!==null&&E.set(w,x),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):LR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):J.resolve(Vr());let d=Ll,p=u;return f.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,zt())).next(v=>({batchId:d,changes:kR(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next(r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=_l();return this.indexManager.getCollectionParents(t,u).next(d=>J.forEach(d,p=>{const g=function(E,w){return new yh(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,w)=>{f=f.insert(E,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Ze.newInvalidDocument(v)))});let d=_l();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Cl(v.mutation,g,Rs.empty(),hn.now()),_h(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return J.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Fa(o.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:EC(o.bundledQuery),readTime:Fa(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.overlays=new ge(vt.comparator),this.Or=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Vr();return J.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Vr(),u=i.length+1,f=new vt(i.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ge((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Vr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Vr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return J.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new tC(i,r));let u=this.Or.get(i);u===void 0&&(u=zt(),this.Or.set(i,u)),this.Or.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.Nr=new xe(Le.Br),this.Lr=new xe(Le.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Qr(new Le(t,i))}$r(t,i){t.forEach(r=>this.removeReference(r,i))}Ur(t){const i=new vt(new ee([])),r=new Le(i,t),o=new Le(i,t+1),u=[];return this.Lr.forEachInRange([r,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new vt(new ee([])),r=new Le(i,t),o=new Le(i,t+1);let u=zt();return this.Lr.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(t){const i=new Le(t,0),r=this.Nr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return vt.comparator(t.key,i.key)||xt(t.Gr,i.Gr)}static kr(t,i){return xt(t.Gr,i.Gr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new xe(Le.Br)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new WR(u,i,r,o);this.mutationQueue.push(f);for(const d of o)this.zr=this.zr.add(new Le(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,i){return J.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Hr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mR:this.Jn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([r,o],f=>{const d=this.jr(f.Gr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(xt);return i.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],d=>{r=r.add(d.Gr)})}),J.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new vt(u),0);let d=new xe(xt);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Gr)),!0)},f),J.resolve(this.Jr(d))}Jr(t){const i=[];return t.forEach(r=>{const o=this.jr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){re(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return J.forEach(i.mutations,o=>{const u=new Le(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,i){const r=new Le(i,0),o=this.zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.Zr=t,this.docs=function(){return new ge(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.Zr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=Bs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))}),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Bs();const f=i.path,d=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||cR(uR(v),r)<=0||(o.has(v.key)||_h(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,i,r,o){bt(9500)}Xr(t,i){return J.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new UC(this)}getSize(t){return J.resolve(this.size)}}class UC extends xC{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(t,o)):this.vr.removeEntry(r)}),J.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.persistence=t,this.ei=new qr(i=>op(i),lp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ti=0,this.ni=new dp,this.targetCount=0,this.ri=$a.rr()}forEachTarget(t,i){return this.ei.forEach((r,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ti&&(this.ti=i),J.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.ar(i),J.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ei.forEach((f,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.ei.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this.ni.qr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this.ni.$r(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ni.Wr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,i){this.ii={},this.overlays={},this.si=new mh(0),this.oi=!1,this.oi=!0,this._i=new NC,this.referenceDelegate=t(this),this.ai=new BC(this),this.indexManager=new AC,this.remoteDocumentCache=function(o){return new LC(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new TC(i),this.ci=new IC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new OC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ii[t.toKey()];return r||(r=new PC(i,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,r){ct("MemoryPersistence","Starting transaction:",t);const o=new zC(this.si.next());return this.referenceDelegate.li(),r(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,i){return J.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,i)))}}class zC extends fR{constructor(t){super(),this.currentSequenceNumber=t}}class mp{constructor(t){this.persistence=t,this.Ti=new dp,this.Ii=null}static Ei(t){return new mp(t)}get di(){if(this.Ii)return this.Ii;throw bt(60996)}addReference(t,i,r){return this.Ti.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ti.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,r=>{const o=vt.fromPath(r);return this.Ai(t,o).next(u=>{u||i.removeEntry(o,St.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return J.or([()=>J.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.Ri=new qr(r=>pR(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=DC(this,i)}static Ei(t,i){return new Zc(t,i)}li(){}hi(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}Vr(t){let i=0;return this.Ar(t,r=>{i++}).next(()=>i)}Ar(t,i){return J.forEach(this.Ri,(r,o)=>this.gr(t,r,o).next(u=>u?J.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,i).next(d=>{d||(r++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),J.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}gr(t,i,r){return J.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.Ri.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ls=r,this.hs=o}static Ps(t,i){let r=zt(),o=zt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Pw()?8:dR(Iw())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.Rs(t,i).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,i,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new jC;return this.fs(t,i,f).next(d=>{if(u.result=d,this.Is)return this.gs(t,i,f,d.size)})}).next(()=>u.result)}gs(t,i,r,o){return r.documentReadCount<this.Es?(Pa()<=Ut.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),J.resolve()):(Pa()<=Ut.DEBUG&&ct("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Pa()<=Ut.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(i))):J.resolve())}Rs(t,i){if(s_(i))return J.resolve(null);let r=fi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Am(i,null,"F"),r=fi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=zt(...u);return this.As.getDocuments(t,f).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.ps(i,d);return this.ys(i,g,f,p.readTime)?this.Rs(t,Am(i,null,"F")):this.ws(t,g,i,p)}))})))}Vs(t,i,r,o){return s_(i)||o.isEqual(St.min())?J.resolve(null):this.As.getDocuments(t,r).next(u=>{const f=this.ps(i,u);return this.ys(i,f,r,o)?J.resolve(null):(Pa()<=Ut.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(i)),this.ws(t,f,i,lR(o,Ll)).next(d=>d))})}ps(t,i){let r=new xe(FE(t));return i.forEach((o,u)=>{_h(t,u)&&(r=r.add(u))}),r}ys(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,i,r){return Pa()<=Ut.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",La(i)),this.As.getDocumentsMatchingQuery(t,i,Ns.min(),r)}ws(t,i,r,o){return this.As.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="LocalStore",qC=3e8;class HC{constructor(t,i,r,o){this.persistence=t,this.bs=i,this.serializer=o,this.Ss=new ge(xt),this.Ds=new qr(u=>op(u),lp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MC(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function FC(n,t,i,r){return new HC(n,t,i,r)}async function uA(n,t){const i=Bt(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Fs(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],d=[];let p=zt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:d}))})})}function cA(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function GC(n,t){const i=Bt(n),r=t.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const d=[];t.targetChanges.forEach((v,E)=>{const w=o.get(E);if(!w)return;d.push(i.ai.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.ai.addMatchingKeys(u,v.addedDocuments,E)));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?x=x.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),o=o.insert(E,x),function(G,F,$){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=qC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(w,x,v)&&d.push(i.ai.updateTargetData(u,x))});let p=Bs(),g=zt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(KC(u,f,t.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!r.isEqual(St.min())){const v=i.ai.getLastRemoteSnapshotVersion(u).next(E=>i.ai.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return J.waitFor(d).next(()=>f.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ss=o,u))}function KC(n,t,i){let r=zt(),o=zt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let f=Bs();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(d,p.readTime),f=f.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(d,p)):ct(gp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function YC(n,t){const i=Bt(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.ai.getTargetData(r,t).next(u=>u?(o=u,J.resolve(o)):i.ai.allocateTargetId(r).next(f=>(o=new Cs(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(r.targetId,r),i.Ds.set(t,r.targetId)),r})}async function Cm(n,t,i){const r=Bt(n),o=r.Ss.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!eo(f))throw f;ct(gp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(o.target)}function y_(n,t,i){const r=Bt(n);let o=St.min(),u=zt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const E=Bt(p),w=E.Ds.get(v);return w!==void 0?J.resolve(E.Ss.get(w)):E.ai.getTargetData(g,v)}(r,f,fi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(f,d.targetId).next(p=>{u=p})}).next(()=>r.bs.getDocumentsMatchingQuery(f,t,i?o:St.min(),i?u:zt())).next(d=>(QC(r,BR(t),d),{documents:d,Ns:u})))}function QC(n,t,i){let r=n.vs.get(t)||St.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.vs.set(t,r)}class v_{constructor(){this.activeTargetIds=FR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XC{constructor(){this.So=new v_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,r){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new v_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class T_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ct(__,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ct(__,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Dm(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JC{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===Kc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(t,i,r,o,u){const f=Dm(),d=this.$o(t,i.toUriEncodedString());ct(Gd,`Sending RPC '${t}' ${f}:`,d,r);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(t,d,p,r).then(g=>(ct(Gd,`Received RPC '${t}' ${f}: `,g),g),g=>{throw Ka(Gd,`RPC '${t}' ${f} failed with error: `,g,"url: ",d,"request:",r),g})}Wo(t,i,r,o,u,f){return this.Qo(t,i,r,o,u)}Uo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}$o(t,i){const r=ZC[t];return`${this.Lo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class tD extends JC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,r,o){const u=Dm();return new Promise((f,d)=>{const p=new AE;p.setWithCredentials(!0),p.listenOnce(SE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lc.NO_ERROR:const v=p.getResponseJson();ct(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),f(v);break;case Lc.TIMEOUT:ct(Qe,`RPC '${t}' ${u} timed out`),d(new pt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const E=p.getStatus();if(ct(Qe,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const q=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf($)>=0?$:at.UNKNOWN}(x.status);d(new pt(q,x.message))}else d(new pt(at.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new pt(at.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{s_:t,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ct(Qe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ct(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(i,"POST",g,r,15)})}a_(t,i,r){const o=Dm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=RE(),d=wE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(Qe,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=f.createWebChannel(v,p);let w=!1,x=!1;const q=new WC({Go:F=>{x?ct(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(w||(ct(Qe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),w=!0),ct(Qe,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},zo:()=>E.close()}),G=(F,$,et)=>{F.listen($,Q=>{try{et(Q)}catch(st){setTimeout(()=>{throw st},0)}})};return G(E,vl.EventType.OPEN,()=>{x||(ct(Qe,`RPC '${t}' stream ${o} transport opened.`),q.t_())}),G(E,vl.EventType.CLOSE,()=>{x||(x=!0,ct(Qe,`RPC '${t}' stream ${o} transport closed`),q.r_())}),G(E,vl.EventType.ERROR,F=>{x||(x=!0,Ka(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.r_(new pt(at.UNAVAILABLE,"The operation could not be completed")))}),G(E,vl.EventType.MESSAGE,F=>{var $;if(!x){const et=F.data[0];re(!!et,16349);const Q=et,st=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(st){ct(Qe,`RPC '${t}' stream ${o} received error:`,st);const tt=st.status;let lt=function(R){const I=Ae[R];if(I!==void 0)return JE(I)}(tt),V=st.message;lt===void 0&&(lt=at.INTERNAL,V="Unknown error status: "+tt+" with message "+st.message),x=!0,q.r_(new pt(lt,V)),E.close()}else ct(Qe,`RPC '${t}' stream ${o} received:`,et),q.i_(et)}}),G(d,bE.STAT_EVENT,F=>{F.stat===mm.PROXY?ct(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===mm.NOPROXY&&ct(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.n_()},0),q}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){return new oC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,i,r=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=i,this.u_=r,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class eD{constructor(t,i,r,o,u,f,d,p){this.bi=t,this.R_=r,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new fA(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===i&&this.B_(r,o)},r=>{t(()=>{const o=new pt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(t,i){const r=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ct(E_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(ct(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends eD{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=fC(this.serializer,t),r=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Fa(f.readTime):St.min()}(t);return this.listener.Q_(i,r)}U_(t){const i={};i.database=d_(this.serializer),i.addTarget=function(u,f){let d;const p=f.target;if(d=Em(p)?{documents:dC(u,p)}:{query:mC(u,p).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=uC(u,f.resumeToken);const g=wm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){d.readTime=lC(u,f.snapshotVersion.toTimestamp());const g=wm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=gC(this.serializer,t);r&&(i.labels=r),this.F_(i)}K_(t){const i={};i.database=d_(this.serializer),i.removeTarget=t,this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class sD extends iD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Rm(i,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(at.UNKNOWN,u.toString())})}Wo(t,i,r,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Wo(t,Rm(i,r),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pt(at.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class rD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Yi(i),this.ea=!1):ct("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class aD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{r.enqueueAndForget(async()=>{Wl(this)&&(ct(Za,"Restarting streams for network reachability change."),await async function(p){const g=Bt(p);g.aa.add(4),await Jl(g),g.la.set("Unknown"),g.aa.delete(4),await Sh(g)}(this))})}),this.la=new rD(r,o)}}async function Sh(n){if(Wl(n))for(const t of n.ua)await t(!0)}async function Jl(n){for(const t of n.ua)await t(!1)}function dA(n,t){const i=Bt(n);i._a.has(t.targetId)||(i._a.set(t.targetId,t),Tp(i)?_p(i):no(i).b_()&&vp(i,t))}function yp(n,t){const i=Bt(n),r=no(i);i._a.delete(t),r.b_()&&mA(i,t),i._a.size===0&&(r.b_()?r.v_():Wl(i)&&i.la.set("Unknown"))}function vp(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(n).U_(t)}function mA(n,t){n.ha.Ke(t),no(n).K_(t)}function _p(n){n.ha=new iC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),no(n).start(),n.la.ta()}function Tp(n){return Wl(n)&&!no(n).w_()&&n._a.size>0}function Wl(n){return Bt(n).aa.size===0}function pA(n){n.ha=void 0}async function oD(n){n.la.set("Online")}async function lD(n){n._a.forEach((t,i)=>{vp(n,t)})}async function uD(n,t){pA(n),Tp(n)?(n.la.ia(t),_p(n)):n.la.set("Unknown")}async function cD(n,t,i){if(n.la.set("Online"),t instanceof tA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o._a.delete(d),o.ha.removeTarget(d))}(n,t)}catch(r){ct(Za,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await A_(n,r)}else if(t instanceof zc?n.ha.Xe(t):t instanceof WE?n.ha.ot(t):n.ha.nt(t),!i.isEqual(St.min()))try{const r=await cA(n.localStore);i.compareTo(r)>=0&&await function(u,f){const d=u.ha.It(f);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u._a.get(g);v&&u._a.set(g,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach((p,g)=>{const v=u._a.get(p);if(!v)return;u._a.set(p,v.withResumeToken(Fe.EMPTY_BYTE_STRING,v.snapshotVersion)),mA(u,p);const E=new Cs(v.target,p,g,v.sequenceNumber);vp(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){ct(Za,"Failed to raise snapshot:",r),await A_(n,r)}}async function A_(n,t,i){if(!eo(t))throw t;n.aa.add(1),await Jl(n),n.la.set("Offline"),i||(i=()=>cA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ct(Za,"Retrying IndexedDB access"),await i(),n.aa.delete(1),await Sh(n)})}async function S_(n,t){const i=Bt(n);i.asyncQueue.verifyOperationInProgress(),ct(Za,"RemoteStore received new credentials");const r=Wl(i);i.aa.add(3),await Jl(i),r&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Sh(i)}async function hD(n,t){const i=Bt(n);t?(i.aa.delete(2),await Sh(i)):t||(i.aa.add(2),await Jl(i),i.la.set("Unknown"))}function no(n){return n.Pa||(n.Pa=function(i,r,o){const u=Bt(i);return u.Y_(),new nD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:oD.bind(null,n),Jo:lD.bind(null,n),Zo:uD.bind(null,n),Q_:cD.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),Tp(n)?_p(n):n.la.set("Unknown")):(await n.Pa.stop(),pA(n))})),n.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,d=new Ep(t,i,f,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gA(n,t){if(Yi("AsyncQueue",`${t}: ${n}`),eo(n))return new pt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Ia=new ge(vt.comparator)}track(t){const i=t.doc.key,r=this.Ia.get(i);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(i):t.type===1&&r.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):bt(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,r)=>{t.push(r)}),t}}class Ja{constructor(t,i,r,o,u,f,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach(d=>{f.push({type:0,doc:d})}),new Ja(t,i,Ga.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class dD{constructor(){this.queries=w_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,r){const o=Bt(i),u=o.queries;o.queries=w_(),u.forEach((f,d)=>{for(const p of d.Ra)p.onError(r)})})(this,new pt(at.ABORTED,"Firestore shutting down"))}}function w_(){return new qr(n=>HE(n),vh)}async function yA(n,t){const i=Bt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Va()&&t.ma()&&(r=2):(u=new fD,r=t.ma()?0:1);try{switch(r){case 0:u.Aa=await i.onListen(o,!0);break;case 1:u.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const d=gA(f,`Initialization of query '${La(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Ra.push(t),t.ga(i.onlineState),u.Aa&&t.pa(u.Aa)&&Ap(i)}async function vA(n,t){const i=Bt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function mD(n,t){const i=Bt(n);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const d of f.Ra)d.pa(o)&&(r=!0);f.Aa=o}}r&&Ap(i)}function pD(n,t,i){const r=Bt(n),o=r.queries.get(t);if(o)for(const u of o.Ra)u.onError(i);r.queries.delete(t)}function Ap(n){n.fa.forEach(t=>{t.next()})}var xm,R_;(R_=xm||(xm={})).ya="default",R_.Cache="cache";class _A{constructor(t,i,r){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ja(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const r=i!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.key=t}}class EA{constructor(t){this.key=t}}class gD{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=zt(),this.mutatedKeys=zt(),this.Ua=FE(t),this.Ka=new Ga(this.Ua)}get Wa(){return this.qa}Ga(t,i){const r=i?i.za:new b_,o=i?i.Ka:this.Ka;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const w=o.get(v),x=_h(this.query,E)?E:null,q=!!w&&this.mutatedKeys.has(w.key),G=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let F=!1;w&&x?w.data.isEqual(x.data)?q!==G&&(r.track({type:3,doc:x}),F=!0):this.ja(w,x)||(r.track({type:2,doc:x}),F=!0,(p&&this.Ua(x,p)>0||g&&this.Ua(x,g)<0)&&(d=!0)):!w&&x?(r.track({type:0,doc:x}),F=!0):w&&!x&&(r.track({type:1,doc:w}),F=!0,(p||g)&&(d=!0)),F&&(x?(f=f.add(x),u=G?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{Ka:f,za:r,ys:d,mutatedKeys:u}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((v,E)=>function(x,q){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:F})}};return G(x)-G(q)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(r),o=o!=null&&o;const d=i&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new Ja(this.query,t.Ka,u,f,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new b_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=zt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const i=[];return t.forEach(r=>{this.$a.has(r)||i.push(new EA(r))}),this.$a.forEach(r=>{t.has(r)||i.push(new TA(r))}),i}Xa(t){this.qa=t.Ns,this.$a=zt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return Ja.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Sp="SyncEngine";class yD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class vD{constructor(t){this.key=t,this.tu=!1}}class _D{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new qr(d=>HE(d),vh),this.iu=new Map,this.su=new Set,this.ou=new ge(vt.comparator),this._u=new Map,this.au=new dp,this.uu={},this.cu=new Map,this.lu=$a.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function TD(n,t,i=!0){const r=RA(n);let o;const u=r.ru.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await AA(r,t,i,!0),o}async function ED(n,t){const i=RA(n);await AA(i,t,!0,!1)}async function AA(n,t,i,r){const o=await YC(n.localStore,fi(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await AD(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&i&&dA(n.remoteStore,o),d}async function AD(n,t,i,r,o){n.Pu=(E,w,x)=>async function(G,F,$,et){let Q=F.view.Ga($);Q.ys&&(Q=await y_(G.localStore,F.query,!1).then(({documents:V})=>F.view.Ga(V,Q)));const st=et&&et.targetChanges.get(F.targetId),tt=et&&et.targetMismatches.get(F.targetId)!=null,lt=F.view.applyChanges(Q,G.isPrimaryClient,st,tt);return D_(G,F.targetId,lt.Ya),lt.snapshot}(n,E,w,x);const u=await y_(n.localStore,t,!0),f=new gD(t,u.Ns),d=f.Ga(u.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=f.applyChanges(d,n.isPrimaryClient,p);D_(n,i,g.Ya);const v=new yD(t,i,f);return n.ru.set(t,v),n.iu.has(i)?n.iu.get(i).push(t):n.iu.set(i,[t]),g.snapshot}async function SD(n,t,i){const r=Bt(n),o=r.ru.get(t),u=r.iu.get(o.targetId);if(u.length>1)return r.iu.set(o.targetId,u.filter(f=>!vh(f,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&yp(r.remoteStore,o.targetId),Vm(r,o.targetId)}).catch(dh)):(Vm(r,o.targetId),await Cm(r.localStore,o.targetId,!0))}async function bD(n,t){const i=Bt(n),r=i.ru.get(t),o=i.iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),yp(i.remoteStore,r.targetId))}async function SA(n,t){const i=Bt(n);try{const r=await GC(i.localStore,t);t.targetChanges.forEach((o,u)=>{const f=i._u.get(u);f&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?re(f.tu,14607):o.removedDocuments.size>0&&(re(f.tu,42227),f.tu=!1))}),await wA(i,r,t)}catch(r){await dh(r)}}function C_(n,t,i){const r=Bt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ru.forEach((u,f)=>{const d=f.view.ga(t);d.snapshot&&o.push(d.snapshot)}),function(f,d){const p=Bt(f);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const w of E.Ra)w.ga(d)&&(g=!0)}),g&&Ap(p)}(r.eventManager,t),o.length&&r.nu.Q_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wD(n,t,i){const r=Bt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r._u.get(t),u=o&&o.key;if(u){let f=new ge(vt.comparator);f=f.insert(u,Ze.newNoDocument(u,St.min()));const d=zt().add(u),p=new Ah(St.min(),new Map,new ge(xt),f,d);await SA(r,p),r.ou=r.ou.remove(u),r._u.delete(t),bp(r)}else await Cm(r.localStore,t,!1).then(()=>Vm(r,t,i)).catch(dh)}function Vm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.iu.get(t))n.ru.delete(r),i&&n.nu.Tu(r,i);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(r=>{n.au.containsKey(r)||bA(n,r)})}function bA(n,t){n.su.delete(t.path.canonicalString());const i=n.ou.get(t);i!==null&&(yp(n.remoteStore,i),n.ou=n.ou.remove(t),n._u.delete(i),bp(n))}function D_(n,t,i){for(const r of i)r instanceof TA?(n.au.addReference(r.key,t),RD(n,r)):r instanceof EA?(ct(Sp,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,t),n.au.containsKey(r.key)||bA(n,r.key)):bt(19791,{Iu:r})}function RD(n,t){const i=t.key,r=i.path.canonicalString();n.ou.get(i)||n.su.has(r)||(ct(Sp,"New document in limbo: "+i),n.su.add(r),bp(n))}function bp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const i=new vt(ee.fromString(t)),r=n.lu.next();n._u.set(r,new vD(i)),n.ou=n.ou.insert(i,r),dA(n.remoteStore,new Cs(fi(up(i.path)),r,"TargetPurposeLimboResolution",mh.le))}}async function wA(n,t,i){const r=Bt(n),o=[],u=[],f=[];r.ru.isEmpty()||(r.ru.forEach((d,p)=>{f.push(r.Pu(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=pp.Ps(p.targetId,g);u.push(E)}}))}),await Promise.all(f),r.nu.Q_(o),await async function(p,g){const v=Bt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,w=>J.forEach(w.ls,x=>v.persistence.referenceDelegate.addReference(E,w.targetId,x)).next(()=>J.forEach(w.hs,x=>v.persistence.referenceDelegate.removeReference(E,w.targetId,x)))))}catch(E){if(!eo(E))throw E;ct(gp,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const x=v.Ss.get(w),q=x.snapshotVersion,G=x.withLastLimboFreeSnapshotVersion(q);v.Ss=v.Ss.insert(w,G)}}}(r.localStore,u))}async function CD(n,t){const i=Bt(n);if(!i.currentUser.isEqual(t)){ct(Sp,"User change. New user:",t.toKey());const r=await uA(i.localStore,t);i.currentUser=t,function(u,f){u.cu.forEach(d=>{d.forEach(p=>{p.reject(new pt(at.CANCELLED,f))})}),u.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wA(i,r.Ms)}}function DD(n,t){const i=Bt(n),r=i._u.get(t);if(r&&r.tu)return zt().add(r.key);{let o=zt();const u=i.iu.get(t);if(!u)return o;for(const f of u){const d=i.ru.get(f);o=o.unionWith(d.view.Wa)}return o}}function RA(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=SA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wD.bind(null,t),t.nu.Q_=mD.bind(null,t.eventManager),t.nu.Tu=pD.bind(null,t.eventManager),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hA(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return FC(this.persistence,new kC,t.initialUser,this.serializer)}Ru(t){return new lA(mp.Ei,this.serializer)}Au(t){return new XC}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class xD extends Jc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){re(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RC(r,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new lA(r=>Zc.Ei(r,i),this.serializer)}}class Mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CD.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dD}()}createDatastore(t){const i=hA(t.databaseInfo.databaseId),r=function(u){return new tD(u)}(t.databaseInfo);return function(u,f,d,p){return new sD(u,f,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,f,d){return new aD(r,o,u,f,d)}(this.localStore,this.datastore,t.asyncQueue,i=>C_(this.syncEngine,i,0),function(){return T_.C()?new T_:new $C}())}createSyncEngine(t,i){return function(o,u,f,d,p,g,v){const E=new _D(o,u,f,d,p,g);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=Bt(o);ct(Za,"RemoteStore shutting down."),u.aa.add(5),await Jl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class VD{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=VE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{ct(zs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(ct(zs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=gA(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yd(n,t){n.asyncQueue.verifyOperationInProgress(),ct(zs,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await uA(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function x_(n,t){n.asyncQueue.verifyOperationInProgress();const i=await MD(n);ct(zs,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>S_(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>S_(t.remoteStore,o)),n._onlineComponents=t}async function MD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(zs,"Using user provided OfflineComponentProvider");try{await Yd(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Yd(n,new Jc)}}else ct(zs,"Using default OfflineComponentProvider"),await Yd(n,new xD(void 0));return n._offlineComponents}async function ID(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(zs,"Using user provided OnlineComponentProvider"),await x_(n,n._uninitializedComponentsProvider._online)):(ct(zs,"Using default OnlineComponentProvider"),await x_(n,new Mm))),n._onlineComponents}async function DA(n){const t=await ID(n),i=t.eventManager;return i.onListen=TD.bind(null,t.syncEngine),i.onUnlisten=SD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ED.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=bD.bind(null,t.syncEngine),i}function OD(n,t,i={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const v=new CA({next:w=>{v.yu(),f.enqueueAndForget(()=>vA(u,E));const x=w.docs.has(d);!x&&w.fromCache?g.reject(new pt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?g.reject(new pt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new _A(up(d.path),v,{includeMetadataChanges:!0,Fa:!0});return yA(u,E)}(await DA(n),n.asyncQueue,t,i,r)),r.promise}function ND(n,t,i={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const v=new CA({next:w=>{v.yu(),f.enqueueAndForget(()=>vA(u,E)),w.fromCache&&p.source==="server"?g.reject(new pt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new _A(d,v,{includeMetadataChanges:!0,Fa:!0});return yA(u,E)}(await DA(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,t,i){if(!i)throw new pt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function PD(n,t,i,r){if(t===!0&&r===!0)throw new pt(at.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function M_(n){if(!vt.isDocumentKey(n))throw new pt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I_(n){if(vt.isDocumentKey(n))throw new pt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function jl(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=LD(n);throw new pt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firestore.googleapis.com",O_=!0;class N_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MA,this.ssl=O_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:O_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bC)throw new pt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W2;switch(r.type){case"firstParty":return new iR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=V_.get(i);r&&(ct("ComponentProvider","Removing Datastore"),V_.delete(i),r.terminate())}(this),Promise.resolve()}}function UD(n,t,i,r={}){var o;const u=(n=jl(n,bh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${i}`;u.host!==MA&&u.host!==d&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:r});if(!Nl(p,f)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=$e.MOCK_USER;else{g=Mw(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new $e(E)}n._authCredentials=new tR(new DE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class di{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new di(this.firestore,t,this._key)}}class Is extends wh{constructor(t,i,r){super(t,i,up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new di(this.firestore,null,new vt(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function Im(n,t,...i){if(n=fh(n),VA("collection","path",t),n instanceof bh){const r=ee.fromString(t,...i);return I_(r),new Is(n,null,r)}{if(!(n instanceof di||n instanceof Is))throw new pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return I_(r),new Is(n.firestore,null,r)}}function Wc(n,t,...i){if(n=fh(n),arguments.length===1&&(t=VE.newId()),VA("doc","path",t),n instanceof bh){const r=ee.fromString(t,...i);return M_(r),new di(n,null,new vt(r))}{if(!(n instanceof di||n instanceof Is))throw new pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return M_(r),new di(n.firestore,n instanceof Is?n.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class L_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new fA(this,"async_queue_retry"),this.ju=()=>{const r=Kd();r&&ct(P_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Ms;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!eo(t))throw t;ct(P_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Yi("INTERNAL UNHANDLED ERROR: ",U_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=i,i}enqueueAfterDelay(t,i,r){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const o=Ep.createAndSchedule(this,t,i,r,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&bt(47125,{ec:U_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function U_(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class wp extends bh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new L_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L_(t),this._firestoreClient=void 0,await t}}}function BD(n,t){const i=typeof n=="object"?n:vE(),r=typeof n=="string"?n:Kc,o=Xl(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=xw("firestore");u&&UD(o,...u)}return o}function IA(n){if(n._terminated)throw new pt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zD(n),n._firestoreClient}function zD(n){var t,i,r;const o=n._freezeSettings(),u=function(d,p,g,v){return new _R(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,xA(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new VD(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this._byteString=t}static fromBase64String(t){try{return new th(Fe.fromBase64String(t))}catch(i){throw new pt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new th(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new pt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new pt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new pt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}const qD=new RegExp("[~\\*/\\[\\]]");function HD(n,t,i){if(t.search(qD)>=0)throw B_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new OA(...t.split("."))._internalPath}catch{throw B_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function B_(n,t,i,r,o){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new pt(at.INVALID_ARGUMENT,u+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(PA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FD extends NA{data(){return super.data()}}function PA(n,t){return typeof t=="string"?HD(n,t):t instanceof OA?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KD{convertValue(t,i="none"){switch(Us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return $l(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[ym].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new kD(u)}convertGeoPoint(t){return new jD(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=gh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=Ps(t);return new hn(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);re(aA(r),9688,{name:t});const o=new Bl(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(i)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LA extends NA{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(PA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class jc extends LA{data(t={}){return super.data(t)}}class YD{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new jc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const p=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:QD(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function QD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){n=jl(n,di);const t=jl(n.firestore,wp);return OD(IA(t),n._key).then(i=>XD(t,n,i))}class UA extends KD{constructor(t){super(),this.firestore=t}convertBytes(t){return new th(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,i)}}function Om(n){n=jl(n,wh);const t=jl(n.firestore,wp),i=IA(t),r=new UA(t);return GD(n._query),ND(i,n._query).then(o=>new YD(t,r,n,o))}function XD(n,t,i){const r=i.docs.get(t._key),o=new UA(n);return new LA(n,o,t._key,r,new El(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){to=o})(q2),Os(new Gi("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),d=new wp(new eR(r.getProvider("auth-internal")),new sR(f,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),hi(k0,q0,t),hi(k0,q0,"esm2017")})();var $D="firebase",ZD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi($D,ZD,"app");const BA="@firebase/installations",Rp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1e4,jA=`w:${Rp}`,kA="FIS_v2",JD="https://firebaseinstallations.googleapis.com/v1",WD=60*60*1e3,tx="installations",ex="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jr=new hh(tx,ex,nx);function qA(n){return n instanceof qs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA({projectId:n}){return`${JD}/projects/${n}/installations`}function FA(n){return{token:n.token,requestStatus:2,expiresIn:sx(n.expiresIn),creationTime:Date.now()}}async function GA(n,t){const r=(await t.json()).error;return jr.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ix(n,{refreshToken:t}){const i=KA(n);return i.append("Authorization",rx(t)),i}async function YA(n){const t=await n();return t.status>=500&&t.status<600?n():t}function sx(n){return Number(n.replace("s","000"))}function rx(n){return`${kA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=HA(n),o=KA(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:i,authVersion:kA,appId:n.appId,sdkVersion:jA},d={method:"POST",headers:o,body:JSON.stringify(f)},p=await YA(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:FA(g.authToken)}}else throw await GA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=/^[cdef][\w-]{21}$/,Nm="";function ux(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=cx(n);return lx.test(i)?i:Nm}catch{return Nm}}function cx(n){return ox(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Map;function $A(n,t){const i=Rh(n);ZA(i,t),hx(i,t)}function ZA(n,t){const i=XA.get(n);if(i)for(const r of i)r(t)}function hx(n,t){const i=fx();i&&i.postMessage({key:n,fid:t}),dx()}let Mr=null;function fx(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=n=>{ZA(n.data.key,n.data.fid)}),Mr}function dx(){XA.size===0&&Mr&&(Mr.close(),Mr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firebase-installations-database",px=1,kr="firebase-installations-store";let Qd=null;function Cp(){return Qd||(Qd=gE(mx,px,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(kr)}}})),Qd}async function nh(n,t){const i=Rh(n),o=(await Cp()).transaction(kr,"readwrite"),u=o.objectStore(kr),f=await u.get(i);return await u.put(t,i),await o.done,(!f||f.fid!==t.fid)&&$A(n,t.fid),t}async function JA(n){const t=Rh(n),r=(await Cp()).transaction(kr,"readwrite");await r.objectStore(kr).delete(t),await r.done}async function Ch(n,t){const i=Rh(n),o=(await Cp()).transaction(kr,"readwrite"),u=o.objectStore(kr),f=await u.get(i),d=t(f);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!f||f.fid!==d.fid)&&$A(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(n){let t;const i=await Ch(n.appConfig,r=>{const o=gx(r),u=yx(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Nm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function gx(n){const t=n||{fid:ux(),registrationStatus:0};return WA(t)}function yx(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(jr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=vx(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_x(n)}:{installationEntry:t}}async function vx(n,t){try{const i=await ax(n,t);return nh(n.appConfig,i)}catch(i){throw qA(i)&&i.customData.serverCode===409?await JA(n.appConfig):await nh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function _x(n){let t=await z_(n.appConfig);for(;t.registrationStatus===1;)await QA(100),t=await z_(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Dp(n);return r||i}return t}function z_(n){return Ch(n,t=>{if(!t)throw jr.create("installation-not-found");return WA(t)})}function WA(n){return Tx(n)?{fid:n.fid,registrationStatus:0}:n}function Tx(n){return n.registrationStatus===1&&n.registrationTime+zA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex({appConfig:n,heartbeatServiceProvider:t},i){const r=Ax(n,i),o=ix(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:jA,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(f)},p=await YA(()=>fetch(r,d));if(p.ok){const g=await p.json();return FA(g)}else throw await GA("Generate Auth Token",p)}function Ax(n,{fid:t}){return`${HA(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n,t=!1){let i;const r=await Ch(n.appConfig,u=>{if(!tS(u))throw jr.create("not-registered");const f=u.authToken;if(!t&&wx(f))return u;if(f.requestStatus===1)return i=Sx(n,t),u;{if(!navigator.onLine)throw jr.create("app-offline");const d=Cx(u);return i=bx(n,d),d}});return i?await i:r.authToken}async function Sx(n,t){let i=await j_(n.appConfig);for(;i.authToken.requestStatus===1;)await QA(100),i=await j_(n.appConfig);const r=i.authToken;return r.requestStatus===0?xp(n,t):r}function j_(n){return Ch(n,t=>{if(!tS(t))throw jr.create("not-registered");const i=t.authToken;return Dx(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function bx(n,t){try{const i=await Ex(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await nh(n.appConfig,r),i}catch(i){if(qA(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await JA(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nh(n.appConfig,r)}throw i}}function tS(n){return n!==void 0&&n.registrationStatus===2}function wx(n){return n.requestStatus===2&&!Rx(n)}function Rx(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+WD}function Cx(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function Dx(n){return n.requestStatus===1&&n.requestTime+zA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(n){const t=n,{installationEntry:i,registrationPromise:r}=await Dp(t);return r?r.catch(console.error):xp(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(n,t=!1){const i=n;return await Mx(i),(await xp(i,t)).token}async function Mx(n){const{registrationPromise:t}=await Dp(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){if(!n||!n.options)throw Xd("App Configuration");if(!n.name)throw Xd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw Xd(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Xd(n){return jr.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="installations",Ox="installations-internal",Nx=n=>{const t=n.getProvider("app").getImmediate(),i=Ix(t),r=Xl(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Px=n=>{const t=n.getProvider("app").getImmediate(),i=Xl(t,eS).getImmediate();return{getId:()=>xx(i),getToken:o=>Vx(i,o)}};function Lx(){Os(new Gi(eS,Nx,"PUBLIC")),Os(new Gi(Ox,Px,"PRIVATE"))}Lx();hi(BA,Rp);hi(BA,Rp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="analytics",Ux="firebase_id",Bx="origin",zx=60*1e3,jx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new np("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new hh("analytics","Analytics",kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n){if(!n.startsWith(Vp)){const t=An.create("invalid-gtag-resource",{gtagURL:n});return fn.warn(t.message),""}return n}function nS(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function Hx(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function Fx(n,t){const i=Hx("firebase-js-sdk-policy",{createScriptURL:qx}),r=document.createElement("script"),o=`${Vp}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Gx(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function Kx(n,t,i,r,o,u){const f=r[o];try{if(f)await t[f];else{const p=(await nS(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){fn.error(d)}n("config",o,u)}async function Yx(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const d=await nS(i);for(const p of f){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){fn.error(u)}}function Qx(n,t,i,r){async function o(u,...f){try{if(u==="event"){const[d,p]=f;await Yx(n,t,i,d,p)}else if(u==="config"){const[d,p]=f;await Kx(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=f;n("consent",d,p)}else if(u==="get"){const[d,p,g]=f;n("get",d,p,g)}else if(u==="set"){const[d]=f;n("set",d)}else n(u,...f)}catch(d){fn.error(d)}}return o}function Xx(n,t,i,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Qx(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function $x(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Vp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=30,Jx=1e3;class Wx{constructor(t={},i=Jx){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const iS=new Wx;function tV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function eV(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:tV(r)},u=jx.replace("{app-id}",i),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let d="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:f.status,responseMessage:d})}return f.json()}async function nV(n,t=iS,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw An.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new rV;return setTimeout(async()=>{d.abort()},zx),sS({appId:r,apiKey:o,measurementId:u},f,d,t)}async function sS(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=iS){var u;const{appId:f,measurementId:d}=n;try{await iV(r,t)}catch(p){if(d)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:d};throw p}try{const p=await eV(n);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!sV(g)){if(o.deleteThrottleMetadata(f),d)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?M0(i,o.intervalMillis,Zx):M0(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(f,E),fn.debug(`Calling attemptFetch again in ${v} millis`),sS(n,E,r,o)}}function iV(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function sV(n){if(!(n instanceof qs)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class rV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function aV(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,f=Object.assign(Object.assign({},r),{send_to:u});n("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(){if(fE())try{await dE()}catch(n){return fn.warn(An.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return fn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lV(n,t,i,r,o,u,f){var d;const p=nV(n);p.then(x=>{i[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>fn.error(x)),t.push(p);const g=oV().then(x=>{if(x)return r.getId()}),[v,E]=await Promise.all([p,g]);$x(u)||Fx(u,v.measurementId),o("js",new Date);const w=(d=f==null?void 0:f.config)!==null&&d!==void 0?d:{};return w[Bx]="firebase",w.update=!0,E!=null&&(w[Ux]=E),o("config",v.measurementId,w),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t){this.app=t}_delete(){return delete Dl[this.app.options.appId],Promise.resolve()}}let Dl={},k_=[];const q_={};let $d="dataLayer",cV="gtag",H_,rS,F_=!1;function hV(){const n=[];if(Nw()&&n.push("This is a browser extension environment."),Lw()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=An.create("invalid-analytics-context",{errorInfo:t});fn.warn(i.message)}}function fV(n,t,i){hV();const r=n.options.appId;if(!r)throw An.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Dl[r]!=null)throw An.create("already-exists",{id:r});if(!F_){Gx($d);const{wrappedGtag:u,gtagCore:f}=Xx(Dl,k_,q_,$d,cV);rS=u,H_=f,F_=!0}return Dl[r]=lV(n,k_,q_,t,H_,$d,i),new uV(n)}function dV(n=vE()){n=fh(n);const t=Xl(n,ih);return t.isInitialized()?t.getImmediate():mV(n)}function mV(n,t={}){const i=Xl(n,ih);if(i.isInitialized()){const o=i.getImmediate();if(Nl(t,i.getOptions()))return o;throw An.create("already-initialized")}return i.initialize({options:t})}function pV(n,t,i,r){n=fh(n),aV(rS,Dl[n.app.options.appId],t,i,r).catch(o=>fn.error(o))}const G_="@firebase/analytics",K_="0.10.12";function gV(){Os(new Gi(ih,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return fV(r,o,i)},"PUBLIC")),Os(new Gi("analytics-internal",n,"PRIVATE")),hi(G_,K_),hi(G_,K_,"esm2017");function n(t){try{const i=t.getProvider(ih).getImmediate();return{logEvent:(r,o,u)=>pV(i,r,o,u)}}catch(i){throw An.create("interop-component-reg-failed",{reason:i})}}}gV();const yV={apiKey:"AIzaSyDQvvRrnLaotAF32qtVJ8UUDflq2_f8UbM",authDomain:"vinyl-collection-a201a.firebaseapp.com",projectId:"vinyl-collection-a201a",storageBucket:"vinyl-collection-a201a.firebasestorage.app",messagingSenderId:"1028885539181",appId:"1:1028885539181:web:4d928efef3608fda399264",measurementId:"G-LSBHM95N5S"},aS=yE(yV);dV(aS);const Ir=BD(aS),oS=dt.createContext({});function vV(n){const t=dt.useRef(null);return t.current===null&&(t.current=n()),t.current}const Mp=typeof window<"u",_V=Mp?dt.useLayoutEffect:dt.useEffect,Ip=dt.createContext(null),lS=dt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function TV(n=!0){const t=dt.useContext(Ip);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=dt.useId();dt.useEffect(()=>{if(n)return o(u)},[n]);const f=dt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,f]:[!0]}function Op(n,t){n.indexOf(t)===-1&&n.push(t)}function Np(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Qi=(n,t,i)=>i>t?t:i<n?n:i;let Pp=()=>{};const Xi={},uS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),cS=n=>/^0[^.\s]+$/u.test(n);function Lp(n){let t;return()=>(t===void 0&&(t=n()),t)}const Bn=n=>n,EV=(n,t)=>i=>t(n(i)),tu=(...n)=>n.reduce(EV),kl=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Up{constructor(){this.subscriptions=[]}add(t){return Op(this.subscriptions,t),()=>Np(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=n=>n*1e3,pi=n=>n/1e3;function hS(n,t){return t?n*(1e3/t):0}const fS=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,AV=1e-7,SV=12;function bV(n,t,i,r,o){let u,f,d=0;do f=t+(i-t)/2,u=fS(f,r,o)-n,u>0?i=f:t=f;while(Math.abs(u)>AV&&++d<SV);return f}function eu(n,t,i,r){if(n===t&&i===r)return Bn;const o=u=>bV(u,0,1,n,i);return u=>u===0||u===1?u:fS(o(u),t,r)}const dS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,mS=n=>t=>1-n(1-t),pS=eu(.33,1.53,.69,.99),Bp=mS(pS),gS=dS(Bp),yS=n=>(n*=2)<1?.5*Bp(n):.5*(2-Math.pow(2,-10*(n-1))),zp=n=>1-Math.sin(Math.acos(n)),vS=mS(zp),_S=dS(zp),wV=eu(.42,0,1,1),RV=eu(0,0,.58,1),TS=eu(.42,0,.58,1),CV=n=>Array.isArray(n)&&typeof n[0]!="number",ES=n=>Array.isArray(n)&&typeof n[0]=="number",DV={linear:Bn,easeIn:wV,easeInOut:TS,easeOut:RV,circIn:zp,circInOut:_S,circOut:vS,backIn:Bp,backInOut:gS,backOut:pS,anticipate:yS},xV=n=>typeof n=="string",Y_=n=>{if(ES(n)){Pp(n.length===4);const[t,i,r,o]=n;return eu(t,i,r,o)}else if(xV(n))return DV[n];return n},Oc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Q_={value:null};function VV(n,t){let i=new Set,r=new Set,o=!1,u=!1;const f=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){f.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,w=!1,x=!1)=>{const G=x&&o?i:r;return w&&f.add(E),G.has(E)||G.add(E),E},cancel:E=>{r.delete(E),f.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&Q_.value&&Q_.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const MV=40;function AS(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,f=Oc.reduce((Q,st)=>(Q[st]=VV(u,t?st:void 0),Q),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:w,render:x,postRender:q}=f,G=()=>{const Q=Xi.useManualTiming?o.timestamp:performance.now();i=!1,Xi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,MV),1)),o.timestamp=Q,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),w.process(o),x.process(o),q.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(G))},F=()=>{i=!0,r=!0,o.isProcessing||n(G)};return{schedule:Oc.reduce((Q,st)=>{const tt=f[st];return Q[st]=(lt,V=!1,b=!1)=>(i||F(),tt.schedule(lt,V,b)),Q},{}),cancel:Q=>{for(let st=0;st<Oc.length;st++)f[Oc[st]].cancel(Q)},state:o,steps:f}}const{schedule:ae,cancel:js,state:qe,steps:Zd}=AS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let kc;function IV(){kc=void 0}const cn={now:()=>(kc===void 0&&cn.set(qe.isProcessing||Xi.useManualTiming?qe.timestamp:performance.now()),kc),set:n=>{kc=n,queueMicrotask(IV)}},SS=n=>t=>typeof t=="string"&&t.startsWith(n),jp=SS("--"),OV=SS("var(--"),kp=n=>OV(n)?NV.test(n.split("/*")[0].trim()):!1,NV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,io={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ql={...io,transform:n=>Qi(0,1,n)},Nc={...io,default:1},xl=n=>Math.round(n*1e5)/1e5,qp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PV(n){return n==null}const LV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hp=(n,t)=>i=>!!(typeof i=="string"&&LV.test(i)&&i.startsWith(n)||t&&!PV(i)&&Object.prototype.hasOwnProperty.call(i,t)),bS=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,f,d]=r.match(qp);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(f),alpha:d!==void 0?parseFloat(d):1}},UV=n=>Qi(0,255,n),Jd={...io,transform:n=>Math.round(UV(n))},Or={test:Hp("rgb","red"),parse:bS("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Jd.transform(n)+", "+Jd.transform(t)+", "+Jd.transform(i)+", "+xl(ql.transform(r))+")"};function BV(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Pm={test:Hp("#"),parse:BV,transform:Or.transform},nu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ws=nu("deg"),gi=nu("%"),Et=nu("px"),zV=nu("vh"),jV=nu("vw"),X_={...gi,parse:n=>gi.parse(n)/100,transform:n=>gi.transform(n*100)},za={test:Hp("hsl","hue"),parse:bS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+gi.transform(xl(t))+", "+gi.transform(xl(i))+", "+xl(ql.transform(r))+")"},Xe={test:n=>Or.test(n)||Pm.test(n)||za.test(n),parse:n=>Or.test(n)?Or.parse(n):za.test(n)?za.parse(n):Pm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Or.transform(n):za.transform(n)},kV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qV(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(qp))==null?void 0:t.length)||0)+(((i=n.match(kV))==null?void 0:i.length)||0)>0}const wS="number",RS="color",HV="var",FV="var(",$_="${}",GV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hl(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(GV,p=>(Xe.test(p)?(r.color.push(u),o.push(RS),i.push(Xe.parse(p))):p.startsWith(FV)?(r.var.push(u),o.push(HV),i.push(p)):(r.number.push(u),o.push(wS),i.push(parseFloat(p))),++u,$_)).split($_);return{values:i,split:d,indexes:r,types:o}}function CS(n){return Hl(n).values}function DS(n){const{split:t,types:i}=Hl(n),r=t.length;return o=>{let u="";for(let f=0;f<r;f++)if(u+=t[f],o[f]!==void 0){const d=i[f];d===wS?u+=xl(o[f]):d===RS?u+=Xe.transform(o[f]):u+=o[f]}return u}}const KV=n=>typeof n=="number"?0:n;function YV(n){const t=CS(n);return DS(n)(t.map(KV))}const ks={test:qV,parse:CS,createTransformer:DS,getAnimatableNone:YV};function Wd(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function QV({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,f=0;if(!t)o=u=f=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=Wd(p,d,n+1/3),u=Wd(p,d,n),f=Wd(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:r}}function sh(n,t){return i=>i>0?t:n}const se=(n,t,i)=>n+(t-n)*i,tm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},XV=[Pm,Or,za],$V=n=>XV.find(t=>t.test(n));function Z_(n){const t=$V(n);if(!t)return!1;let i=t.parse(n);return t===za&&(i=QV(i)),i}const J_=(n,t)=>{const i=Z_(n),r=Z_(t);if(!i||!r)return sh(n,t);const o={...i};return u=>(o.red=tm(i.red,r.red,u),o.green=tm(i.green,r.green,u),o.blue=tm(i.blue,r.blue,u),o.alpha=se(i.alpha,r.alpha,u),Or.transform(o))},Lm=new Set(["none","hidden"]);function ZV(n,t){return Lm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function JV(n,t){return i=>se(n,t,i)}function Fp(n){return typeof n=="number"?JV:typeof n=="string"?kp(n)?sh:Xe.test(n)?J_:eM:Array.isArray(n)?xS:typeof n=="object"?Xe.test(n)?J_:WV:sh}function xS(n,t){const i=[...n],r=i.length,o=n.map((u,f)=>Fp(u)(u,t[f]));return u=>{for(let f=0;f<r;f++)i[f]=o[f](u);return i}}function WV(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Fp(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function tM(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=n.indexes[u][r[u]],d=n.values[f]??0;i[o]=d,r[u]++}return i}const eM=(n,t)=>{const i=ks.createTransformer(t),r=Hl(n),o=Hl(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Lm.has(n)&&!o.values.length||Lm.has(t)&&!r.values.length?ZV(n,t):tu(xS(tM(r,o),o.values),i):sh(n,t)};function VS(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?se(n,t,i):Fp(n)(n,t)}const nM=n=>{const t=({timestamp:i})=>n(i);return{start:()=>ae.update(t,!0),stop:()=>js(t),now:()=>qe.isProcessing?qe.timestamp:cn.now()}},MS=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=n(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},rh=2e4;function Gp(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<rh;)t+=i,r=n.next(t);return t>=rh?1/0:t}function iM(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Gp(r),rh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:pi(o)}}const sM=5;function IS(n,t,i){const r=Math.max(t-sM,0);return hS(i-n(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W_=.001;function rM({duration:n=ce.duration,bounce:t=ce.bounce,velocity:i=ce.velocity,mass:r=ce.mass}){let o,u,f=1-t;f=Qi(ce.minDamping,ce.maxDamping,f),n=Qi(ce.minDuration,ce.maxDuration,pi(n)),f<1?(o=g=>{const v=g*f,E=v*n,w=v-i,x=Um(g,f),q=Math.exp(-E);return W_-w/x*q},u=g=>{const E=g*f*n,w=E*i+i,x=Math.pow(f,2)*Math.pow(g,2)*n,q=Math.exp(-E),G=Um(Math.pow(g,2),f);return(-o(g)+W_>0?-1:1)*((w-x)*q)/G}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=oM(o,u,d);if(n=mi(n),isNaN(p))return{stiffness:ce.stiffness,damping:ce.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:f*2*Math.sqrt(r*g),duration:n}}}const aM=12;function oM(n,t,i){let r=i;for(let o=1;o<aM;o++)r=r-n(r)/t(r);return r}function Um(n,t){return n*Math.sqrt(1-t*t)}const lM=["duration","bounce"],uM=["stiffness","damping","mass"];function tT(n,t){return t.some(i=>n[i]!==void 0)}function cM(n){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...n};if(!tT(n,uM)&&tT(n,lM))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:ce.mass,stiffness:o,damping:u}}else{const i=rM(n);t={...t,...i,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function ah(n=ce.visualDuration,t=ce.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],f=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:w,isResolvedFromDuration:x}=cM({...i,velocity:-pi(i.velocity||0)}),q=w||0,G=g/(2*Math.sqrt(p*v)),F=f-u,$=pi(Math.sqrt(p/v)),et=Math.abs(F)<5;r||(r=et?ce.restSpeed.granular:ce.restSpeed.default),o||(o=et?ce.restDelta.granular:ce.restDelta.default);let Q;if(G<1){const tt=Um($,G);Q=lt=>{const V=Math.exp(-G*$*lt);return f-V*((q+G*$*F)/tt*Math.sin(tt*lt)+F*Math.cos(tt*lt))}}else if(G===1)Q=tt=>f-Math.exp(-$*tt)*(F+(q+$*F)*tt);else{const tt=$*Math.sqrt(G*G-1);Q=lt=>{const V=Math.exp(-G*$*lt),b=Math.min(tt*lt,300);return f-V*((q+G*$*F)*Math.sinh(b)+tt*F*Math.cosh(b))/tt}}const st={calculatedDuration:x&&E||null,next:tt=>{const lt=Q(tt);if(x)d.done=tt>=E;else{let V=tt===0?q:0;G<1&&(V=tt===0?mi(q):IS(Q,tt,lt));const b=Math.abs(V)<=r,R=Math.abs(f-lt)<=o;d.done=b&&R}return d.value=d.done?f:lt,d},toString:()=>{const tt=Math.min(Gp(st),rh),lt=MS(V=>st.next(tt*V).value,tt,30);return tt+"ms "+lt},toTransition:()=>{}};return st}ah.applyToOptions=n=>{const t=iM(n,100,ah);return n.ease=t.ease,n.duration=mi(t.duration),n.type="keyframes",n};function Bm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],w={done:!1,value:E},x=b=>d!==void 0&&b<d||p!==void 0&&b>p,q=b=>d===void 0?p:p===void 0||Math.abs(d-b)<Math.abs(p-b)?d:p;let G=i*t;const F=E+G,$=f===void 0?F:f(F);$!==F&&(G=$-E);const et=b=>-G*Math.exp(-b/r),Q=b=>$+et(b),st=b=>{const R=et(b),I=Q(b);w.done=Math.abs(R)<=g,w.value=w.done?$:I};let tt,lt;const V=b=>{x(w.value)&&(tt=b,lt=ah({keyframes:[w.value,q(w.value)],velocity:IS(Q,b,w.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:b=>{let R=!1;return!lt&&tt===void 0&&(R=!0,st(b),V(b)),tt!==void 0&&b>=tt?lt.next(b-tt):(!R&&st(b),w)}}}function hM(n,t,i){const r=[],o=i||Xi.mix||VS,u=n.length-1;for(let f=0;f<u;f++){let d=o(n[f],n[f+1]);if(t){const p=Array.isArray(t)?t[f]||Bn:t;d=tu(p,d)}r.push(d)}return r}function fM(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Pp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=hM(t,r,o),p=d.length,g=v=>{if(f&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const w=kl(n[E],n[E+1],v);return d[E](w)};return i?v=>g(Qi(n[0],n[u-1],v)):g}function dM(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=kl(0,t,r);n.push(se(i,1,o))}}function mM(n){const t=[0];return dM(t,n.length-1),t}function pM(n,t){return n.map(i=>i*t)}function gM(n,t){return n.map(()=>t||TS).splice(0,n.length-1)}function Vl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=CV(r)?r.map(Y_):Y_(r),u={done:!1,value:t[0]},f=pM(i&&i.length===t.length?i:mM(t),n),d=fM(f,t,{ease:Array.isArray(o)?o:gM(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const yM=n=>n!==null;function Kp(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(yM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const vM={decay:Bm,inertia:Bm,tween:Vl,keyframes:Vl,spring:ah};function OS(n){typeof n.type=="string"&&(n.type=vM[n.type])}class Yp{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const _M=n=>n/100;class NS extends Yp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;if(i&&i.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;OS(t);const{type:i=Vl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:d}=t;const p=i||Vl;p!==Vl&&typeof d[0]!="number"&&(this.mixKeyframes=tu(_M,VS(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=Gp(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:w,repeatDelay:x,type:q,onUpdate:G,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),et=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,st=r;if(E){const b=Math.min(this.currentTime,o)/d;let R=Math.floor(b),I=b%1;!I&&b>=1&&(I=1),I===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(w==="reverse"?(I=1-I,x&&(I-=x/d)):w==="mirror"&&(st=f)),Q=Qi(0,1,I)*d}const tt=et?{done:!1,value:v[0]}:st.next(Q);u&&(tt.value=u(tt.value));let{done:lt}=tt;!et&&p!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return V&&q!==Bm&&(tt.value=Kp(v,this.options,F,this.speed)),G&&G(tt.value),V&&this.finish(),tt}then(t,i){return this.finished.then(t,i)}get duration(){return pi(this.calculatedDuration)}get time(){return pi(this.currentTime)}set time(t){t=mi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=nM,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function TM(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Nr=n=>n*180/Math.PI,zm=n=>{const t=Nr(Math.atan2(n[1],n[0]));return jm(t)},EM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:zm,rotateZ:zm,skewX:n=>Nr(Math.atan(n[1])),skewY:n=>Nr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jm=n=>(n=n%360,n<0&&(n+=360),n),eT=zm,nT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),AM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nT,scaleY:iT,scale:n=>(nT(n)+iT(n))/2,rotateX:n=>jm(Nr(Math.atan2(n[6],n[5]))),rotateY:n=>jm(Nr(Math.atan2(-n[2],n[0]))),rotateZ:eT,rotate:eT,skewX:n=>Nr(Math.atan(n[4])),skewY:n=>Nr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function sT(n){return n.includes("scale")?1:0}function km(n,t){if(!n||n==="none")return sT(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=AM,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=EM,o=d}if(!o)return sT(t);const u=r[t],f=o[1].split(",").map(bM);return typeof u=="function"?u(f):f[u]}const SM=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return km(i,t)};function bM(n){return parseFloat(n.trim())}const so=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ro=new Set(so),rT=n=>n===io||n===Et,wM=new Set(["x","y","z"]),RM=so.filter(n=>!wM.has(n));function CM(n){const t=[];return RM.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Ur={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>km(t,"x"),y:(n,{transform:t})=>km(t,"y")};Ur.translateX=Ur.x;Ur.translateY=Ur.y;const Br=new Set;let qm=!1,Hm=!1,Fm=!1;function PS(){if(Hm){const n=Array.from(Br).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=CM(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,f])=>{var d;(d=r.getValue(u))==null||d.set(f)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hm=!1,qm=!1,Br.forEach(n=>n.complete(Fm)),Br.clear()}function LS(){Br.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Hm=!0)})}function DM(){Fm=!0,LS(),PS(),Fm=!1}class Qp{constructor(t,i,r,o,u,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Br.add(this),qm||(qm=!0,ae.read(LS),ae.resolveKeyframes(PS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,f);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}TM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Br.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Br.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xM=n=>n.startsWith("--");function VM(n,t,i){xM(t)?n.style.setProperty(t,i):n.style[t]=i}const MM=Lp(()=>window.ScrollTimeline!==void 0),IM={};function OM(n,t){const i=Lp(n);return()=>IM[t]??i()}const US=OM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Al=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,aT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function BS(n,t){if(n)return typeof n=="function"?US()?MS(n,t):"ease-out":ES(n)?Al(n):Array.isArray(n)?n.map(i=>BS(i,t)||aT.easeOut):aT[n]}function NM(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=BS(d,o);Array.isArray(E)&&(v.easing=E);const w={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(v,w)}function zS(n){return typeof n=="function"&&"applyToOptions"in n}function PM({type:n,...t}){return zS(n)&&US()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class LM extends Yp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Pp(typeof t.type!="string");const g=PM(t);this.animation=NM(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Kp(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):VM(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return pi(Number(t))}get time(){return pi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=mi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&MM()?(this.animation.timeline=t,Bn):i(this)}}const jS={anticipate:yS,backInOut:gS,circInOut:_S};function UM(n){return n in jS}function BM(n){typeof n.ease=="string"&&UM(n.ease)&&(n.ease=jS[n.ease])}const oT=10;class zM extends LM{constructor(t){BM(t),OS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...f}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new NS({...f,autoplay:!1}),p=mi(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-oT).value,d.sample(p).value,oT),d.stop()}}const lT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ks.test(n)||n==="0")&&!n.startsWith("url("));function jM(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function kM(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],f=lT(o,t),d=lT(u,t);return!f||!d?!1:jM(n)||(i==="spring"||zS(i))&&r}const qM=new Set(["opacity","clipPath","filter","transform"]),HM=Lp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FM(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:f}=n;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return HM()&&i&&qM.has(i)&&(i!=="transform"||!p)&&!d&&!r&&o!=="mirror"&&u!==0&&f!=="inertia"}const GM=40;class KM extends Yp{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){var q;super(),this.stop=()=>{var G,F;this._animation?(this._animation.stop(),(G=this.stopTimeline)==null||G.call(this)):(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=cn.now();const w={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:f,name:p,motionValue:g,element:v,...E},x=(v==null?void 0:v.KeyframeResolver)||Qp;this.keyframeResolver=new x(d,(G,F,$)=>this.onKeyframesResolved(G,F,w,!$),p,g,v),(q=this.keyframeResolver)==null||q.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=cn.now(),kM(t,u,f,d)||((Xi.instantAnimations||!p)&&(v==null||v(Kp(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>GM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},x=!g&&FM(w)?new zM({...w,element:w.motionValue.owner.current}):new NS(w);x.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||DM(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const YM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QM(n){const t=YM.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function kS(n,t,i=1){const[r,o]=QM(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const f=u.trim();return uS(f)?parseFloat(f):f}return kp(o)?kS(o,t,i+1):o}function Xp(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const qS=new Set(["width","height","top","left","right","bottom",...so]),XM={test:n=>n==="auto",parse:n=>n},HS=n=>t=>t.test(n),FS=[io,Et,gi,ws,jV,zV,XM],uT=n=>FS.find(HS(n));function $M(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cS(n):!0}const ZM=new Set(["brightness","contrast","saturate","opacity"]);function JM(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(qp)||[];if(!r)return n;const o=i.replace(r,"");let u=ZM.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const WM=/\b([a-z-]*)\(.*?\)/gu,Gm={...ks,getAnimatableNone:n=>{const t=n.match(WM);return t?t.map(JM).join(" "):n}},cT={...io,transform:Math.round},tI={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:ws,skewX:ws,skewY:ws,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:ql,originX:X_,originY:X_,originZ:Et},$p={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...tI,zIndex:cT,fillOpacity:ql,strokeOpacity:ql,numOctaves:cT},eI={...$p,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:Gm,WebkitFilter:Gm},GS=n=>eI[n];function KS(n,t){let i=GS(n);return i!==Gm&&(i=ks),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const nI=new Set(["auto","none","0"]);function iI(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!nI.has(u)&&Hl(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=KS(i,o)}class sI extends Qp{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),kp(g))){const v=kS(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!qS.has(r)||t.length!==2)return;const[o,u]=t,f=uT(o),d=uT(u);if(f!==d)if(rT(f)&&rT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ur[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||$M(t[o]))&&r.push(o);r.length&&iI(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ur[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,f=r[u];r[u]=Ur[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function rI(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const{schedule:Zp}=AS(queueMicrotask,!1),Gn={x:!1,y:!1};function YS(){return Gn.x||Gn.y}function aI(n){return n==="x"||n==="y"?Gn[n]?null:(Gn[n]=!0,()=>{Gn[n]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}function QS(n,t){const i=rI(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function hT(n){return!(n.pointerType==="touch"||YS())}function oI(n,t,i={}){const[r,o,u]=QS(n,i),f=d=>{if(!hT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{hT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",f,o)}),u}const XS=(n,t)=>t?n===t?!0:XS(n,t.parentElement):!1,Jp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,lI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uI(n){return lI.has(n.tagName)||n.tabIndex!==-1}const Sl=new WeakSet;function fT(n){return t=>{t.key==="Enter"&&n(t)}}function em(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cI=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=fT(()=>{if(Sl.has(i))return;em(i,"down");const o=fT(()=>{em(i,"up")}),u=()=>em(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function dT(n){return Jp(n)&&!YS()}function hI(n,t,i={}){const[r,o,u]=QS(n,i),f=d=>{const p=d.currentTarget;if(!dT(d)||Sl.has(p))return;Sl.add(p);const g=t(p,d),v=(x,q)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",w),!(!dT(x)||!Sl.has(p))&&(Sl.delete(p),typeof g=="function"&&g(x,{success:q}))},E=x=>{v(x,p===window||p===document||i.useGlobalTarget||XS(p,x.target))},w=x=>{v(x,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",w,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",f,o),d instanceof HTMLElement&&(d.addEventListener("focus",g=>cI(g,o)),!uI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}const mT=30,fI=n=>!isNaN(parseFloat(n));class dI{constructor(t,i={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var f,d;const u=cn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((f=this.events.change)==null||f.notify(this.current)),o&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Up);const r=this.events[t].add(i);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,mT);return hS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(n,t){return new dI(n,t)}const mI=[...FS,Xe,ks],pI=n=>mI.find(HS(n)),$S=(n,t)=>t&&typeof n=="number"?t.transform(n):n,ZS=dt.createContext({strict:!1}),pT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const n in pT)Wa[n]={isEnabled:t=>pT[n].some(i=>!!t[i])};function gI(n){for(const t in n)Wa[t]={...Wa[t],...n[t]}}const yI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||yI.has(n)}let JS=n=>!oh(n);function vI(n){n&&(JS=t=>t.startsWith("on")?!oh(t):n(t))}try{vI(require("@emotion/is-prop-valid").default)}catch{}function _I(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(JS(o)||i===!0&&oh(o)||!t&&!oh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function TI(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const Dh=dt.createContext({});function xh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Gl(n){return typeof n=="string"||Array.isArray(n)}const Wp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tg=["initial",...Wp];function Vh(n){return xh(n.animate)||tg.some(t=>Gl(n[t]))}function WS(n){return!!(Vh(n)||n.variants)}function EI(n,t){if(Vh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Gl(i)?i:void 0,animate:Gl(r)?r:void 0}}return n.inherit!==!1?t:{}}function AI(n){const{initial:t,animate:i}=EI(n,dt.useContext(Dh));return dt.useMemo(()=>({initial:t,animate:i}),[gT(t),gT(i)])}function gT(n){return Array.isArray(n)?n.join(" "):n}const SI=Symbol.for("motionComponentSymbol");function ja(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function bI(n,t,i){return dt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):ja(i)&&(i.current=r))},[t])}const eg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wI="framerAppearId",t1="data-"+eg(wI),e1=dt.createContext({});function RI(n,t,i,r,o){var G,F;const{visualElement:u}=dt.useContext(Dh),f=dt.useContext(ZS),d=dt.useContext(Ip),p=dt.useContext(lS).reducedMotion,g=dt.useRef(null);r=r||f.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=dt.useContext(e1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&CI(g.current,i,o,E);const w=dt.useRef(!1);dt.useInsertionEffect(()=>{v&&w.current&&v.update(i,d)});const x=i[t1],q=dt.useRef(!!x&&!((G=window.MotionHandoffIsComplete)!=null&&G.call(window,x))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,x)));return _V(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Zp.render(v.render),q.current&&v.animationState&&v.animationState.animateChanges())}),dt.useEffect(()=>{v&&(!q.current&&v.animationState&&v.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)==null||$.call(window,x)}),q.current=!1))}),v}function CI(n,t,i,r){const{layoutId:o,layout:u,drag:f,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:n1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||d&&ja(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function n1(n){if(n)return n.options.allowProjection!==!1?n.projection:n1(n.parent)}function DI({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){n&&gI(n);function u(d,p){let g;const v={...dt.useContext(lS),...d,layoutId:xI(d)},{isStatic:E}=v,w=AI(d),x=r(d,E);if(!E&&Mp){VI();const q=MI(v);g=q.MeasureLayout,w.visualElement=RI(o,x,v,t,q.ProjectionNode)}return ut.jsxs(Dh.Provider,{value:w,children:[g&&w.visualElement?ut.jsx(g,{visualElement:w.visualElement,...v}):null,i(o,d,bI(x,w.visualElement,p),x,E,w.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const f=dt.forwardRef(u);return f[SI]=o,f}function xI({layoutId:n}){const t=dt.useContext(oS).id;return t&&n!==void 0?t+"-"+n:n}function VI(n,t){dt.useContext(ZS).strict}function MI(n){const{drag:t,layout:i}=Wa;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Kl={};function II(n){for(const t in n)Kl[t]=n[t],jp(t)&&(Kl[t].isCSSVariable=!0)}function i1(n,{layout:t,layoutId:i}){return ro.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Kl[n]||n==="opacity")}const Je=n=>!!(n&&n.getVelocity),OI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NI=so.length;function PI(n,t,i){let r="",o=!0;for(let u=0;u<NI;u++){const f=so[u],d=n[f];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(f.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=$S(d,$p[f]);if(!p){o=!1;const v=OI[f]||f;r+=`${v}(${g}) `}i&&(t[f]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function ng(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let f=!1,d=!1;for(const p in t){const g=t[p];if(ro.has(p)){f=!0;continue}else if(jp(p)){o[p]=g;continue}else{const v=$S(g,$p[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(f||i?r.transform=PI(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s1(n,t,i){for(const r in t)!Je(t[r])&&!i1(r,i)&&(n[r]=t[r])}function LI({transformTemplate:n},t){return dt.useMemo(()=>{const i=ig();return ng(i,t,n),Object.assign({},i.vars,i.style)},[t])}function UI(n,t){const i=n.style||{},r={};return s1(r,i,n),Object.assign(r,LI(n,t)),r}function BI(n,t){const i={},r=UI(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const zI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sg(n){return typeof n!="string"||n.includes("-")?!1:!!(zI.indexOf(n)>-1||/[A-Z]/u.test(n))}const jI={offset:"stroke-dashoffset",array:"stroke-dasharray"},kI={offset:"strokeDashoffset",array:"strokeDasharray"};function qI(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?jI:kI;n[u.offset]=Et.transform(-r);const f=Et.transform(t),d=Et.transform(i);n[u.array]=`${f} ${d}`}function r1(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...d},p,g,v){if(ng(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:w}=n;E.transform&&(w.transform=E.transform,delete E.transform),(w.transform||E.transformOrigin)&&(w.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&qI(E,o,u,f,!1)}const a1=()=>({...ig(),attrs:{}}),o1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function HI(n,t,i,r){const o=dt.useMemo(()=>{const u=a1();return r1(u,t,o1(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};s1(u,n.style,n),o.style={...u,...o.style}}return o}function FI(n=!1){return(i,r,o,{latestValues:u},f)=>{const p=(sg(i)?HI:BI)(r,u,f,i),g=_I(r,typeof i=="string",n),v=i!==dt.Fragment?{...g,...p,ref:o}:{},{children:E}=r,w=dt.useMemo(()=>Je(E)?E.get():E,[E]);return dt.createElement(i,{...v,children:w})}}function yT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function rg(n,t,i,r){if(typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function qc(n){return Je(n)?n.get():n}function GI({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:KI(i,r,o,n),renderState:t()}}const l1=n=>(t,i)=>{const r=dt.useContext(Dh),o=dt.useContext(Ip),u=()=>GI(n,t,r,o);return i?u():vV(u)};function KI(n,t,i,r){const o={},u=r(n,{});for(const w in u)o[w]=qc(u[w]);let{initial:f,animate:d}=n;const p=Vh(n),g=WS(n);t&&g&&!p&&n.inherit!==!1&&(f===void 0&&(f=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||f===!1;const E=v?d:f;if(E&&typeof E!="boolean"&&!xh(E)){const w=Array.isArray(E)?E:[E];for(let x=0;x<w.length;x++){const q=rg(n,w[x]);if(q){const{transitionEnd:G,transition:F,...$}=q;for(const et in $){let Q=$[et];if(Array.isArray(Q)){const st=v?Q.length-1:0;Q=Q[st]}Q!==null&&(o[et]=Q)}for(const et in G)o[et]=G[et]}}}return o}function ag(n,t,i){var u;const{style:r}=n,o={};for(const f in r)(Je(r[f])||t.style&&Je(t.style[f])||i1(f,n)||((u=i==null?void 0:i.getValue(f))==null?void 0:u.liveStyle)!==void 0)&&(o[f]=r[f]);return o}const YI={useVisualState:l1({scrapeMotionValuesFromProps:ag,createRenderState:ig})};function u1(n,t,i){const r=ag(n,t,i);for(const o in n)if(Je(n[o])||Je(t[o])){const u=so.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const QI={useVisualState:l1({scrapeMotionValuesFromProps:u1,createRenderState:a1})};function XI(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const f={...sg(r)?QI:YI,preloadedFeatures:n,useRender:FI(o),createVisualElement:t,Component:r};return DI(f)}}function Yl(n,t,i){const r=n.getProps();return rg(r,t,i!==void 0?i:r.custom,n)}const Km=n=>Array.isArray(n);function $I(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Fl(i))}function ZI(n){return Km(n)?n[n.length-1]||0:n}function JI(n,t){const i=Yl(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const f in u){const d=ZI(u[f]);$I(n,f,d)}}function WI(n){return!!(Je(n)&&n.add)}function Ym(n,t){const i=n.getValue("willChange");if(WI(i))return i.add(t);if(!i&&Xi.WillChange){const r=new Xi.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function c1(n){return n.props[t1]}const t4=n=>n!==null;function e4(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(t4),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const n4={type:"spring",stiffness:500,damping:25,restSpeed:10},i4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),s4={type:"keyframes",duration:.8},r4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a4=(n,{keyframes:t})=>t.length>2?s4:ro.has(n)?n.startsWith("scale")?i4(t[1]):n4:r4;function o4({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const og=(n,t,i,r={},o,u)=>f=>{const d=Xp(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-mi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:w=>{t.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{f(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};o4(d)||Object.assign(v,a4(n,v)),v.duration&&(v.duration=mi(v.duration)),v.repeatDelay&&(v.repeatDelay=mi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(E=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const w=e4(v.keyframes,d);if(w!==void 0){ae.update(()=>{v.onUpdate(w),v.onComplete()});return}}return new KM(v)};function l4({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function h1(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:f,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),w=d[v];if(w===void 0||g&&l4(g,v))continue;const x={delay:i,...Xp(u||{},v)},q=E.get();if(q!==void 0&&!E.isAnimating&&!Array.isArray(w)&&w===q&&!x.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const $=c1(n);if($){const et=window.MotionHandoffAnimation($,v,ae);et!==null&&(x.startTime=et,G=!0)}}Ym(n,v),E.start(og(v,E,w,n.shouldReduceMotion&&qS.has(v)?{type:!1}:x,n,G));const F=E.animation;F&&p.push(F)}return f&&Promise.all(p).then(()=>{ae.update(()=>{f&&JI(n,f)})}),p}function Qm(n,t,i={}){var p;const r=Yl(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(h1(n,r,i)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:w}=o;return u4(n,t,v+g,E,w,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,v]=d==="beforeChildren"?[u,f]:[f,u];return g().then(()=>v())}else return Promise.all([u(),f(i.delay)])}function u4(n,t,i=0,r=0,o=1,u){const f=[],d=(n.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(c4).forEach((g,v)=>{g.notify("AnimationStart",t),f.push(Qm(g,t,{...u,delay:i+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(f)}function c4(n,t){return n.sortNodePosition(t)}function h4(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Qm(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Qm(n,t,i);else{const o=typeof t=="function"?Yl(n,t,i.custom):t;r=Promise.all(h1(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function f1(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const f4=tg.length;function d1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?d1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<f4;i++){const r=tg[i],o=n.props[r];(Gl(o)||o===!1)&&(t[r]=o)}return t}const d4=[...Wp].reverse(),m4=Wp.length;function p4(n){return t=>Promise.all(t.map(({animation:i,options:r})=>h4(n,i,r)))}function g4(n){let t=p4(n),i=vT(),r=!0;const o=p=>(g,v)=>{var w;const E=Yl(n,v,p==="exit"?(w=n.presenceContext)==null?void 0:w.custom:void 0);if(E){const{transition:x,transitionEnd:q,...G}=E;g={...g,...G,...q}}return g};function u(p){t=p(n)}function f(p){const{props:g}=n,v=d1(n.parent)||{},E=[],w=new Set;let x={},q=1/0;for(let F=0;F<m4;F++){const $=d4[F],et=i[$],Q=g[$]!==void 0?g[$]:v[$],st=Gl(Q),tt=$===p?et.isActive:null;tt===!1&&(q=F);let lt=Q===v[$]&&Q!==g[$]&&st;if(lt&&r&&n.manuallyAnimateOnMount&&(lt=!1),et.protectedKeys={...x},!et.isActive&&tt===null||!Q&&!et.prevProp||xh(Q)||typeof Q=="boolean")continue;const V=y4(et.prevProp,Q);let b=V||$===p&&et.isActive&&!lt&&st||F>q&&st,R=!1;const I=Array.isArray(Q)?Q:[Q];let N=I.reduce(o($),{});tt===!1&&(N={});const{prevResolvedValues:L={}}=et,D={...L,...N},ye=nt=>{b=!0,w.has(nt)&&(R=!0,w.delete(nt)),et.needsAnimating[nt]=!0;const ht=n.getValue(nt);ht&&(ht.liveStyle=!1)};for(const nt in D){const ht=N[nt],It=L[nt];if(x.hasOwnProperty(nt))continue;let M=!1;Km(ht)&&Km(It)?M=!f1(ht,It):M=ht!==It,M?ht!=null?ye(nt):w.add(nt):ht!==void 0&&w.has(nt)?ye(nt):et.protectedKeys[nt]=!0}et.prevProp=Q,et.prevResolvedValues=N,et.isActive&&(x={...x,...N}),r&&n.blockInitialAnimation&&(b=!1),b&&(!(lt&&V)||R)&&E.push(...I.map(nt=>({animation:nt,options:{type:$}})))}if(w.size){const F={};if(typeof g.initial!="boolean"){const $=Yl(n,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(F.transition=$.transition)}w.forEach($=>{const et=n.getBaseTarget($),Q=n.getValue($);Q&&(Q.liveStyle=!0),F[$]=et??null}),E.push({animation:F})}let G=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(G=!1),r=!1,G?t(E):Promise.resolve()}function d(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(w=>{var x;return(x=w.animationState)==null?void 0:x.setActive(p,g)}),i[p].isActive=g;const v=f(p);for(const w in i)i[w].protectedKeys={};return v}return{animateChanges:f,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=vT(),r=!0}}}function y4(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!f1(t,n):!1}function Cr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vT(){return{animate:Cr(!0),whileInView:Cr(),whileHover:Cr(),whileTap:Cr(),whileDrag:Cr(),whileFocus:Cr(),exit:Cr()}}class Hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class v4 extends Hs{constructor(t){super(t),t.animationState||(t.animationState=g4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let _4=0;class T4 extends Hs{constructor(){super(...arguments),this.id=_4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const E4={animation:{Feature:v4},exit:{Feature:T4}};function Ql(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function iu(n){return{point:{x:n.pageX,y:n.pageY}}}const A4=n=>t=>Jp(t)&&n(t,iu(t));function Ml(n,t,i,r){return Ql(n,t,A4(i),r)}function m1({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function S4({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function b4(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const p1=1e-4,w4=1-p1,R4=1+p1,g1=.01,C4=0-g1,D4=0+g1;function rn(n){return n.max-n.min}function x4(n,t,i){return Math.abs(n-t)<=i}function _T(n,t,i,r=.5){n.origin=r,n.originPoint=se(t.min,t.max,n.origin),n.scale=rn(i)/rn(t),n.translate=se(i.min,i.max,n.origin)-n.originPoint,(n.scale>=w4&&n.scale<=R4||isNaN(n.scale))&&(n.scale=1),(n.translate>=C4&&n.translate<=D4||isNaN(n.translate))&&(n.translate=0)}function Il(n,t,i,r){_T(n.x,t.x,i.x,r?r.originX:void 0),_T(n.y,t.y,i.y,r?r.originY:void 0)}function TT(n,t,i){n.min=i.min+t.min,n.max=n.min+rn(t)}function V4(n,t,i){TT(n.x,t.x,i.x),TT(n.y,t.y,i.y)}function ET(n,t,i){n.min=t.min-i.min,n.max=n.min+rn(t)}function Ol(n,t,i){ET(n.x,t.x,i.x),ET(n.y,t.y,i.y)}const AT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:AT(),y:AT()}),ST=()=>({min:0,max:0}),me=()=>({x:ST(),y:ST()});function Un(n){return[n("x"),n("y")]}function nm(n){return n===void 0||n===1}function Xm({scale:n,scaleX:t,scaleY:i}){return!nm(n)||!nm(t)||!nm(i)}function xr(n){return Xm(n)||y1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function y1(n){return bT(n.x)||bT(n.y)}function bT(n){return n&&n!=="0%"}function lh(n,t,i){const r=n-i,o=t*r;return i+o}function wT(n,t,i,r,o){return o!==void 0&&(n=lh(n,o,r)),lh(n,i,r)+t}function $m(n,t=0,i=1,r,o){n.min=wT(n.min,t,i,r,o),n.max=wT(n.max,t,i,r,o)}function v1(n,{x:t,y:i}){$m(n.x,t.translate,t.scale,t.originPoint),$m(n.y,i.translate,i.scale,i.originPoint)}const RT=.999999999999,CT=1.0000000000001;function M4(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,f;for(let d=0;d<o;d++){u=i[d],f=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ha(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,v1(n,f)),r&&xr(u.latestValues)&&Ha(n,u.latestValues))}t.x<CT&&t.x>RT&&(t.x=1),t.y<CT&&t.y>RT&&(t.y=1)}function qa(n,t){n.min=n.min+t,n.max=n.max+t}function DT(n,t,i,r,o=.5){const u=se(n.min,n.max,o);$m(n,t,i,u,r)}function Ha(n,t){DT(n.x,t.x,t.scaleX,t.scale,t.originX),DT(n.y,t.y,t.scaleY,t.scale,t.originY)}function _1(n,t){return m1(b4(n.getBoundingClientRect(),t))}function I4(n,t,i){const r=_1(n,i),{scroll:o}=t;return o&&(qa(r.x,o.offset.x),qa(r.y,o.offset.y)),r}const T1=({current:n})=>n?n.ownerDocument.defaultView:null,xT=(n,t)=>Math.abs(n-t);function O4(n,t){const i=xT(n.x,t.x),r=xT(n.y,t.y);return Math.sqrt(i**2+r**2)}class E1{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=sm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=O4(E.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:q}=E,{timestamp:G}=qe;this.history.push({...q,timestamp:G});const{onStart:F,onMove:$}=this.handlers;w||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,E)},this.handlePointerMove=(E,w)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=im(w,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(E,w)=>{this.end();const{onEnd:x,onSessionEnd:q,resumeAnimation:G}=this.handlers;if(this.dragSnapToOrigin&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=sm(E.type==="pointercancel"?this.lastMoveEventInfo:im(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(E,F),q&&q(E,F)},!Jp(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const f=iu(t),d=im(f,this.transformPagePoint),{point:p}=d,{timestamp:g}=qe;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,sm(d,this.history)),this.removeListeners=tu(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function im(n,t){return t?{point:t(n.point)}:n}function VT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function sm({point:n},t){return{point:n,delta:VT(n,A1(t)),offset:VT(n,N4(t)),velocity:P4(t,.1)}}function N4(n){return n[0]}function A1(n){return n[n.length-1]}function P4(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=A1(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>mi(t)));)i--;if(!r)return{x:0,y:0};const u=pi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function L4(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?se(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?se(i,n,r.max):Math.min(n,i)),n}function MT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function U4(n,{top:t,left:i,bottom:r,right:o}){return{x:MT(n.x,i,o),y:MT(n.y,t,r)}}function IT(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function B4(n,t){return{x:IT(n.x,t.x),y:IT(n.y,t.y)}}function z4(n,t){let i=.5;const r=rn(n),o=rn(t);return o>r?i=kl(t.min,t.max-r,n.min):r>o&&(i=kl(n.min,n.max-o,t.min)),Qi(0,1,i)}function j4(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Zm=.35;function k4(n=Zm){return n===!1?n=0:n===!0&&(n=Zm),{x:OT(n,"left","right"),y:OT(n,"top","bottom")}}function OT(n,t,i){return{min:NT(n,t),max:NT(n,i)}}function NT(n,t){return typeof n=="number"?n:n[t]||0}const q4=new WeakMap;class H4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(iu(v).point)},u=(v,E)=>{const{drag:w,dragPropagation:x,onDragStart:q}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aI(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(F=>{let $=this.getAxisMotionValue(F).get()||0;if(gi.test($)){const{projection:et}=this.visualElement;if(et&&et.layout){const Q=et.layout.layoutBox[F];Q&&($=rn(Q)*(parseFloat($)/100))}}this.originPoint[F]=$}),q&&ae.postRender(()=>q(v,E)),Ym(this.visualElement,"transform");const{animationState:G}=this.visualElement;G&&G.setActive("whileDrag",!0)},f=(v,E)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:q,onDrag:G}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:F}=E;if(x&&this.currentDirection===null){this.currentDirection=F4(F),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),G&&G(v,E)},d=(v,E)=>this.stop(v,E),p=()=>Un(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new E1(t,{onSessionStart:o,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:T1(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&ae.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Pc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(f=L4(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&ja(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=U4(r.layoutBox,t):this.constraints=!1,this.elastic=k4(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Un(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=j4(r.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ja(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=I4(r,o.root,this.visualElement.getTransformPagePoint());let f=B4(o.layout.layoutBox,u);if(i){const d=i(S4(f));this.hasMutatedConstraints=!!d,d&&(f=m1(d))}return f}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Un(v=>{if(!Pc(v,i,this.currentDirection))return;let E=p&&p[v]||{};f&&(E={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,q={type:"inertia",velocity:r?t[v]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,q)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Ym(this.visualElement,t),r.start(og(t,r,0,i,this.visualElement,!1))}stopAnimation(){Un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Un(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Un(i=>{const{drag:r}=this.getProps();if(!Pc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:f,max:d}=o.layout.layoutBox[i];u.set(t[i]-se(f,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ja(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Un(f=>{const d=this.getAxisMotionValue(f);if(d&&this.constraints!==!1){const p=d.get();o[f]=z4({min:p,max:p},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(f=>{if(!Pc(f,t,null))return;const d=this.getAxisMotionValue(f),{min:p,max:g}=this.constraints[f];d.set(se(p,g,o[f]))})}addListeners(){if(!this.visualElement.current)return;q4.set(this.visualElement,this);const t=this.visualElement.current,i=Ml(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();ja(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const f=Ql(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Un(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{f(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=Zm,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:d}}}function Pc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function F4(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class G4 extends Hs{constructor(t){super(t),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new H4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const PT=n=>(t,i)=>{n&&ae.postRender(()=>n(t,i))};class K4 extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(t){this.session=new E1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:PT(t),onStart:PT(i),onMove:r,onEnd:(u,f)=>{delete this.session,o&&ae.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const yl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Et.test(n))n=parseFloat(n);else return n;const i=LT(n,t.target.x),r=LT(n,t.target.y);return`${i}% ${r}%`}},Y4={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=ks.parse(n);if(o.length>5)return r;const u=ks.createTransformer(n),f=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+f]/=d,o[1+f]/=p;const g=se(d,p,.5);return typeof o[2+f]=="number"&&(o[2+f]/=g),typeof o[3+f]=="number"&&(o[3+f]/=g),u(o)}};class Q4 extends dt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;II(X4),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:f}=r;return f&&(f.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||ae.postRender(()=>{const d=f.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function S1(n){const[t,i]=TV(),r=dt.useContext(oS);return ut.jsx(Q4,{...n,layoutGroup:r,switchLayoutGroup:dt.useContext(e1),isPresent:t,safeToRemove:i})}const X4={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:Y4};function $4(n,t,i){const r=Je(n)?n:Fl(n);return r.start(og("",r,t,i)),r.animation}function Z4(n){return n instanceof SVGElement&&n.tagName!=="svg"}const J4=(n,t)=>n.depth-t.depth;class W4{constructor(){this.children=[],this.isDirty=!1}add(t){Op(this.children,t),this.isDirty=!0}remove(t){Np(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(J4),this.isDirty=!1,this.children.forEach(t)}}function tO(n,t){const i=cn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(js(r),n(u-t))};return ae.setup(r,!0),()=>js(r)}const b1=["TopLeft","TopRight","BottomLeft","BottomRight"],eO=b1.length,UT=n=>typeof n=="string"?parseFloat(n):n,BT=n=>typeof n=="number"||Et.test(n);function nO(n,t,i,r,o,u){o?(n.opacity=se(0,i.opacity??1,iO(r)),n.opacityExit=se(t.opacity??1,0,sO(r))):u&&(n.opacity=se(t.opacity??1,i.opacity??1,r));for(let f=0;f<eO;f++){const d=`border${b1[f]}Radius`;let p=zT(t,d),g=zT(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||BT(p)===BT(g)?(n[d]=Math.max(se(UT(p),UT(g),r),0),(gi.test(g)||gi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=se(t.rotate||0,i.rotate||0,r))}function zT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const iO=w1(0,.5,vS),sO=w1(.5,.95,Bn);function w1(n,t,i){return r=>r<n?0:r>t?1:i(kl(n,t,r))}function jT(n,t){n.min=t.min,n.max=t.max}function Ln(n,t){jT(n.x,t.x),jT(n.y,t.y)}function kT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function qT(n,t,i,r,o){return n-=t,n=lh(n,1/i,r),o!==void 0&&(n=lh(n,1/o,r)),n}function rO(n,t=0,i=1,r=.5,o,u=n,f=n){if(gi.test(t)&&(t=parseFloat(t),t=se(f.min,f.max,t/100)-f.min),typeof t!="number")return;let d=se(u.min,u.max,r);n===u&&(d-=t),n.min=qT(n.min,t,i,d,o),n.max=qT(n.max,t,i,d,o)}function HT(n,t,[i,r,o],u,f){rO(n,t[i],t[r],t[o],t.scale,u,f)}const aO=["x","scaleX","originX"],oO=["y","scaleY","originY"];function FT(n,t,i,r){HT(n.x,t,aO,i?i.x:void 0,r?r.x:void 0),HT(n.y,t,oO,i?i.y:void 0,r?r.y:void 0)}function GT(n){return n.translate===0&&n.scale===1}function R1(n){return GT(n.x)&&GT(n.y)}function KT(n,t){return n.min===t.min&&n.max===t.max}function lO(n,t){return KT(n.x,t.x)&&KT(n.y,t.y)}function YT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function C1(n,t){return YT(n.x,t.x)&&YT(n.y,t.y)}function QT(n){return rn(n.x)/rn(n.y)}function XT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class uO{constructor(){this.members=[]}add(t){Op(this.members,t),t.scheduleRender()}remove(t){if(Np(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cO(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,f=(i==null?void 0:i.z)||0;if((o||u||f)&&(r=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:w,skewX:x,skewY:q}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),w&&(r+=`rotateY(${w}deg) `),x&&(r+=`skewX(${x}deg) `),q&&(r+=`skewY(${q}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const rm=["","X","Y","Z"],hO={visibility:"hidden"},$T=1e3;let fO=0;function am(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function D1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=c1(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&D1(r)}function x1({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(f={},d=t==null?void 0:t()){this.id=fO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pO),this.nodes.forEach(TO),this.nodes.forEach(EO),this.nodes.forEach(gO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new W4)}addEventListener(f,d){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Up),this.eventHandlers.get(f).add(d)}notifyListeners(f,...d){const p=this.eventHandlers.get(f);p&&p.notify(...d)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Z4(f),this.instance=f;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const E=()=>this.root.updateBlockedByResize=!1;n(f,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=tO(E,250),Hc.hasAnimatedSinceResize&&(Hc.hasAnimatedSinceResize=!1,this.nodes.forEach(JT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const q=this.options.transition||g.getDefaultTransition()||RO,{onLayoutAnimationStart:G,onLayoutAnimationComplete:F}=g.getProps(),$=!this.targetLayout||!C1(this.targetLayout,x),et=!E&&w;if(this.options.layoutRoot||this.resumeFrom||et||E&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,et);const Q={...Xp(q,"layout"),onPlay:G,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else E||JT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AO),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}this.isUpdating||this.nodes.forEach(vO),this.isUpdating=!1,this.nodes.forEach(_O),this.nodes.forEach(dO),this.nodes.forEach(mO),this.clearAllSnapshots();const d=cn.now();qe.delta=Qi(0,1e3/60,d-qe.timestamp),qe.timestamp=d,qe.isProcessing=!0,Zd.update.process(qe),Zd.preRender.process(qe),Zd.render.process(qe),qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yO),this.sharedNodes.forEach(SO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!R1(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;f&&this.instance&&(d||xr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return f&&(p=this.removeTransform(p)),CO(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:f}=this.options;if(!f)return me();const d=f.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(DO))){const{scroll:v}=this.root;v&&(qa(d.x,v.offset.x),qa(d.y,v.offset.y))}return d}removeElementScroll(f){var p;const d=me();if(Ln(d,f),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:w}=v;v!==this.root&&E&&w.layoutScroll&&(E.wasRoot&&Ln(d,f),qa(d.x,E.offset.x),qa(d.y,E.offset.y))}return d}applyTransform(f,d=!1){const p=me();Ln(p,f);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ha(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),xr(v.latestValues)&&Ha(p,v.latestValues)}return xr(this.latestValues)&&Ha(p,this.latestValues),p}removeTransform(f){const d=me();Ln(d,f);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!xr(g.latestValues))continue;Xm(g.latestValues)&&g.updateSnapshot();const v=me(),E=g.measurePageBox();Ln(v,E),FT(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return xr(this.latestValues)&&FT(d,this.latestValues),d}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var w;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=qe.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Ol(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),v1(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Ol(this.relativeTargetOrigin,this.target,x.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xm(this.parent.latestValues)||y1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var q;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||(q=this.parent)!=null&&q.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===qe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ln(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,w=this.treeScale.y;M4(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=me());const{target:x}=f;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),Il(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==w||!XT(this.projectionDelta.x,this.prevProjectionDelta.x)||!XT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),f){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(f,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=me(),x=p?p.source:void 0,q=this.layout?this.layout.source:void 0,G=x!==q,F=this.getStack(),$=!F||F.members.length<=1,et=!!(G&&!$&&this.options.crossfade===!0&&!this.path.some(wO));this.animationProgress=0;let Q;this.mixTargetDelta=st=>{const tt=st/1e3;WT(E.x,f.x,tt),WT(E.y,f.y,tt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ol(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bO(this.relativeTarget,this.relativeTargetOrigin,w,tt),Q&&lO(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=me()),Ln(Q,this.relativeTarget)),G&&(this.animationValues=v,nO(v,g,this.latestValues,tt,et,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Hc.hasAnimatedSinceResize=!0,this.currentAnimation=$4(0,$T,{...f,onUpdate:d=>{this.mixTargetDelta(d),f.onUpdate&&f.onUpdate(d)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=f;if(!(!d||!p||!g)){if(this!==f&&this.layout&&g&&V1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||me();const E=rn(this.layout.layoutBox.x);p.x.min=f.target.x.min,p.x.max=p.x.min+E;const w=rn(this.layout.layoutBox.y);p.y.min=f.target.y.min,p.y.max=p.y.min+w}Ln(d,p),Ha(d,v),Il(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(f,d){this.sharedNodes.has(f)||this.sharedNodes.set(f,new uO),this.sharedNodes.get(f).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var d;const{layoutId:f}=this.options;return f?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:f}=this.options;return f?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),f&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let d=!1;const{latestValues:p}=f;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&am("z",f,g,this.animationValues);for(let v=0;v<rm.length;v++)am(`rotate${rm[v]}`,f,g,this.animationValues),am(`skew${rm[v]}`,f,g,this.animationValues);f.render();for(const v in g)f.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);f.scheduleRender()}getProjectionStyles(f){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hO;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=qc(f==null?void 0:f.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=qc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!xr(this.latestValues)&&(x.transform=p?p({},""):"none",this.hasProjected=!1),x}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=cO(this.projectionDeltaWithTransform,this.treeScale,v),p&&(d.transform=p(v,d.transform));const{x:E,y:w}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const x in Kl){if(v[x]===void 0)continue;const{correct:q,applyTo:G,isCSSVariable:F}=Kl[x],$=d.transform==="none"?v[x]:q(v[x],g);if(G){const et=G.length;for(let Q=0;Q<et;Q++)d[G[Q]]=$}else F?this.options.visualElement.renderState.vars[x]=$:d[x]=$}return this.options.layoutId&&(d.pointerEvents=g===this?qc(f==null?void 0:f.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var d;return(d=f.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function dO(n){n.updateLayout()}function mO(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,f=t.source!==n.layout.source;u==="size"?Un(E=>{const w=f?t.measuredBox[E]:t.layoutBox[E],x=rn(w);w.min=r[E].min,w.max=w.min+x}):V1(u,t.layoutBox,r)&&Un(E=>{const w=f?t.measuredBox[E]:t.layoutBox[E],x=rn(r[E]);w.max=w.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+x)});const d=ka();Il(d,r,t.layoutBox);const p=ka();f?Il(p,n.applyTransform(o,!0),t.measuredBox):Il(p,r,t.layoutBox);const g=!R1(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:w,layout:x}=E;if(w&&x){const q=me();Ol(q,t.layoutBox,w.layoutBox);const G=me();Ol(G,r,x.layoutBox),C1(q,G)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=G,n.relativeTargetOrigin=q,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function pO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function gO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function yO(n){n.clearSnapshot()}function ZT(n){n.clearMeasurements()}function vO(n){n.isLayoutDirty=!1}function _O(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function JT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function TO(n){n.resolveTargetDelta()}function EO(n){n.calcProjection()}function AO(n){n.resetSkewAndRotation()}function SO(n){n.removeLeadSnapshot()}function WT(n,t,i){n.translate=se(t.translate,0,i),n.scale=se(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function tE(n,t,i,r){n.min=se(t.min,i.min,r),n.max=se(t.max,i.max,r)}function bO(n,t,i,r){tE(n.x,t.x,i.x,r),tE(n.y,t.y,i.y,r)}function wO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const RO={duration:.45,ease:[.4,0,.1,1]},eE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),nE=eE("applewebkit/")&&!eE("chrome/")?Math.round:Bn;function iE(n){n.min=nE(n.min),n.max=nE(n.max)}function CO(n){iE(n.x),iE(n.y)}function V1(n,t,i){return n==="position"||n==="preserve-aspect"&&!x4(QT(t),QT(i),.2)}function DO(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const xO=x1({attachResizeListener:(n,t)=>Ql(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),om={current:void 0},M1=x1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!om.current){const n=new xO({});n.mount(window),n.setOptions({layoutScroll:!0}),om.current=n}return om.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VO={pan:{Feature:K4},drag:{Feature:G4,ProjectionNode:M1,MeasureLayout:S1}};function sE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ae.postRender(()=>u(t,iu(t)))}class MO extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=oI(t,(i,r)=>(sE(this.node,r,"Start"),o=>sE(this.node,o,"End"))))}unmount(){}}class IO extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tu(Ql(this.node.current,"focus",()=>this.onFocus()),Ql(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ae.postRender(()=>u(t,iu(t)))}class OO extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=hI(t,(i,r)=>(rE(this.node,r,"Start"),(o,{success:u})=>rE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jm=new WeakMap,lm=new WeakMap,NO=n=>{const t=Jm.get(n.target);t&&t(n)},PO=n=>{n.forEach(NO)};function LO({root:n,...t}){const i=n||document;lm.has(i)||lm.set(i,{});const r=lm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(PO,{root:n,...t})),r[o]}function UO(n,t,i){const r=LO(t);return Jm.set(n,i),r.observe(n),()=>{Jm.delete(n),r.unobserve(n)}}const BO={some:0,all:1};class zO extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,f={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:BO[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),w=g?v:E;w&&w(p)};return UO(this.node.current,f,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(jO(t,i))&&this.startObserver()}unmount(){}}function jO({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const kO={inView:{Feature:zO},tap:{Feature:OO},focus:{Feature:IO},hover:{Feature:MO}},qO={layout:{ProjectionNode:M1,MeasureLayout:S1}},Wm={current:null},I1={current:!1};function HO(){if(I1.current=!0,!!Mp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wm.current=n.matches;n.addListener(t),t()}else Wm.current=!1}const FO=new WeakMap;function GO(n,t,i){for(const r in t){const o=t[r],u=i[r];if(Je(o))n.addValue(r,o);else if(Je(u))n.addValue(r,Fl(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const f=n.getValue(r);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=n.getStaticValue(r);n.addValue(r,Fl(f!==void 0?f:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const aE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KO{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=cn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Vh(i),this.isVariantNode=WS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const w in E){const x=E[w];p[w]!==void 0&&Je(x)&&x.set(p[w],!1)}}mount(t){this.current=t,FO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),I1.current||HO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ro.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wa){const i=Wa[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<aE.length;r++){const o=aE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=GO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Fl(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(uS(r)||cS(r))?r=parseFloat(r):!pI(r)&&ks.test(i)&&(r=KS(t,i)),this.setBaseTarget(t,Je(r)?r.get():r)),Je(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const f=rg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);f&&(r=f[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Je(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Up),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class O1 extends KO{constructor(){super(...arguments),this.KeyframeResolver=sI}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Je(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function N1(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const u in i)n.style.setProperty(u,i[u])}function YO(n){return window.getComputedStyle(n)}class QO extends O1{constructor(){super(...arguments),this.type="html",this.renderInstance=N1}readValueFromInstance(t,i){if(ro.has(i))return SM(t,i);{const r=YO(t),o=(jp(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return _1(t,i)}build(t,i,r){ng(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return ag(t,i,r)}}const P1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XO(n,t,i,r){N1(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(P1.has(o)?o:eg(o),t.attrs[o])}class $O extends O1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=me}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ro.has(i)){const r=GS(i);return r&&r.default||0}return i=P1.has(i)?i:eg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return u1(t,i,r)}build(t,i,r){r1(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){XO(t,i,r,o)}mount(t){this.isSVGTag=o1(t.tagName),super.mount(t)}}const ZO=(n,t)=>sg(n)?new $O(t):new QO(t,{allowProjection:n!==dt.Fragment}),JO=XI({...E4,...kO,...VO,...qO},ZO),lg=TI(JO),WO=({vinyl:n,artistName:t,genreName:i})=>{const r=n["release-date"]?n["release-date"].split("-"):[];return ut.jsxs(lg.div,{layout:!0,className:`bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex ${n.expanded?"flex-row":"flex-col"} ${n.expanded?"h-full":""}`,style:{fontFamily:"Roboto Condensed, sans-serif"},children:[ut.jsx("div",{className:`aspect-square ${n.expanded?"w-1/2":"w-full"} overflow-hidden`,children:ut.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),ut.jsx("div",{className:`p-4 ${n.expanded?"w-1/2":"w-full"} flex flex-col text-gray-800`,children:n.expanded?ut.jsxs(ut.Fragment,{children:[ut.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),ut.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),ut.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripcin no disponible."}),ut.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[ut.jsxs("p",{children:[ut.jsx("strong",{children:"Gnero:"})," ",i||"Gnero no disponible"]}),ut.jsxs("p",{children:[ut.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",r.length===3?`${r[0]}/${r[1]}/${r[2]}`:"Fecha no disponible"]})]})]}):ut.jsxs(ut.Fragment,{children:[ut.jsx("h3",{className:"text-xl font-semibold",children:n.name}),ut.jsx("p",{className:"text-sm mt-2",children:t||"Cargando artista..."}),ut.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[i||"Cargando gnero...","  ",r[2]||"Fecha no disponible"]})]})})]})},tN=({searchTerm:n="",selectedGenreId:t="",sortOption:i="name",sortOrder:r="asc"})=>{const[o,u]=dt.useState([]),[f,d]=dt.useState({}),[p,g]=dt.useState({}),[v,E]=dt.useState(!0),[w,x]=dt.useState(null),[q,G]=dt.useState(4);if(dt.useEffect(()=>{const et=()=>{const Q=window.innerWidth;Q<640?G(1):Q<768?G(2):Q<1024?G(3):G(4)};return et(),window.addEventListener("resize",et),()=>window.removeEventListener("resize",et)},[]),dt.useEffect(()=>{const et=async(st,tt)=>{try{if(!f[st]){const lt=await eh(Wc(Ir,"artist",st));lt.exists()&&d(V=>({...V,[st]:lt.data().name}))}if(!p[tt]){const lt=await eh(Wc(Ir,"genere",tt));lt.exists()&&g(V=>({...V,[tt]:lt.data().name}))}}catch(lt){console.error("Error al obtener datos de artista o gnero:",lt)}};(async()=>{try{const st=Im(Ir,"vinyl"),lt=(await Om(st)).docs.map(V=>({id:V.id,...V.data()}));lt.forEach(V=>{const{"artist-id":b,"genre-id":R}=V;b&&R&&et(b,R)}),u(lt),E(!1)}catch(st){console.error("Error al obtener vinilos:",st)}})()},[f,p]),v)return ut.jsx("div",{children:"Loading..."});const $=o.filter(et=>{var b,R;const Q=((b=f[et["artist-id"]])==null?void 0:b.toLowerCase())||"",st=((R=et.name)==null?void 0:R.toLowerCase())||"",tt=et["genre-id"];return(st.includes(n.toLowerCase())||Q.includes(n.toLowerCase()))&&(!t||tt===t)}).sort((et,Q)=>{const st=i==="name"?et.name:i==="year"?et["release-date"]:f[et["artist-id"]],tt=i==="name"?Q.name:i==="year"?Q["release-date"]:f[Q["artist-id"]];return st<tt?r==="asc"?-1:1:st>tt?r==="asc"?1:-1:0});return ut.jsx(lg.div,{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${q}, 1fr)`},children:$.map((et,Q)=>ut.jsx(WO,{vinyl:et,artist:f[et["artist-id"]],genre:p[et["genre-id"]]},et.id))})};var L1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oE=Pr.createContext&&Pr.createContext(L1),eN=["attr","size","title"];function nN(n,t){if(n==null)return{};var i=iN(n,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function iN(n,t){if(n==null)return{};var i={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;i[r]=n[r]}return i}function uh(){return uh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},uh.apply(this,arguments)}function lE(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function ch(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(i),!0).forEach(function(r){sN(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):lE(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function sN(n,t,i){return t=rN(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function rN(n){var t=aN(n,"string");return typeof t=="symbol"?t:t+""}function aN(n,t){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function U1(n){return n&&n.map((t,i)=>Pr.createElement(t.tag,ch({key:i},t.attr),U1(t.child)))}function Mh(n){return t=>Pr.createElement(oN,uh({attr:ch({},n.attr)},t),U1(n.child))}function oN(n){var t=i=>{var{attr:r,size:o,title:u}=n,f=nN(n,eN),d=o||i.size||"1em",p;return i.className&&(p=i.className),n.className&&(p=(p?p+" ":"")+n.className),Pr.createElement("svg",uh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,f,{className:p,style:ch(ch({color:n.color||i.color},i.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&Pr.createElement("title",null,u),n.children)};return oE!==void 0?Pr.createElement(oE.Consumer,null,i=>t(i)):t(L1)}function lN(n){return Mh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function uN(n){return Mh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function cN(n){return Mh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function hN(n){return Mh({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}const fN=({vinyl:n,artistName:t,genreName:i,onClose:r})=>{const o=n["release-date"]?n["release-date"].split("-"):[];return ut.jsxs(lg.div,{layout:!0,className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-row h-full",style:{fontFamily:"Roboto Condensed, sans-serif"},children:[ut.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white bg-gray-800 rounded-full p-2",children:ut.jsx(hN,{})}),ut.jsx("div",{className:"aspect-square w-1/2 overflow-hidden",children:ut.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),ut.jsxs("div",{className:"p-4 w-1/2 flex flex-col text-gray-800",children:[ut.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),ut.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),ut.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripcin no disponible."}),ut.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[ut.jsxs("p",{children:[ut.jsx("strong",{children:"Gnero:"})," ",i||"Gnero no disponible"]}),ut.jsxs("p",{children:[ut.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",o.length===3?`${o[0]}/${o[1]}/${o[2]}`:"Fecha no disponible"]})]})]})]})},dN=()=>{const[n,t]=dt.useState(""),[i,r]=dt.useState([]),[o,u]=dt.useState(""),[f,d]=dt.useState("name"),[p,g]=dt.useState("asc"),[v,E]=dt.useState(null),[w,x]=dt.useState({});dt.useEffect(()=>{(async()=>{try{const Q=(await Om(Im(Ir,"genere"))).docs.map(st=>({id:st.id,name:st.data().name}));r(Q)}catch(et){console.error("Error al obtener gneros:",et)}})()},[]);const q=$=>{f===$?g(p==="asc"?"desc":"asc"):(d($),g("asc"))},G=async()=>{try{const Q=(await Om(Im(Ir,"vinyl"))).docs.map(st=>({id:st.id,...st.data()})).filter(st=>{var I,N;const tt=((I=w[st["artist-id"]])==null?void 0:I.toLowerCase())||"",lt=((N=st.name)==null?void 0:N.toLowerCase())||"",V=st["genre-id"];return(lt.includes(n.toLowerCase())||tt.includes(n.toLowerCase()))&&(!o||V===o)});if(Q.length>0){const st=Q[Math.floor(Math.random()*Q.length)],[tt,lt]=await Promise.all([eh(Wc(Ir,"artist",st["artist-id"])),eh(Wc(Ir,"genere",st["genre-id"]))]),V=tt.exists()?tt.data().name:"Artista desconocido",b=lt.exists()?lt.data().name:"Gnero desconocido";E({...st,artistName:V,genreName:b})}else alert("No hay vinilos que coincidan con los filtros aplicados.")}catch($){console.error("Error al obtener vinilo aleatorio:",$)}},F=()=>E(null);return ut.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-serif px-8 py-12",children:[ut.jsx("div",{className:"text-center mb-16",children:ut.jsxs("div",{className:"flex items-center justify-center mb-4",children:[ut.jsx("h1",{className:"text-6xl font-bold text-white mr-4",style:{fontFamily:"Oswald, sans-serif"},children:"COLECCIN DE VINILOS"}),ut.jsx("img",{src:"./coleccion-vinilos-facundin/vinyl.png",alt:"Vinyl Record",className:"w-24 h-24"})]})}),ut.jsxs("div",{className:"max-w-2xl mx-auto mb-12",children:[ut.jsxs("div",{className:"relative mb-8",children:[ut.jsx(cN,{className:"absolute top-1/2 left-4 transform -translate-y-1/2 text-gray-500"}),ut.jsx("input",{type:"text",placeholder:"Buscar por nombre o artista...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-800 text-white text-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:$=>t($.target.value)})]}),ut.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[ut.jsx("div",{className:"relative",children:ut.jsxs("select",{value:o,onChange:$=>u($.target.value),className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg",children:[ut.jsx("option",{value:"",children:"Todos los gneros"}),i.map($=>ut.jsx("option",{value:$.id,children:$.name},$.id))]})}),ut.jsxs("div",{className:"flex items-center gap-6",children:[ut.jsxs("select",{value:f,onChange:$=>q($.target.value),className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg",children:[ut.jsx("option",{value:"name",children:"Nombre"}),ut.jsx("option",{value:"year",children:"Ao"}),ut.jsx("option",{value:"artist",children:"Artista"})]}),ut.jsx("button",{onClick:()=>g(p==="asc"?"desc":"asc"),className:"py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:p==="asc"?ut.jsx(lN,{}):ut.jsx(uN,{})})]})]}),ut.jsx("div",{className:"text-center mt-4",children:ut.jsxs("button",{className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg flex justify-between items-center",onClick:G,children:[ut.jsx("span",{children:"Escuchar Vinilo Aleatorio"}),ut.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1.2em",width:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:ut.jsx("path",{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"})})]})})]}),v&&ut.jsx("div",{className:"max-w-7xl mx-auto mb-12 relative",children:ut.jsx(fN,{vinyl:v,artistName:v.artistName,genreName:v.genreName,onClose:F})}),ut.jsx("div",{className:"max-w-7xl mx-auto",children:ut.jsx(tN,{searchTerm:n,selectedGenreId:o,sortOption:f,sortOrder:p})}),ut.jsx("p",{className:"text-xl font-light text-gray-400 text-center",children:"by Facundin"})]})};vw.createRoot(document.getElementById("root")).render(ut.jsx(dt.StrictMode,{children:ut.jsx(dN,{})}));
