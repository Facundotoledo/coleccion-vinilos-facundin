(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function c2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var im={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function h2(){if(n_)return Dl;n_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var i_;function f2(){return i_||(i_=1,im.exports=h2()),im.exports}var it=f2(),sm={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function d2(){if(s_)return Dt;s_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,H={};function z(x,$,at){this.props=x,this.context=$,this.refs=H,this.updater=at||R}z.prototype.isReactComponent={},z.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=z.prototype;function ot(x,$,at){this.props=x,this.context=$,this.refs=H,this.updater=at||R}var X=ot.prototype=new et;X.constructor=ot,U(X,z.prototype),X.isPureReactComponent=!0;var ft=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function I(x,$,at,st,vt,It){return at=It.ref,{$$typeof:n,type:x,key:$,ref:at!==void 0?at:null,props:It}}function w(x,$){return I(x.type,$,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function M(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(at){return $[at]})}var N=/\/+/g;function P(x,$){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):$.toString(36)}function V(){}function ne(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(V,V):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function pt(x,$,at,st,vt){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var wt=!1;if(x===null)wt=!0;else switch(It){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(x.$$typeof){case n:case t:wt=!0;break;case v:return wt=x._init,pt(wt(x._payload),$,at,st,vt)}}if(wt)return vt=vt(x),wt=st===""?"."+P(x,0):st,ft(vt)?(at="",wt!=null&&(at=wt.replace(N,"$&/")+"/"),pt(vt,$,at,"",function(Zn){return Zn})):vt!=null&&(C(vt)&&(vt=w(vt,at+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(N,"$&/")+"/")+wt)),$.push(vt)),1;wt=0;var Ie=st===""?".":st+":";if(ft(x))for(var Jt=0;Jt<x.length;Jt++)st=x[Jt],It=Ie+P(st,Jt),wt+=pt(st,$,at,It,vt);else if(Jt=S(x),typeof Jt=="function")for(x=Jt.call(x),Jt=0;!(st=x.next()).done;)st=st.value,It=Ie+P(st,Jt++),wt+=pt(st,$,at,It,vt);else if(It==="object"){if(typeof x.then=="function")return pt(ne(x),$,at,st,vt);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return wt}function F(x,$,at){if(x==null)return x;var st=[],vt=0;return pt(x,st,"","",function(It){return $.call(at,It,vt++)}),st}function Y(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(at){(x._status===0||x._status===-1)&&(x._status=1,x._result=at)},function(at){(x._status===0||x._status===-1)&&(x._status=2,x._result=at)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var rt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function At(){}return Dt.Children={map:F,forEach:function(x,$,at){F(x,function(){$.apply(this,arguments)},at)},count:function(x){var $=0;return F(x,function(){$++}),$},toArray:function(x){return F(x,function($){return $})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Dt.Component=z,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=ot,Dt.StrictMode=r,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return nt.H.useMemoCache(x)}},Dt.cache=function(x){return function(){return x.apply(null,arguments)}},Dt.cloneElement=function(x,$,at){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=U({},x.props),vt=x.key,It=void 0;if($!=null)for(wt in $.ref!==void 0&&(It=void 0),$.key!==void 0&&(vt=""+$.key),$)!ut.call($,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&$.ref===void 0||(st[wt]=$[wt]);var wt=arguments.length-2;if(wt===1)st.children=at;else if(1<wt){for(var Ie=Array(wt),Jt=0;Jt<wt;Jt++)Ie[Jt]=arguments[Jt+2];st.children=Ie}return I(x.type,vt,void 0,void 0,It,st)},Dt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Dt.createElement=function(x,$,at){var st,vt={},It=null;if($!=null)for(st in $.key!==void 0&&(It=""+$.key),$)ut.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=$[st]);var wt=arguments.length-2;if(wt===1)vt.children=at;else if(1<wt){for(var Ie=Array(wt),Jt=0;Jt<wt;Jt++)Ie[Jt]=arguments[Jt+2];vt.children=Ie}if(x&&x.defaultProps)for(st in wt=x.defaultProps,wt)vt[st]===void 0&&(vt[st]=wt[st]);return I(x,It,void 0,void 0,null,vt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(x){return{$$typeof:d,render:x}},Dt.isValidElement=C,Dt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Y}},Dt.memo=function(x,$){return{$$typeof:g,type:x,compare:$===void 0?null:$}},Dt.startTransition=function(x){var $=nt.T,at={};nt.T=at;try{var st=x(),vt=nt.S;vt!==null&&vt(at,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(At,rt)}catch(It){rt(It)}finally{nt.T=$}},Dt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Dt.use=function(x){return nt.H.use(x)},Dt.useActionState=function(x,$,at){return nt.H.useActionState(x,$,at)},Dt.useCallback=function(x,$){return nt.H.useCallback(x,$)},Dt.useContext=function(x){return nt.H.useContext(x)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(x,$){return nt.H.useDeferredValue(x,$)},Dt.useEffect=function(x,$,at){var st=nt.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(x,$)},Dt.useId=function(){return nt.H.useId()},Dt.useImperativeHandle=function(x,$,at){return nt.H.useImperativeHandle(x,$,at)},Dt.useInsertionEffect=function(x,$){return nt.H.useInsertionEffect(x,$)},Dt.useLayoutEffect=function(x,$){return nt.H.useLayoutEffect(x,$)},Dt.useMemo=function(x,$){return nt.H.useMemo(x,$)},Dt.useOptimistic=function(x,$){return nt.H.useOptimistic(x,$)},Dt.useReducer=function(x,$,at){return nt.H.useReducer(x,$,at)},Dt.useRef=function(x){return nt.H.useRef(x)},Dt.useState=function(x){return nt.H.useState(x)},Dt.useSyncExternalStore=function(x,$,at){return nt.H.useSyncExternalStore(x,$,at)},Dt.useTransition=function(){return nt.H.useTransition()},Dt.version="19.1.0",Dt}var r_;function Ep(){return r_||(r_=1,sm.exports=d2()),sm.exports}var dt=Ep();const zr=c2(dt);var rm={exports:{}},Vl={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function m2(){return a_||(a_=1,function(n){function t(F,Y){var rt=F.length;F.push(Y);t:for(;0<rt;){var At=rt-1>>>1,x=F[At];if(0<o(x,Y))F[At]=Y,F[rt]=x,rt=At;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],rt=F.pop();if(rt!==Y){F[0]=rt;t:for(var At=0,x=F.length,$=x>>>1;At<$;){var at=2*(At+1)-1,st=F[at],vt=at+1,It=F[vt];if(0>o(st,rt))vt<x&&0>o(It,st)?(F[At]=It,F[vt]=rt,At=vt):(F[At]=st,F[at]=rt,At=at);else if(vt<x&&0>o(It,rt))F[At]=It,F[vt]=rt,At=vt;else break t}}return Y}function o(F,Y){var rt=F.sortIndex-Y.sortIndex;return rt!==0?rt:F.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,E=null,S=3,R=!1,U=!1,H=!1,z=!1,et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ft(F){for(var Y=i(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=F)r(g),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=i(g)}}function nt(F){if(H=!1,ft(F),!U)if(i(p)!==null)U=!0,ut||(ut=!0,P());else{var Y=i(g);Y!==null&&pt(nt,Y.startTime-F)}}var ut=!1,I=-1,w=5,C=-1;function M(){return z?!0:!(n.unstable_now()-C<w)}function N(){if(z=!1,ut){var F=n.unstable_now();C=F;var Y=!0;try{t:{U=!1,H&&(H=!1,ot(I),I=-1),R=!0;var rt=S;try{e:{for(ft(F),E=i(p);E!==null&&!(E.expirationTime>F&&M());){var At=E.callback;if(typeof At=="function"){E.callback=null,S=E.priorityLevel;var x=At(E.expirationTime<=F);if(F=n.unstable_now(),typeof x=="function"){E.callback=x,ft(F),Y=!0;break e}E===i(p)&&r(p),ft(F)}else r(p);E=i(p)}if(E!==null)Y=!0;else{var $=i(g);$!==null&&pt(nt,$.startTime-F),Y=!1}}break t}finally{E=null,S=rt,R=!1}Y=void 0}}finally{Y?P():ut=!1}}}var P;if(typeof X=="function")P=function(){X(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ne=V.port2;V.port1.onmessage=N,P=function(){ne.postMessage(null)}}else P=function(){et(N,0)};function pt(F,Y){I=et(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(F){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var rt=S;S=Y;try{return F()}finally{S=rt}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var rt=S;S=F;try{return Y()}finally{S=rt}},n.unstable_scheduleCallback=function(F,Y,rt){var At=n.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?At+rt:At):rt=At,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=rt+x,F={id:v++,callback:Y,priorityLevel:F,startTime:rt,expirationTime:x,sortIndex:-1},rt>At?(F.sortIndex=rt,t(g,F),i(p)===null&&F===i(g)&&(H?(ot(I),I=-1):H=!0,pt(nt,rt-At))):(F.sortIndex=x,t(p,F),U||R||(U=!0,ut||(ut=!0,P()))),F},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(F){var Y=S;return function(){var rt=S;S=Y;try{return F.apply(this,arguments)}finally{S=rt}}}}(om)),om}var o_;function p2(){return o_||(o_=1,am.exports=m2()),am.exports}var lm={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function g2(){if(l_)return Xe;l_=1;var n=Ep();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Xe.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},Xe.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Xe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xe.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:R}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xe.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Xe.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xe.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Xe.requestFormReset=function(p){r.d.r(p)},Xe.unstable_batchedUpdates=function(p,g){return p(g)},Xe.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Xe.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var u_;function y2(){if(u_)return lm.exports;u_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),lm.exports=g2(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function v2(){if(c_)return Vl;c_=1;var n=p2(),t=Ep(),i=y2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),e;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,l=m;break}if(A===l){T=!0,l=f,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=f;break}if(A===l){T=!0,l=m,a=f;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case z:return"Profiler";case H:return"StrictMode";case nt:return"Suspense";case ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case X:return(e.displayName||"Context")+".Provider";case ot:return(e._context.displayName||"Context")+".Consumer";case ft:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return s=e.displayName||null,s!==null?s:ne(e.type)||"Memo";case w:s=e._payload,e=e._init;try{return ne(e(s))}catch{}}return null}var pt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},At=[],x=-1;function $(e){return{current:e}}function at(e){0>x||(e.current=At[x],At[x]=null,x--)}function st(e,s){x++,At[x]=e.current,e.current=s}var vt=$(null),It=$(null),wt=$(null),Ie=$(null);function Jt(e,s){switch(st(wt,s),st(It,e),st(vt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?x0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=x0(s),e=I0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(vt),st(vt,e)}function Zn(){at(vt),at(It),at(wt)}function is(e){e.memoizedState!==null&&st(Ie,e);var s=vt.current,a=I0(s,e.type);s!==a&&(st(It,e),st(vt,a))}function Ai(e){It.current===e&&(at(vt),at(It)),Ie.current===e&&(at(Ie),Sl._currentValue=rt)}var Zs=Object.prototype.hasOwnProperty,Ws=n.unstable_scheduleCallback,Js=n.unstable_cancelCallback,To=n.unstable_shouldYield,_u=n.unstable_requestPaint,wn=n.unstable_now,nf=n.unstable_getCurrentPriorityLevel,Eo=n.unstable_ImmediatePriority,Jr=n.unstable_UserBlockingPriority,tr=n.unstable_NormalPriority,sf=n.unstable_LowPriority,ta=n.unstable_IdlePriority,Ao=n.log,Tu=n.unstable_setDisableYieldValue,ue=null,Gt=null;function mn(e){if(typeof Ao=="function"&&Tu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var Ye=Math.clz32?Math.clz32:er,Eu=Math.log,rf=Math.LN2;function er(e){return e>>>=0,e===0?32:31-(Eu(e)/rf|0)|0}var nr=256,ir=4194304;function qn(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ea(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=qn(l):(T&=A,T!==0?f=qn(T):a||(a=A&~e,a!==0&&(f=qn(a))))):(A=l&~m,A!==0?f=qn(A):T!==0?f=qn(T):a||(a=l&~e,a!==0&&(f=qn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function sr(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function So(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var e=nr;return nr<<=1,(nr&4194048)===0&&(nr=256),e}function wo(){var e=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),e}function Si(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function bi(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ro(e,s,a,l,f,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,D=e.expirationTimes,j=e.hiddenUpdates;for(a=T&~a;0<a;){var Q=31-Ye(a),J=1<<Q;A[Q]=0,D[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&Wn(e,l,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function Wn(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Ye(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Co(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Ye(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rs(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:$0(e.type))}function Au(e,s){var a=Y.p;try{return Y.p=e,s()}finally{Y.p=a}}var ie=Math.random().toString(36).slice(2),be="__reactFiber$"+ie,ve="__reactProps$"+ie,Rn="__reactContainer$"+ie,Do="__reactEvents$"+ie,af="__reactListeners$"+ie,as="__reactHandles$"+ie,Su="__reactResources$"+ie,rr="__reactMarker$"+ie;function os(e){delete e[be],delete e[ve],delete e[Do],delete e[af],delete e[as]}function wi(e){var s=e[be];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Rn]||a[be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=P0(e);e!==null;){if(a=e[be])return a;e=P0(e)}return s}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[be]||e[Rn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function ti(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function en(e){var s=e[Su];return s||(s=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function de(e){e[rr]=!0}var Vo=new Set,ia={};function Fn(e,s){Ri(e,s),Ri(e+"Capture",s)}function Ri(e,s){for(ia[e]=s,e=0;e<s.length;e++)Vo.add(s[e])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},ar={};function Ru(e){return Zs.call(ar,e)?!0:Zs.call(wu,e)?!1:bu.test(e)?ar[e]=!0:(wu[e]=!0,!1)}function ls(e,s,a){if(Ru(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function ei(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Be(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var or,Cu;function Ci(e){if(or===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);or=s&&s[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+or+e+Cu}var sa=!1;function ra(e,s){if(!e||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){q=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),j=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var Q=`
`+D[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=f);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ci(a):""}function xo(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ra(e.type,!1);case 11:return ra(e.type.render,!1);case 1:return ra(e.type,!0);case 31:return Ci("Activity");default:return""}}function aa(e){try{var s="";do s+=xo(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Io(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function of(e){var s=Io(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function oa(e){e._valueTracker||(e._valueTracker=of(e))}function Mo(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Io(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lf=/[\n"\\]/g;function _e(e){return e.replace(lf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function pn(e,s,a,l,f,m,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+nn(s)):e.value!==""+nn(s)&&(e.value=""+nn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?us(e,T,nn(s)):a!=null?us(e,T,nn(a)):l!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+nn(A):e.removeAttribute("name")}function ur(e,s,a,l,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function us(e,s,a){s==="number"&&lr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Di(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Qt(e,s,a){if(s!=null&&(s=""+nn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+nn(a):""}function cr(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(pt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Cn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||hr.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Oo(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Du(e,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Du(e,m,s[m])}function No(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return cf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Vi=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,Ii=null;function Po(e){var s=Jn(e);if(s&&(e=s.stateNode)){var a=e[ve]||null;t:switch(e=s.stateNode,s.type){case"input":if(pn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[ve]||null;if(!f)throw Error(r(90));pn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Mo(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Di(e,!!a.multiple,s,!1)}}}var ni=!1;function Vu(e,s,a){if(ni)return e(s,a);ni=!0;try{var l=e(s);return l}finally{if(ni=!1,(xi!==null||Ii!==null)&&(Ac(),xi&&(s=xi,e=Ii,Ii=xi=null,Po(s),e)))for(s=0;s<e.length;s++)Po(e[s])}}function fr(e,s){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Hn)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Vn=!1}var ii=null,cs=null,Mi=null;function Lo(){if(Mi)return Mi;var e,s=cs,a=s.length,l,f="value"in ii?ii.value:ii.textContent,m=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return Mi=f.slice(e,1<l?1-l:void 0)}function si(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Uo(){return!1}function Me(e){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ri:Uo,this.isPropagationStopped=Uo,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),s}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Me(Ft),mr=v({},Ft,{view:0,detail:0}),xu=Me(mr),ca,ha,ai,pr=v({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(ca=e.screenX-ai.screenX,ha=e.screenY-ai.screenY):ha=ca=0,ai=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),xn=Me(pr),Iu=v({},pr,{dataTransfer:0}),hf=Me(Iu),gr=v({},mr,{relatedTarget:0}),fa=Me(gr),Bo=v({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Me(Bo),Mu=v({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ma=Me(Mu),ff=v({},Ft,{data:0}),ko=Me(ff),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Nu[e])?!!s[e]:!1}function vr(){return jo}var Pu=v({},mr,{key:function(e){if(e.key){var s=yr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pa=Me(Pu),Lu=v({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=Me(Lu),Oi=v({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Uu=Me(Oi),Bu=v({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Me(Bu),ju=v({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Me(ju),sn=v({},Ft,{newState:0,oldState:0}),zu=Me(sn),qu=[9,13,27,32],oi=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!oi||c&&8<c&&11>=c),b=" ",B=!1;function K(e,s){switch(e){case"keyup":return qu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function we(e,s){switch(e){case"compositionend":return lt(s);case"keypress":return s.which!==32?null:(B=!0,b);case"textInput":return e=s.data,e===b&&B?null:e;default:return null}}function Ut(e,s){if(Lt)return e==="compositionend"||!oi&&K(e,s)?(e=Lo(),Mi=cs=ii=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Oe[e.type]:s==="textarea"}function Ni(e,s,a,l){xi?Ii?Ii.push(l):Ii=[l]:xi=l,s=Dc(s,"onChange"),0<s.length&&(a=new ua("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var ke=null,li=null;function qo(e){w0(e,0)}function Fu(e){var s=ti(e);if(Mo(s))return e}function Kg(e,s){if(e==="change")return s}var Yg=!1;if(Hn){var df;if(Hn){var mf="oninput"in document;if(!mf){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),mf=typeof Qg.oninput=="function"}df=mf}else df=!1;Yg=df&&(!document.documentMode||9<document.documentMode)}function Xg(){ke&&(ke.detachEvent("onpropertychange",$g),li=ke=null)}function $g(e){if(e.propertyName==="value"&&Fu(li)){var s=[];Ni(s,li,e,Dn(e)),Vu(qo,s)}}function jb(e,s,a){e==="focusin"?(Xg(),ke=s,li=a,ke.attachEvent("onpropertychange",$g)):e==="focusout"&&Xg()}function zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(li)}function qb(e,s){if(e==="click")return Fu(s)}function Fb(e,s){if(e==="input"||e==="change")return Fu(s)}function Hb(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var gn=typeof Object.is=="function"?Object.is:Hb;function Fo(e,s){if(gn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Zs.call(s,f)||!gn(e[f],s[f]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wg(e,s){var a=Zg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zg(a)}}function Jg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Jg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function ty(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=lr(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=lr(e.document)}return s}function pf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Gb=Hn&&"documentMode"in document&&11>=document.documentMode,ya=null,gf=null,Ho=null,yf=!1;function ey(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||ya==null||ya!==lr(l)||(l=ya,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&Fo(Ho,l)||(Ho=l,l=Dc(gf,"onSelect"),0<l.length&&(s=new ua("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=ya)))}function _r(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var va={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},vf={},ny={};Hn&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Tr(e){if(vf[e])return vf[e];if(!va[e])return e;var s=va[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in ny)return vf[e]=s[a];return e}var iy=Tr("animationend"),sy=Tr("animationiteration"),ry=Tr("animationstart"),Kb=Tr("transitionrun"),Yb=Tr("transitionstart"),Qb=Tr("transitioncancel"),ay=Tr("transitionend"),oy=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function Gn(e,s){oy.set(e,s),Fn(s,[e])}var ly=new WeakMap;function In(e,s){if(typeof e=="object"&&e!==null){var a=ly.get(e);return a!==void 0?a:(s={value:e,source:s,stack:aa(s)},ly.set(e,s),s)}return{value:e,source:s,stack:aa(s)}}var Mn=[],_a=0,Tf=0;function Hu(){for(var e=_a,s=Tf=_a=0;s<e;){var a=Mn[s];Mn[s++]=null;var l=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var m=Mn[s];if(Mn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&uy(a,f,m)}}function Gu(e,s,a,l){Mn[_a++]=e,Mn[_a++]=s,Mn[_a++]=a,Mn[_a++]=l,Tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ef(e,s,a,l){return Gu(e,s,a,l),Ku(e)}function Ta(e,s){return Gu(e,null,null,s),Ku(e)}function uy(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&s!==null&&(f=31-Ye(a),e=m.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Ku(e){if(50<pl)throw pl=0,Cd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ea={};function Xb(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,s,a,l){return new Xb(e,s,a,l)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,s){var a=e.alternate;return a===null?(a=yn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cy(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Yu(e,s,a,l,f,m){var T=0;if(l=e,typeof e=="function")Af(e)&&(T=1);else if(typeof e=="string")T=Zw(e,a,vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=yn(31,a,s,f),e.elementType=C,e.lanes=m,e;case U:return Er(a.children,f,m,s);case H:T=8,f|=24;break;case z:return e=yn(12,a,s,f|2),e.elementType=z,e.lanes=m,e;case nt:return e=yn(13,a,s,f),e.elementType=nt,e.lanes=m,e;case ut:return e=yn(19,a,s,f),e.elementType=ut,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case X:T=10;break t;case ot:T=9;break t;case ft:T=11;break t;case I:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=yn(T,a,s,f),s.elementType=e,s.type=l,s.lanes=m,s}function Er(e,s,a,l){return e=yn(7,e,l,s),e.lanes=a,e}function Sf(e,s,a){return e=yn(6,e,null,s),e.lanes=a,e}function bf(e,s,a){return s=yn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Aa=[],Sa=0,Qu=null,Xu=0,On=[],Nn=0,Ar=null,Li=1,Ui="";function Sr(e,s){Aa[Sa++]=Xu,Aa[Sa++]=Qu,Qu=e,Xu=s}function hy(e,s,a){On[Nn++]=Li,On[Nn++]=Ui,On[Nn++]=Ar,Ar=e;var l=Li;e=Ui;var f=32-Ye(l)-1;l&=~(1<<f),a+=1;var m=32-Ye(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Li=1<<32-Ye(s)+f|a<<f|l,Ui=m+e}else Li=1<<m|a<<f|l,Ui=e}function wf(e){e.return!==null&&(Sr(e,1),hy(e,1,0))}function Rf(e){for(;e===Qu;)Qu=Aa[--Sa],Aa[Sa]=null,Xu=Aa[--Sa],Aa[Sa]=null;for(;e===Ar;)Ar=On[--Nn],On[Nn]=null,Ui=On[--Nn],On[Nn]=null,Li=On[--Nn],On[Nn]=null}var rn=null,ce=null,qt=!1,br=null,ui=!1,Cf=Error(r(519));function wr(e){var s=Error(r(418,""));throw Yo(In(s,e)),Cf}function fy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[be]=e,s[ve]=l,a){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(a=0;a<yl.length;a++)Nt(yl[a],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),ur(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(s);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),cr(s,l.value,l.defaultValue,l.children),oa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||V0(s.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),l.onScroll!=null&&Nt("scroll",s),l.onScrollEnd!=null&&Nt("scrollend",s),l.onClick!=null&&(s.onclick=Vc),s=!0):s=!1,s||wr(e)}function dy(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:rn=rn.return}}function Go(e){if(e!==rn)return!1;if(!qt)return dy(e),qt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fd(e.type,e.memoizedProps)),a=!a),a&&ce&&wr(e),dy(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){ce=Yn(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}ce=null}}else s===27?(s=ce,Rs(e.type)?(e=Yd,Yd=null,ce=e):ce=s):ce=rn?Yn(e.stateNode.nextSibling):null;return!0}function Ko(){ce=rn=null,qt=!1}function my(){var e=br;return e!==null&&(un===null?un=e:un.push.apply(un,e),br=null),e}function Yo(e){br===null?br=[e]:br.push(e)}var Df=$(null),Rr=null,Bi=null;function hs(e,s,a){st(Df,s._currentValue),s._currentValue=a}function ki(e){e._currentValue=Df.current,at(Df)}function Vf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function xf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Vf(m.return,a,e),l||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Vf(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Qo(e,s,a,l){e=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=f.type;gn(f.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(f===Ie.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}f=f.return}e!==null&&xf(s,e,a,l),s.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){Rr=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return py(Rr,e)}function Zu(e,s){return Rr===null&&Cr(e),py(e,s)}function py(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(r(308));Bi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Bi=Bi.next=s;return a}var $b=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Zb=n.unstable_scheduleCallback,Wb=n.unstable_NormalPriority,Ce={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new $b,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&Zb(Wb,function(){e.controller.abort()})}var $o=null,Mf=0,ba=0,wa=null;function Jb(e,s){if($o===null){var a=$o=[];Mf=0,ba=Nd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,s.then(gy,gy),s}function gy(){if(--Mf===0&&$o!==null){wa!==null&&(wa.status="fulfilled");var e=$o;$o=null,ba=0,wa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function tw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var yy=F.S;F.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Jb(e,s),yy!==null&&yy(e,s)};var Dr=$(null);function Of(){var e=Dr.current;return e!==null?e:te.pooledCache}function Wu(e,s){s===null?st(Dr,Dr.current):st(Dr,s.pool)}function vy(){var e=Of();return e===null?null:{parent:Ce._currentValue,pool:e}}var Zo=Error(r(460)),_y=Error(r(474)),Ju=Error(r(542)),Nf={then:function(){}};function Ty(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tc(){}function Ey(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(tc,tc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Sy(e),e;default:if(typeof s.status=="string")s.then(tc,tc);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Sy(e),e}throw Wo=s,Zo}}var Wo=null;function Ay(){if(Wo===null)throw Error(r(459));var e=Wo;return Wo=null,e}function Sy(e){if(e===Zo||e===Ju)throw Error(r(483))}var fs=!1;function Pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ms(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ku(e),uy(e,null,a),s}return Gu(e,l,s,a),Ku(e)}function Jo(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Co(e,a)}}function Uf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Bf=!1;function tl(){if(Bf){var e=wa;if(e!==null)throw e}}function el(e,s,a,l){Bf=!1;var f=e.updateQueue;fs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,j=D.next;D.next=null,T===null?m=j:T.next=j,T=D;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==T&&(A===null?Q.firstBaseUpdate=j:A.next=j,Q.lastBaseUpdate=D))}if(m!==null){var J=f.baseState;T=0,Q=j=D=null,A=m;do{var q=A.lane&-536870913,G=q!==A.lane;if(G?(Bt&q)===q:(l&q)===q){q!==0&&q===ba&&(Bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var St=e,_t=A;q=s;var Zt=a;switch(_t.tag){case 1:if(St=_t.payload,typeof St=="function"){J=St.call(Zt,J,q);break t}J=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=_t.payload,q=typeof St=="function"?St.call(Zt,J,q):St,q==null)break t;J=v({},J,q);break t;case 2:fs=!0}}q=A.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(j=Q=G,D=J):Q=Q.next=G,T|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;G=A,A=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(D=J),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),As|=T,e.lanes=T,e.memoizedState=J}}function by(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function wy(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)by(a[e],s)}var Ra=$(null),ec=$(0);function Ry(e,s){e=Ki,st(ec,e),st(Ra,s),Ki=e|s.baseLanes}function kf(){st(ec,Ki),st(Ra,Ra.current)}function jf(){Ki=ec.current,at(Ra),at(ec)}var ps=0,Vt=null,Xt=null,Te=null,nc=!1,Ca=!1,Vr=!1,ic=0,nl=0,Da=null,ew=0;function me(){throw Error(r(321))}function zf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!gn(e[a],s[a]))return!1;return!0}function qf(e,s,a,l,f,m){return ps=m,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=e===null||e.memoizedState===null?uv:cv,Vr=!1,m=a(l,f),Vr=!1,Ca&&(m=Dy(s,a,l,f)),Cy(e),m}function Cy(e){F.H=uc;var s=Xt!==null&&Xt.next!==null;if(ps=0,Te=Xt=Vt=null,nc=!1,nl=0,Da=null,s)throw Error(r(300));e===null||Ne||(e=e.dependencies,e!==null&&$u(e)&&(Ne=!0))}function Dy(e,s,a,l){Vt=e;var f=0;do{if(Ca&&(Da=null),nl=0,Ca=!1,25<=f)throw Error(r(301));if(f+=1,Te=Xt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=lw,m=s(a,l)}while(Ca);return m}function nw(){var e=F.H,s=e.useState()[0];return s=typeof s.then=="function"?il(s):s,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Vt.flags|=1024),s}function Ff(){var e=ic!==0;return ic=0,e}function Hf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Gf(e){if(nc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}nc=!1}ps=0,Te=Xt=Vt=null,Ca=!1,nl=ic=0,Da=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Vt.memoizedState=Te=e:Te=Te.next=e,Te}function Ee(){if(Xt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var s=Te===null?Vt.memoizedState:Te.next;if(s!==null)Te=s,Xt=e;else{if(e===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Vt.memoizedState=Te=e:Te=Te.next=e}return Te}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var s=nl;return nl+=1,Da===null&&(Da=[]),e=Ey(Da,e,s),s=Vt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?uv:cv),e}function sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===X)return Qe(e)}throw Error(r(438,String(e)))}function Yf(e){var s=null,a=Vt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Kf(),Vt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=M;return s.index++,a}function ji(e,s){return typeof s=="function"?s(e):s}function rc(e){var s=Ee();return Qf(s,Xt,e)}function Qf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{s=f.next;var A=T=null,D=null,j=s,Q=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Bt&J)===J:(ps&J)===J){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===ba&&(Q=!0);else if((ps&q)===q){j=j.next,q===ba&&(Q=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(A=D=J,T=m):D=D.next=J,Vt.lanes|=q,As|=q;J=j.action,Vr&&a(m,J),m=j.hasEagerState?j.eagerState:a(m,J)}else q={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(A=D=q,T=m):D=D.next=q,Vt.lanes|=J,As|=J;j=j.next}while(j!==null&&j!==s);if(D===null?T=m:D.next=A,!gn(m,e.memoizedState)&&(Ne=!0,Q&&(a=wa,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Xf(e){var s=Ee(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);gn(m,s.memoizedState)||(Ne=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Vy(e,s,a){var l=Vt,f=Ee(),m=qt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!gn((Xt||f).memoizedState,a);T&&(f.memoizedState=a,Ne=!0),f=f.queue;var A=My.bind(null,l,f,e);if(sl(2048,8,A,[e]),f.getSnapshot!==s||T||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Va(9,ac(),Iy.bind(null,l,f,a,s),null),te===null)throw Error(r(349));m||(ps&124)!==0||xy(l,s,a)}return a}function xy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Vt.updateQueue,s===null?(s=Kf(),Vt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Iy(e,s,a,l){s.value=a,s.getSnapshot=l,Oy(s)&&Ny(e)}function My(e,s,a){return a(function(){Oy(s)&&Ny(e)})}function Oy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!gn(e,a)}catch{return!0}}function Ny(e){var s=Ta(e,2);s!==null&&An(s,e,2)}function $f(e){var s=on();if(typeof e=="function"){var a=e;if(e=a(),Vr){mn(!0);try{a()}finally{mn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},s}function Py(e,s,a,l){return e.baseState=a,Qf(e,Xt,typeof l=="function"?l:ji)}function iw(e,s,a,l,f){if(lc(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Ly(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Ly(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var m=F.T,T={};F.T=T;try{var A=a(f,l),D=F.S;D!==null&&D(T,A),Uy(e,s,A)}catch(j){Zf(e,s,j)}finally{F.T=m}}else try{m=a(f,l),Uy(e,s,m)}catch(j){Zf(e,s,j)}}function Uy(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){By(e,s,l)},function(l){return Zf(e,s,l)}):By(e,s,a)}function By(e,s,a){s.status="fulfilled",s.value=a,ky(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Ly(e,a)))}function Zf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,ky(s),s=s.next;while(s!==l)}e.action=null}function ky(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function jy(e,s){return s}function zy(e,s){if(qt){var a=te.formState;if(a!==null){t:{var l=Vt;if(qt){if(ce){e:{for(var f=ce,m=ui;f.nodeType!==8;){if(!m){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ce=Yn(f.nextSibling),l=f.data==="F!";break t}}wr(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:s},a.queue=l,a=av.bind(null,Vt,l),l.dispatch=a,l=$f(!1),m=nd.bind(null,Vt,!1,l.queue),l=on(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=iw.bind(null,Vt,f,m,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function qy(e){var s=Ee();return Fy(s,Xt,e)}function Fy(e,s,a){if(s=Qf(e,s,jy)[0],e=rc(ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=il(s)}catch(T){throw T===Zo?Ju:T}else l=s;s=Ee();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Vt.flags|=2048,Va(9,ac(),sw.bind(null,f,a),null)),[l,m,e]}function sw(e,s){e.action=s}function Hy(e){var s=Ee(),a=Xt;if(a!==null)return Fy(s,a,e);Ee(),s=s.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Va(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Vt.updateQueue,s===null&&(s=Kf(),Vt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function ac(){return{destroy:void 0,resource:void 0}}function Gy(){return Ee().memoizedState}function oc(e,s,a,l){var f=on();l=l===void 0?null:l,Vt.flags|=e,f.memoizedState=Va(1|s,ac(),a,l)}function sl(e,s,a,l){var f=Ee();l=l===void 0?null:l;var m=f.memoizedState.inst;Xt!==null&&l!==null&&zf(l,Xt.memoizedState.deps)?f.memoizedState=Va(s,m,a,l):(Vt.flags|=e,f.memoizedState=Va(1|s,m,a,l))}function Ky(e,s){oc(8390656,8,e,s)}function Yy(e,s){sl(2048,8,e,s)}function Qy(e,s){return sl(4,2,e,s)}function Xy(e,s){return sl(4,4,e,s)}function $y(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Zy(e,s,a){a=a!=null?a.concat([e]):null,sl(4,4,$y.bind(null,s,e),a)}function Wf(){}function Wy(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&zf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Jy(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&zf(s,l[1]))return l[0];if(l=e(),Vr){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,s],l}function Jf(e,s,a){return a===void 0||(ps&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=n0(),Vt.lanes|=e,As|=e,a)}function tv(e,s,a,l){return gn(a,s)?a:Ra.current!==null?(e=Jf(e,a,l),gn(e,s)||(Ne=!0),e):(ps&42)===0?(Ne=!0,e.memoizedState=a):(e=n0(),Vt.lanes|=e,As|=e,s)}function ev(e,s,a,l,f){var m=Y.p;Y.p=m!==0&&8>m?m:8;var T=F.T,A={};F.T=A,nd(e,!1,s,a);try{var D=f(),j=F.S;if(j!==null&&j(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=tw(D,l);rl(e,s,Q,En(e))}else rl(e,s,l,En(e))}catch(J){rl(e,s,{then:function(){},status:"rejected",reason:J},En())}finally{Y.p=m,F.T=T}}function rw(){}function td(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=nv(e).queue;ev(e,f,s,rt,a===null?rw:function(){return iv(e),a(l)})}function nv(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:rt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function iv(e){var s=nv(e).next.queue;rl(e,s,{},En())}function ed(){return Qe(Sl)}function sv(){return Ee().memoizedState}function rv(){return Ee().memoizedState}function aw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=En();e=ds(a);var l=ms(s,e,a);l!==null&&(An(l,s,a),Jo(l,s,a)),s={cache:If()},e.payload=s;return}s=s.return}}function ow(e,s,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(e)?ov(s,a):(a=Ef(e,s,a,l),a!==null&&(An(a,e,l),lv(a,s,l)))}function av(e,s,a){var l=En();rl(e,s,a,l)}function rl(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(e))ov(s,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,A=m(T,a);if(f.hasEagerState=!0,f.eagerState=A,gn(A,T))return Gu(e,s,f,0),te===null&&Hu(),!1}catch{}finally{}if(a=Ef(e,s,f,l),a!==null)return An(a,e,l),lv(a,s,l),!0}return!1}function nd(e,s,a,l){if(l={lane:2,revertLane:Nd(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(s)throw Error(r(479))}else s=Ef(e,a,l,2),s!==null&&An(s,e,2)}function lc(e){var s=e.alternate;return e===Vt||s!==null&&s===Vt}function ov(e,s){Ca=nc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function lv(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Co(e,a)}}var uc={readContext:Qe,use:sc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},uv={readContext:Qe,use:sc,useCallback:function(e,s){return on().memoizedState=[e,s===void 0?null:s],e},useContext:Qe,useEffect:Ky,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,oc(4194308,4,$y.bind(null,s,e),a)},useLayoutEffect:function(e,s){return oc(4194308,4,e,s)},useInsertionEffect:function(e,s){oc(4,2,e,s)},useMemo:function(e,s){var a=on();s=s===void 0?null:s;var l=e();if(Vr){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=on();if(a!==void 0){var f=a(s);if(Vr){mn(!0);try{a(s)}finally{mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=ow.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var s=on();return e={current:e},s.memoizedState=e},useState:function(e){e=$f(e);var s=e.queue,a=av.bind(null,Vt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(e,s){var a=on();return Jf(a,e,s)},useTransition:function(){var e=$f(!1);return e=ev.bind(null,Vt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Vt,f=on();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),te===null)throw Error(r(349));(Bt&124)!==0||xy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Ky(My.bind(null,l,m,e),[e]),l.flags|=2048,Va(9,ac(),Iy.bind(null,l,m,a,s),null),a},useId:function(){var e=on(),s=te.identifierPrefix;if(qt){var a=Ui,l=Li;a=(l&~(1<<32-Ye(l)-1)).toString(32)+a,s=""+s+"R"+a,a=ic++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=ew++,s=""+s+"r"+a.toString(32)+"";return e.memoizedState=s},useHostTransitionStatus:ed,useFormState:zy,useActionState:zy,useOptimistic:function(e){var s=on();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=nd.bind(null,Vt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Yf,useCacheRefresh:function(){return on().memoizedState=aw.bind(null,Vt)}},cv={readContext:Qe,use:sc,useCallback:Wy,useContext:Qe,useEffect:Yy,useImperativeHandle:Zy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:Jy,useReducer:rc,useRef:Gy,useState:function(){return rc(ji)},useDebugValue:Wf,useDeferredValue:function(e,s){var a=Ee();return tv(a,Xt.memoizedState,e,s)},useTransition:function(){var e=rc(ji)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:il(e),s]},useSyncExternalStore:Vy,useId:sv,useHostTransitionStatus:ed,useFormState:qy,useActionState:qy,useOptimistic:function(e,s){var a=Ee();return Py(a,Xt,e,s)},useMemoCache:Yf,useCacheRefresh:rv},lw={readContext:Qe,use:sc,useCallback:Wy,useContext:Qe,useEffect:Yy,useImperativeHandle:Zy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:Jy,useReducer:Xf,useRef:Gy,useState:function(){return Xf(ji)},useDebugValue:Wf,useDeferredValue:function(e,s){var a=Ee();return Xt===null?Jf(a,e,s):tv(a,Xt.memoizedState,e,s)},useTransition:function(){var e=Xf(ji)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:il(e),s]},useSyncExternalStore:Vy,useId:sv,useHostTransitionStatus:ed,useFormState:Hy,useActionState:Hy,useOptimistic:function(e,s){var a=Ee();return Xt!==null?Py(a,Xt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:rv},xa=null,al=0;function cc(e){var s=al;return al+=1,xa===null&&(xa=[]),Ey(xa,e,s)}function ol(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function hc(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function hv(e){var s=e._init;return s(e._payload)}function fv(e){function s(L,O){if(e){var k=L.deletions;k===null?(L.deletions=[O],L.flags|=16):k.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Pi(L,O),L.index=0,L.sibling=null,L}function m(L,O,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<O?(L.flags|=67108866,O):k):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function T(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,k,W){return O===null||O.tag!==6?(O=Sf(k,L.mode,W),O.return=L,O):(O=f(O,k),O.return=L,O)}function D(L,O,k,W){var mt=k.type;return mt===U?Q(L,O,k.props.children,W,k.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&hv(mt)===O.type)?(O=f(O,k.props),ol(O,k),O.return=L,O):(O=Yu(k.type,k.key,k.props,null,L.mode,W),ol(O,k),O.return=L,O)}function j(L,O,k,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=bf(k,L.mode,W),O.return=L,O):(O=f(O,k.children||[]),O.return=L,O)}function Q(L,O,k,W,mt){return O===null||O.tag!==7?(O=Er(k,L.mode,W,mt),O.return=L,O):(O=f(O,k),O.return=L,O)}function J(L,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sf(""+O,L.mode,k),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return k=Yu(O.type,O.key,O.props,null,L.mode,k),ol(k,O),k.return=L,k;case R:return O=bf(O,L.mode,k),O.return=L,O;case w:var W=O._init;return O=W(O._payload),J(L,O,k)}if(pt(O)||P(O))return O=Er(O,L.mode,k,null),O.return=L,O;if(typeof O.then=="function")return J(L,cc(O),k);if(O.$$typeof===X)return J(L,Zu(L,O),k);hc(L,O)}return null}function q(L,O,k,W){var mt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return mt!==null?null:A(L,O,""+k,W);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===mt?D(L,O,k,W):null;case R:return k.key===mt?j(L,O,k,W):null;case w:return mt=k._init,k=mt(k._payload),q(L,O,k,W)}if(pt(k)||P(k))return mt!==null?null:Q(L,O,k,W,null);if(typeof k.then=="function")return q(L,O,cc(k),W);if(k.$$typeof===X)return q(L,O,Zu(L,k),W);hc(L,k)}return null}function G(L,O,k,W,mt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(k)||null,A(O,L,""+W,mt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return L=L.get(W.key===null?k:W.key)||null,D(O,L,W,mt);case R:return L=L.get(W.key===null?k:W.key)||null,j(O,L,W,mt);case w:var Mt=W._init;return W=Mt(W._payload),G(L,O,k,W,mt)}if(pt(W)||P(W))return L=L.get(k)||null,Q(O,L,W,mt,null);if(typeof W.then=="function")return G(L,O,k,cc(W),mt);if(W.$$typeof===X)return G(L,O,k,Zu(O,W),mt);hc(O,W)}return null}function St(L,O,k,W){for(var mt=null,Mt=null,gt=O,Tt=O=0,Le=null;gt!==null&&Tt<k.length;Tt++){gt.index>Tt?(Le=gt,gt=null):Le=gt.sibling;var zt=q(L,gt,k[Tt],W);if(zt===null){gt===null&&(gt=Le);break}e&&gt&&zt.alternate===null&&s(L,gt),O=m(zt,O,Tt),Mt===null?mt=zt:Mt.sibling=zt,Mt=zt,gt=Le}if(Tt===k.length)return a(L,gt),qt&&Sr(L,Tt),mt;if(gt===null){for(;Tt<k.length;Tt++)gt=J(L,k[Tt],W),gt!==null&&(O=m(gt,O,Tt),Mt===null?mt=gt:Mt.sibling=gt,Mt=gt);return qt&&Sr(L,Tt),mt}for(gt=l(gt);Tt<k.length;Tt++)Le=G(gt,L,Tt,k[Tt],W),Le!==null&&(e&&Le.alternate!==null&&gt.delete(Le.key===null?Tt:Le.key),O=m(Le,O,Tt),Mt===null?mt=Le:Mt.sibling=Le,Mt=Le);return e&&gt.forEach(function(Is){return s(L,Is)}),qt&&Sr(L,Tt),mt}function _t(L,O,k,W){if(k==null)throw Error(r(151));for(var mt=null,Mt=null,gt=O,Tt=O=0,Le=null,zt=k.next();gt!==null&&!zt.done;Tt++,zt=k.next()){gt.index>Tt?(Le=gt,gt=null):Le=gt.sibling;var Is=q(L,gt,zt.value,W);if(Is===null){gt===null&&(gt=Le);break}e&&gt&&Is.alternate===null&&s(L,gt),O=m(Is,O,Tt),Mt===null?mt=Is:Mt.sibling=Is,Mt=Is,gt=Le}if(zt.done)return a(L,gt),qt&&Sr(L,Tt),mt;if(gt===null){for(;!zt.done;Tt++,zt=k.next())zt=J(L,zt.value,W),zt!==null&&(O=m(zt,O,Tt),Mt===null?mt=zt:Mt.sibling=zt,Mt=zt);return qt&&Sr(L,Tt),mt}for(gt=l(gt);!zt.done;Tt++,zt=k.next())zt=G(gt,L,Tt,zt.value,W),zt!==null&&(e&&zt.alternate!==null&&gt.delete(zt.key===null?Tt:zt.key),O=m(zt,O,Tt),Mt===null?mt=zt:Mt.sibling=zt,Mt=zt);return e&&gt.forEach(function(u2){return s(L,u2)}),qt&&Sr(L,Tt),mt}function Zt(L,O,k,W){if(typeof k=="object"&&k!==null&&k.type===U&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:t:{for(var mt=k.key;O!==null;){if(O.key===mt){if(mt=k.type,mt===U){if(O.tag===7){a(L,O.sibling),W=f(O,k.props.children),W.return=L,L=W;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&hv(mt)===O.type){a(L,O.sibling),W=f(O,k.props),ol(W,k),W.return=L,L=W;break t}a(L,O);break}else s(L,O);O=O.sibling}k.type===U?(W=Er(k.props.children,L.mode,W,k.key),W.return=L,L=W):(W=Yu(k.type,k.key,k.props,null,L.mode,W),ol(W,k),W.return=L,L=W)}return T(L);case R:t:{for(mt=k.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(L,O.sibling),W=f(O,k.children||[]),W.return=L,L=W;break t}else{a(L,O);break}else s(L,O);O=O.sibling}W=bf(k,L.mode,W),W.return=L,L=W}return T(L);case w:return mt=k._init,k=mt(k._payload),Zt(L,O,k,W)}if(pt(k))return St(L,O,k,W);if(P(k)){if(mt=P(k),typeof mt!="function")throw Error(r(150));return k=mt.call(k),_t(L,O,k,W)}if(typeof k.then=="function")return Zt(L,O,cc(k),W);if(k.$$typeof===X)return Zt(L,O,Zu(L,k),W);hc(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(L,O.sibling),W=f(O,k),W.return=L,L=W):(a(L,O),W=Sf(k,L.mode,W),W.return=L,L=W),T(L)):a(L,O)}return function(L,O,k,W){try{al=0;var mt=Zt(L,O,k,W);return xa=null,mt}catch(gt){if(gt===Zo||gt===Ju)throw gt;var Mt=yn(29,gt,null,L.mode);return Mt.lanes=W,Mt.return=L,Mt}finally{}}}var Ia=fv(!0),dv=fv(!1),Pn=$(null),ci=null;function gs(e){var s=e.alternate;st(De,De.current&1),st(Pn,e),ci===null&&(s===null||Ra.current!==null||s.memoizedState!==null)&&(ci=e)}function mv(e){if(e.tag===22){if(st(De,De.current),st(Pn,e),ci===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(ci=e)}}else ys()}function ys(){st(De,De.current),st(Pn,Pn.current)}function zi(e){at(Pn),ci===e&&(ci=null),at(De)}var De=$(0);function fc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function id(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var sd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=En(),f=ds(l);f.payload=s,a!=null&&(f.callback=a),s=ms(e,f,l),s!==null&&(An(s,e,l),Jo(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=En(),f=ds(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ms(e,f,l),s!==null&&(An(s,e,l),Jo(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=En(),l=ds(a);l.tag=2,s!=null&&(l.callback=s),s=ms(e,l,a),s!==null&&(An(s,e,a),Jo(s,e,a))}};function pv(e,s,a,l,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Fo(a,l)||!Fo(f,m):!0}function gv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&sd.enqueueReplaceState(s,s.state,null)}function xr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var dc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yv(e){dc(e)}function vv(e){console.error(e)}function _v(e){dc(e)}function mc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Tv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rd(e,s,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(e,s)},a}function Ev(e){return e=ds(e),e.tag=3,e}function Av(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;e.payload=function(){return f(m)},e.callback=function(){Tv(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Tv(s,a,l),typeof f!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function uw(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Qo(s,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ci===null?Vd():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Id(e,l,f)),!1;case 22:return a.flags|=65536,l===Nf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Id(e,l,f)),!1}throw Error(r(435,a.tag))}return Id(e,l,f),Vd(),!1}if(qt)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Cf&&(e=Error(r(422),{cause:l}),Yo(In(e,a)))):(l!==Cf&&(s=Error(r(423),{cause:l}),Yo(In(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=In(l,a),f=rd(e.stateNode,l,f),Uf(e,f),he!==4&&(he=2)),!1;var m=Error(r(520),{cause:l});if(m=In(m,a),ml===null?ml=[m]:ml.push(m),he!==4&&(he=2),s===null)return!0;l=In(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=rd(a.stateNode,l,e),Uf(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ss===null||!Ss.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ev(f),Av(f,e,a,l),Uf(a,f),!1}a=a.return}while(a!==null);return!1}var Sv=Error(r(461)),Ne=!1;function je(e,s,a,l){s.child=e===null?dv(s,null,a,l):Ia(s,e.child,a,l)}function bv(e,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Cr(s),l=qf(e,s,a,T,m,f),A=Ff(),e!==null&&!Ne?(Hf(e,s,f),qi(e,s,f)):(qt&&A&&wf(s),s.flags|=1,je(e,s,l,f),s.child)}function wv(e,s,a,l,f){if(e===null){var m=a.type;return typeof m=="function"&&!Af(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Rv(e,s,m,l,f)):(e=Yu(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!dd(e,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(T,l)&&e.ref===s.ref)return qi(e,s,f)}return s.flags|=1,e=Pi(m,l),e.ref=s.ref,e.return=s,s.child=e}function Rv(e,s,a,l,f){if(e!==null){var m=e.memoizedProps;if(Fo(m,l)&&e.ref===s.ref)if(Ne=!1,s.pendingProps=l=m,dd(e,f))(e.flags&131072)!==0&&(Ne=!0);else return s.lanes=e.lanes,qi(e,s,f)}return ad(e,s,a,l,f)}function Cv(e,s,a){var l=s.pendingProps,f=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,e!==null){for(f=s.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Dv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(s,m!==null?m.cachePool:null),m!==null?Ry(s,m):kf(),mv(s);else return s.lanes=s.childLanes=536870912,Dv(e,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Wu(s,m.cachePool),Ry(s,m),ys(),s.memoizedState=null):(e!==null&&Wu(s,null),kf(),ys());return je(e,s,f,a),s.child}function Dv(e,s,a,l){var f=Of();return f=f===null?null:{parent:Ce._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&Wu(s,null),kf(),mv(s),e!==null&&Qo(e,s,l,!0),null}function pc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function ad(e,s,a,l,f){return Cr(s),a=qf(e,s,a,l,void 0,f),l=Ff(),e!==null&&!Ne?(Hf(e,s,f),qi(e,s,f)):(qt&&l&&wf(s),s.flags|=1,je(e,s,a,f),s.child)}function Vv(e,s,a,l,f,m){return Cr(s),s.updateQueue=null,a=Dy(s,l,a,f),Cy(e),l=Ff(),e!==null&&!Ne?(Hf(e,s,m),qi(e,s,m)):(qt&&l&&wf(s),s.flags|=1,je(e,s,a,m),s.child)}function xv(e,s,a,l,f){if(Cr(s),s.stateNode===null){var m=Ea,T=a.contextType;typeof T=="object"&&T!==null&&(m=Qe(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Pf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Qe(T):Ea,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(id(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&sd.enqueueReplaceState(m,m.state,null),el(s,l,m,f),tl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var A=s.memoizedProps,D=xr(a,A);m.props=D;var j=m.context,Q=a.contextType;T=Ea,typeof Q=="object"&&Q!==null&&(T=Qe(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||j!==T)&&gv(s,m,l,T),fs=!1;var q=s.memoizedState;m.state=q,el(s,l,m,f),tl(),j=s.memoizedState,A||q!==j||fs?(typeof J=="function"&&(id(s,a,J,l),j=s.memoizedState),(D=fs||pv(s,a,D,l,q,j,T))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=j),m.props=l,m.state=j,m.context=T,l=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Lf(e,s),T=s.memoizedProps,Q=xr(a,T),m.props=Q,J=s.pendingProps,q=m.context,j=a.contextType,D=Ea,typeof j=="object"&&j!==null&&(D=Qe(j)),A=a.getDerivedStateFromProps,(j=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==J||q!==D)&&gv(s,m,l,D),fs=!1,q=s.memoizedState,m.state=q,el(s,l,m,f),tl();var G=s.memoizedState;T!==J||q!==G||fs||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof A=="function"&&(id(s,a,A,l),G=s.memoizedState),(Q=fs||pv(s,a,Q,l,q,G,D)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=G),m.props=l,m.state=G,m.context=D,l=Q):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,pc(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Ia(s,e.child,null,f),s.child=Ia(s,null,a,f)):je(e,s,a,f),s.memoizedState=m.state,e=s.child):e=qi(e,s,f),e}function Iv(e,s,a,l){return Ko(),s.flags|=256,je(e,s,a,l),s.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:vy()}}function ud(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Ln),e}function Mv(e,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(qt){if(f?gs(s):ys(),qt){var A=ce,D;if(D=A){t:{for(D=A,A=ui;D.nodeType!==8;){if(!A){A=null;break t}if(D=Yn(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ar!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},D=yn(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,rn=s,ce=null,D=!0):D=!1}D||wr(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Kd(A)?s.lanes=32:s.lanes=536870912,null;zi(s)}return A=l.children,l=l.fallback,f?(ys(),f=s.mode,A=gc({mode:"hidden",children:A},f),l=Er(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,f=s.child,f.memoizedState=ld(a),f.childLanes=ud(e,T,a),s.memoizedState=od,l):(gs(s),cd(s,A))}if(D=e.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(m)s.flags&256?(gs(s),s.flags&=-257,s=hd(e,s,a)):s.memoizedState!==null?(ys(),s.child=e.child,s.flags|=128,s=null):(ys(),f=l.fallback,A=s.mode,l=gc({mode:"visible",children:l.children},A),f=Er(f,A,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Ia(s,e.child,null,a),l=s.child,l.memoizedState=ld(a),l.childLanes=ud(e,T,a),s.memoizedState=od,s=f);else if(gs(s),Kd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var j=T.dgst;T=j,l=Error(r(419)),l.stack="",l.digest=T,Yo({value:l,source:null,stack:null}),s=hd(e,s,a)}else if(Ne||Qo(e,s,a,!1),T=(a&e.childLanes)!==0,Ne||T){if(T=te,T!==null&&(l=a&-a,l=(l&42)!==0?1:ss(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ta(e,l),An(T,e,l),Sv;A.data==="$?"||Vd(),s=hd(e,s,a)}else A.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=D.treeContext,ce=Yn(A.nextSibling),rn=s,qt=!0,br=null,ui=!1,e!==null&&(On[Nn++]=Li,On[Nn++]=Ui,On[Nn++]=Ar,Li=e.id,Ui=e.overflow,Ar=s),s=cd(s,l.children),s.flags|=4096);return s}return f?(ys(),f=l.fallback,A=s.mode,D=e.child,j=D.sibling,l=Pi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?f=Pi(j,f):(f=Er(f,A,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,A=e.child.memoizedState,A===null?A=ld(a):(D=A.cachePool,D!==null?(j=Ce._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=vy(),A={baseLanes:A.baseLanes|a,cachePool:D}),f.memoizedState=A,f.childLanes=ud(e,T,a),s.memoizedState=od,l):(gs(s),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function cd(e,s){return s=gc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function gc(e,s){return e=yn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hd(e,s,a){return Ia(s,e.child,null,a),e=cd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Ov(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Vf(e.return,s,a)}function fd(e,s,a,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Nv(e,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(je(e,s,l.children,a),l=De.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ov(e,a,s);else if(e.tag===19)Ov(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(st(De,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&fc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),fd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&fc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}fd(s,!0,a,null,m);break;case"together":fd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),As|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Qo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Pi(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function dd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function cw(e,s,a){switch(s.tag){case 3:Jt(s,s.stateNode.containerInfo),hs(s,Ce,e.memoizedState.cache),Ko();break;case 27:case 5:is(s);break;case 4:Jt(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Mv(e,s,a):(gs(s),e=qi(e,s,a),e!==null?e.sibling:null);gs(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Qo(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Nv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(De,De.current),l)break;return null;case 22:case 23:return s.lanes=0,Cv(e,s,a);case 24:hs(s,Ce,e.memoizedState.cache)}return qi(e,s,a)}function Pv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ne=!0;else{if(!dd(e,a)&&(s.flags&128)===0)return Ne=!1,cw(e,s,a);Ne=(e.flags&131072)!==0}else Ne=!1,qt&&(s.flags&1048576)!==0&&hy(s,Xu,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Af(l)?(e=xr(l,e),s.tag=1,s=xv(null,s,l,e,a)):(s.tag=0,s=ad(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===ft){s.tag=11,s=bv(null,s,l,e,a);break t}else if(f===I){s.tag=14,s=wv(null,s,l,e,a);break t}}throw s=ne(l)||l,Error(r(306,s,""))}}return s;case 0:return ad(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=xr(l,s.pendingProps),xv(e,s,l,f,a);case 3:t:{if(Jt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Lf(e,s),el(s,l,null,a);var T=s.memoizedState;if(l=T.cache,hs(s,Ce,l),l!==m.cache&&xf(s,[Ce],a,!0),tl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Iv(e,s,l,a);break t}else if(l!==f){f=In(Error(r(424)),s),Yo(f),s=Iv(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Yn(e.firstChild),rn=s,qt=!0,br=null,ui=!0,a=dv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ko(),l===f){s=qi(e,s,a);break t}je(e,s,l,a)}s=s.child}return s;case 26:return pc(e,s),e===null?(a=k0(s.type,null,s.pendingProps,null))?s.memoizedState=a:qt||(a=s.type,e=s.pendingProps,l=xc(wt.current).createElement(a),l[be]=s,l[ve]=e,qe(l,a,e),de(l),s.stateNode=l):s.memoizedState=k0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return is(s),e===null&&qt&&(l=s.stateNode=L0(s.type,s.pendingProps,wt.current),rn=s,ui=!0,f=ce,Rs(s.type)?(Yd=f,ce=Yn(l.firstChild)):ce=f),je(e,s,s.pendingProps.children,a),pc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&qt&&((f=l=ce)&&(l=Bw(l,s.type,s.pendingProps,ui),l!==null?(s.stateNode=l,rn=s,ce=Yn(l.firstChild),ui=!1,f=!0):f=!1),f||wr(s)),is(s),f=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,Fd(f,m)?l=null:T!==null&&Fd(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=qf(e,s,nw,null,null,a),Sl._currentValue=f),pc(e,s),je(e,s,l,a),s.child;case 6:return e===null&&qt&&((e=a=ce)&&(a=kw(a,s.pendingProps,ui),a!==null?(s.stateNode=a,rn=s,ce=null,e=!0):e=!1),e||wr(s)),null;case 13:return Mv(e,s,a);case 4:return Jt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Ia(s,null,l,a):je(e,s,l,a),s.child;case 11:return bv(e,s,s.type,s.pendingProps,a);case 7:return je(e,s,s.pendingProps,a),s.child;case 8:return je(e,s,s.pendingProps.children,a),s.child;case 12:return je(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,hs(s,s.type,l.value),je(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Cr(s),f=Qe(f),l=l(f),s.flags|=1,je(e,s,l,a),s.child;case 14:return wv(e,s,s.type,s.pendingProps,a);case 15:return Rv(e,s,s.type,s.pendingProps,a);case 19:return Nv(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=gc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Pi(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Cv(e,s,a);case 24:return Cr(s),l=Qe(Ce),e===null?(f=Of(),f===null&&(f=te,m=If(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Pf(s),hs(s,Ce,f)):((e.lanes&a)!==0&&(Lf(e,s),el(s,null,null,a),tl()),f=e.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),hs(s,Ce,l)):(l=m.cache,hs(s,Ce,l),l!==f.cache&&xf(s,[Ce],a,!0))),je(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fi(e){e.flags|=4}function Lv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H0(s)){if(s=Pn.current,s!==null&&((Bt&4194048)===Bt?ci!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==ci))throw Wo=Nf,_y;e.flags|=8192}}function yc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?wo():536870912,e.lanes|=s,Pa|=s)}function ll(e,s){if(!qt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function hw(e,s,a){var l=s.pendingProps;switch(Rf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ki(Ce),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Go(s)?Fi(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,my())),re(s),null;case 26:return a=s.memoizedState,e===null?(Fi(s),a!==null?(re(s),Lv(s,a)):(re(s),s.flags&=-16777217)):a?a!==e.memoizedState?(Fi(s),re(s),Lv(s,a)):(re(s),s.flags&=-16777217):(e.memoizedProps!==l&&Fi(s),re(s),s.flags&=-16777217),null;case 27:Ai(s),a=wt.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Fi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}e=vt.current,Go(s)?fy(s):(e=L0(f,l,a),s.stateNode=e,Fi(s))}return re(s),null;case 5:if(Ai(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Fi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(e=vt.current,Go(s))fy(s);else{switch(f=xc(wt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[be]=s,e[ve]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Fi(s)}}return re(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Fi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=wt.current,Go(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V0(e.nodeValue,a)),e||wr(s)}else e=xc(e).createTextNode(l),e[be]=s,s.stateNode=e}return re(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Go(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),f=!1}else f=my(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(zi(s),s):(zi(s),null)}if(zi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),yc(s,s.updateQueue),re(s),null;case 4:return Zn(),e===null&&Bd(s.stateNode.containerInfo),re(s),null;case 10:return ki(s.type),re(s),null;case 19:if(at(De),f=s.memoizedState,f===null)return re(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)ll(f,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=fc(e),m!==null){for(s.flags|=128,ll(f,!1),e=m.updateQueue,s.updateQueue=e,yc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)cy(a,e),a=a.sibling;return st(De,De.current&1|2),s.child}e=e.sibling}f.tail!==null&&wn()>Tc&&(s.flags|=128,l=!0,ll(f,!1),s.lanes=4194304)}else{if(!l)if(e=fc(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,yc(s,e),ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qt)return re(s),null}else 2*wn()-f.renderingStartTime>Tc&&a!==536870912&&(s.flags|=128,l=!0,ll(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(e=f.last,e!==null?e.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=wn(),s.sibling=null,e=De.current,st(De,l?e&1|2:e&1),s):(re(s),null);case 22:case 23:return zi(s),jf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),a=s.updateQueue,a!==null&&yc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&at(Dr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ki(Ce),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function fw(e,s){switch(Rf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ki(Ce),Zn(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Ai(s),null;case 13:if(zi(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ko()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return at(De),null;case 4:return Zn(),null;case 10:return ki(s.type),null;case 22:case 23:return zi(s),jf(),e!==null&&at(Dr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ki(Ce),null;case 25:return null;default:return null}}function Uv(e,s){switch(Rf(s),s.tag){case 3:ki(Ce),Zn();break;case 26:case 27:case 5:Ai(s);break;case 4:Zn();break;case 13:zi(s);break;case 19:at(De);break;case 10:ki(s.type);break;case 22:case 23:zi(s),jf(),e!==null&&at(Dr);break;case 24:ki(Ce)}}function ul(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(A){Wt(s,s.return,A)}}function vs(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&e)===e){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var D=a,j=A;try{j()}catch(Q){Wt(f,D,Q)}}}l=l.next}while(l!==m)}}catch(Q){Wt(s,s.return,Q)}}function Bv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{wy(s,a)}catch(l){Wt(e,e.return,l)}}}function kv(e,s,a){a.props=xr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,s,l)}}function cl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Wt(e,s,f)}}function hi(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(e,s,f)}else a.current=null}function jv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(e,e.return,f)}}function md(e,s,a){try{var l=e.stateNode;Ow(l,e.type,a,s),l[ve]=s}catch(f){Wt(e,e.return,f)}}function zv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rs(e.type)||e.tag===4}function pd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Vc));else if(l!==4&&(l===27&&Rs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(gd(e,s,a),e=e.sibling;e!==null;)gd(e,s,a),e=e.sibling}function vc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Rs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vc(e,s,a),e=e.sibling;e!==null;)vc(e,s,a),e=e.sibling}function qv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);qe(s,l,a),s[be]=e,s[ve]=a}catch(m){Wt(e,e.return,m)}}var Hi=!1,pe=!1,yd=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function dw(e,s){if(e=e.containerInfo,zd=Lc,e=ty(e),pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,D=-1,j=0,Q=0,J=e,q=null;e:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(A=T+f),J!==m||l!==0&&J.nodeType!==3||(D=T+l),J.nodeType===3&&(T+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===e)break e;if(q===a&&++j===f&&(A=T),q===m&&++Q===l&&(D=T),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:e,selectionRange:a},Lc=!1,Pe=s;Pe!==null;)if(s=Pe,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Pe=e;else for(;Pe!==null;){switch(s=Pe,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var St=xr(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(St,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Wt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Pe=e;break}Pe=s.return}}function Hv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_s(e,a),l&4&&ul(5,a);break;case 1:if(_s(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){Wt(a,a.return,T)}else{var f=xr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(a,a.return,T)}}l&64&&Bv(a),l&512&&cl(a,a.return);break;case 3:if(_s(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{wy(e,s)}catch(T){Wt(a,a.return,T)}}break;case 27:s===null&&l&4&&qv(a);case 26:case 5:_s(e,a),s===null&&l&4&&jv(a),l&512&&cl(a,a.return);break;case 12:_s(e,a);break;case 13:_s(e,a),l&4&&Yv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Aw.bind(null,a),jw(e,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){s=s!==null&&s.memoizedState!==null||pe,f=Hi;var m=pe;Hi=l,(pe=s)&&!m?Ts(e,a,(a.subtreeFlags&8772)!==0):_s(e,a),Hi=f,pe=m}break;case 30:break;default:_s(e,a)}}function Gv(e){var s=e.alternate;s!==null&&(e.alternate=null,Gv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&os(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,ln=!1;function Gi(e,s,a){for(a=a.child;a!==null;)Kv(e,s,a),a=a.sibling}function Kv(e,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:pe||hi(a,s),Gi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||hi(a,s);var l=se,f=ln;Rs(a.type)&&(se=a.stateNode,ln=!1),Gi(e,s,a),_l(a.stateNode),se=l,ln=f;break;case 5:pe||hi(a,s);case 6:if(l=se,f=ln,se=null,Gi(e,s,a),se=l,ln=f,se!==null)if(ln)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(m){Wt(a,s,m)}else try{se.removeChild(a.stateNode)}catch(m){Wt(a,s,m)}break;case 18:se!==null&&(ln?(e=se,N0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Cl(e)):N0(se,a.stateNode));break;case 4:l=se,f=ln,se=a.stateNode.containerInfo,ln=!0,Gi(e,s,a),se=l,ln=f;break;case 0:case 11:case 14:case 15:pe||vs(2,a,s),pe||vs(4,a,s),Gi(e,s,a);break;case 1:pe||(hi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kv(a,s,l)),Gi(e,s,a);break;case 21:Gi(e,s,a);break;case 22:pe=(l=pe)||a.memoizedState!==null,Gi(e,s,a),pe=l;break;default:Gi(e,s,a)}}function Yv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cl(e)}catch(a){Wt(s,s.return,a)}}function mw(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Fv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Fv),s;default:throw Error(r(435,e.tag))}}function vd(e,s){var a=mw(e);s.forEach(function(l){var f=Sw.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function vn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=e,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Rs(A.type)){se=A.stateNode,ln=!1;break t}break;case 5:se=A.stateNode,ln=!1;break t;case 3:case 4:se=A.stateNode.containerInfo,ln=!0;break t}A=A.return}if(se===null)throw Error(r(160));Kv(m,T,f),se=null,ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Qv(s,e),s=s.sibling}var Kn=null;function Qv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(s,e),_n(e),l&4&&(vs(3,e,e.return),ul(3,e),vs(5,e,e.return));break;case 1:vn(s,e),_n(e),l&512&&(pe||a===null||hi(a,a.return)),l&64&&Hi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(vn(s,e),_n(e),l&512&&(pe||a===null||hi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[rr]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),qe(m,l,a),m[be]=e,de(m),l=m;break t;case"link":var T=q0("link","href",f).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(l),qe(m,l,a),f.head.appendChild(m);break;case"meta":if(T=q0("meta","content",f).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=f.createElement(l),qe(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[be]=e,de(m),l=m}e.stateNode=l}else F0(f,e.type,e.stateNode);else e.stateNode=z0(f,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?F0(f,e.type,e.stateNode):z0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&md(e,e.memoizedProps,a.memoizedProps)}break;case 27:vn(s,e),_n(e),l&512&&(pe||a===null||hi(a,a.return)),a!==null&&l&4&&md(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vn(s,e),_n(e),l&512&&(pe||a===null||hi(a,a.return)),e.flags&32){f=e.stateNode;try{Cn(f,"")}catch(G){Wt(e,e.return,G)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,md(e,f,a!==null?a.memoizedProps:f)),l&1024&&(yd=!0);break;case 6:if(vn(s,e),_n(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){Wt(e,e.return,G)}}break;case 3:if(Oc=null,f=Kn,Kn=Ic(s.containerInfo),vn(s,e),Kn=f,_n(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(G){Wt(e,e.return,G)}yd&&(yd=!1,Xv(e));break;case 4:l=Kn,Kn=Ic(e.stateNode.containerInfo),vn(s,e),_n(e),Kn=l;break;case 12:vn(s,e),_n(e);break;case 13:vn(s,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=wn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vd(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Hi,Q=pe;if(Hi=j||f,pe=Q||D,vn(s,e),pe=Q,Hi=j,_n(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||Hi||pe||Ir(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){Wt(D,D.return,G)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(G){Wt(D,D.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vd(e,a))));break;case 19:vn(s,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vd(e,l)));break;case 30:break;case 21:break;default:vn(s,e),_n(e)}}function _n(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=pd(e);vc(e,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(Cn(T,""),a.flags&=-33);var A=pd(e);vc(e,A,T);break;case 3:case 4:var D=a.stateNode.containerInfo,j=pd(e);gd(e,j,D);break;default:throw Error(r(161))}}catch(Q){Wt(e,e.return,Q)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Xv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Xv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function _s(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hv(e,s.alternate,s),s=s.sibling}function Ir(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:vs(4,s,s.return),Ir(s);break;case 1:hi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&kv(s,s.return,a),Ir(s);break;case 27:_l(s.stateNode);case 26:case 5:hi(s,s.return),Ir(s);break;case 22:s.memoizedState===null&&Ir(s);break;case 30:Ir(s);break;default:Ir(s)}e=e.sibling}}function Ts(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ts(f,m,a),ul(4,m);break;case 1:if(Ts(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Wt(l,l.return,j)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)by(D[f],A)}catch(j){Wt(l,l.return,j)}}a&&T&64&&Bv(m),cl(m,m.return);break;case 27:qv(m);case 26:case 5:Ts(f,m,a),a&&l===null&&T&4&&jv(m),cl(m,m.return);break;case 12:Ts(f,m,a);break;case 13:Ts(f,m,a),a&&T&4&&Yv(f,m);break;case 22:m.memoizedState===null&&Ts(f,m,a),cl(m,m.return);break;case 30:break;default:Ts(f,m,a)}s=s.sibling}}function _d(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xo(a))}function Td(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Xo(e))}function fi(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$v(e,s,a,l),s=s.sibling}function $v(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:fi(e,s,a,l),f&2048&&ul(9,s);break;case 1:fi(e,s,a,l);break;case 3:fi(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Xo(e)));break;case 12:if(f&2048){fi(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Wt(s,s.return,D)}}else fi(e,s,a,l);break;case 13:fi(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?fi(e,s,a,l):hl(e,s):m._visibility&2?fi(e,s,a,l):(m._visibility|=2,Ma(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&_d(T,s);break;case 24:fi(e,s,a,l),f&2048&&Td(s.alternate,s);break;default:fi(e,s,a,l)}}function Ma(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,A=a,D=l,j=T.flags;switch(T.tag){case 0:case 11:case 15:Ma(m,T,A,D,f),ul(8,T);break;case 23:break;case 22:var Q=T.stateNode;T.memoizedState!==null?Q._visibility&2?Ma(m,T,A,D,f):hl(m,T):(Q._visibility|=2,Ma(m,T,A,D,f)),f&&j&2048&&_d(T.alternate,T);break;case 24:Ma(m,T,A,D,f),f&&j&2048&&Td(T.alternate,T);break;default:Ma(m,T,A,D,f)}s=s.sibling}}function hl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:hl(a,l),f&2048&&_d(l.alternate,l);break;case 24:hl(a,l),f&2048&&Td(l.alternate,l);break;default:hl(a,l)}s=s.sibling}}var fl=8192;function Oa(e){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Zv(e),e=e.sibling}function Zv(e){switch(e.tag){case 26:Oa(e),e.flags&fl&&e.memoizedState!==null&&Jw(Kn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e);break;case 3:case 4:var s=Kn;Kn=Ic(e.stateNode.containerInfo),Oa(e),Kn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=fl,fl=16777216,Oa(e),fl=s):Oa(e));break;default:Oa(e)}}function Wv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function dl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pe=l,t0(l,e)}Wv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jv(e),e=e.sibling}function Jv(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&vs(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,_c(e)):dl(e);break;default:dl(e)}}function _c(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pe=l,t0(l,e)}Wv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:vs(8,s,s.return),_c(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,_c(s));break;default:_c(s)}e=e.sibling}}function t0(e,s){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:vs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var f=l.sibling,m=l.return;if(Gv(l),l===a){Pe=null;break t}if(f!==null){f.return=m,Pe=f;break t}Pe=m}}}var pw={getCacheForType:function(e){var s=Qe(Ce),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},gw=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Ot=null,Bt=0,Yt=0,Tn=null,Es=!1,Na=!1,Ed=!1,Ki=0,he=0,As=0,Mr=0,Ad=0,Ln=0,Pa=0,ml=null,un=null,Sd=!1,bd=0,Tc=1/0,Ec=null,Ss=null,ze=0,bs=null,La=null,Ua=0,wd=0,Rd=null,e0=null,pl=0,Cd=null;function En(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(F.T!==null){var e=ba;return e!==0?e:Nd()}return rs()}function n0(){Ln===0&&(Ln=(Bt&536870912)===0||qt?bo():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),Ln}function An(e,s,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),ws(e,Bt,Ln,!1)),bi(e,a),((Kt&2)===0||e!==te)&&(e===te&&((Kt&2)===0&&(Mr|=a),he===4&&ws(e,Bt,Ln,!1)),di(e))}function i0(e,s,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||sr(e,s),f=l?_w(e,s):xd(e,s,!0),m=l;do{if(f===0){Na&&!l&&ws(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!yw(a)){f=xd(e,s,!1),m=!1;continue}if(f===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=e;f=ml;var D=A.current.memoizedState.isDehydrated;if(D&&(Ba(A,T).flags|=256),T=xd(A,T,!1),T!==2){if(Ed&&!D){A.errorRecoveryDisabledLanes|=m,Mr|=m,f=4;break t}m=un,un=f,m!==null&&(un===null?un=m:un.push.apply(un,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ba(e,0),ws(e,s,0,!0);break}t:{switch(l=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ws(l,s,Ln,!Es);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=bd+300-wn(),10<f)){if(ws(l,s,Ln,!Es),ea(l,0,!0)!==0)break t;l.timeoutHandle=M0(s0.bind(null,l,a,un,Ec,Sd,s,Ln,Mr,Pa,Es,m,2,-0,0),f);break t}s0(l,a,un,Ec,Sd,s,Ln,Mr,Pa,Es,m,0,-0,0)}}break}while(!0);di(e)}function s0(e,s,a,l,f,m,T,A,D,j,Q,J,q,G){if(e.timeoutHandle=-1,J=s.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:Ww},Zv(s),J=t2(),J!==null)){e.cancelPendingCommit=J(h0.bind(null,e,s,m,a,l,f,T,A,D,Q,1,q,G)),ws(e,m,T,!j);return}h0(e,s,m,a,l,f,T,A,D)}function yw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!gn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(e,s,a,l){s&=~Ad,s&=~Mr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var m=31-Ye(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&Wn(e,a,s)}function Ac(){return(Kt&6)===0?(gl(0),!1):!0}function Dd(){if(Ot!==null){if(Yt===0)var e=Ot.return;else e=Ot,Bi=Rr=null,Gf(e),xa=null,al=0,e=Ot;for(;e!==null;)Uv(e.alternate,e),e=e.return;Ot=null}}function Ba(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dd(),te=e,Ot=a=Pi(e.current,null),Bt=s,Yt=0,Tn=null,Es=!1,Na=sr(e,s),Ed=!1,Pa=Ln=Ad=Mr=As=he=0,un=ml=null,Sd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Ye(l),m=1<<f;s|=e[f],l&=~m}return Ki=s,Hu(),a}function r0(e,s){Vt=null,F.H=uc,s===Zo||s===Ju?(s=Ay(),Yt=3):s===_y?(s=Ay(),Yt=4):Yt=s===Sv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Tn=s,Ot===null&&(he=1,mc(e,In(s,e.current)))}function a0(){var e=F.H;return F.H=uc,e===null?uc:e}function o0(){var e=F.A;return F.A=pw,e}function Vd(){he=4,Es||(Bt&4194048)!==Bt&&Pn.current!==null||(Na=!0),(As&134217727)===0&&(Mr&134217727)===0||te===null||ws(te,Bt,Ln,!1)}function xd(e,s,a){var l=Kt;Kt|=2;var f=a0(),m=o0();(te!==e||Bt!==s)&&(Ec=null,Ba(e,s)),s=!1;var T=he;t:do try{if(Yt!==0&&Ot!==null){var A=Ot,D=Tn;switch(Yt){case 8:Dd(),T=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var j=Yt;if(Yt=0,Tn=null,ka(e,A,D,j),a&&Na){T=0;break t}break;default:j=Yt,Yt=0,Tn=null,ka(e,A,D,j)}}vw(),T=he;break}catch(Q){r0(e,Q)}while(!0);return s&&e.shellSuspendCounter++,Bi=Rr=null,Kt=l,F.H=f,F.A=m,Ot===null&&(te=null,Bt=0,Hu()),T}function vw(){for(;Ot!==null;)l0(Ot)}function _w(e,s){var a=Kt;Kt|=2;var l=a0(),f=o0();te!==e||Bt!==s?(Ec=null,Tc=wn()+500,Ba(e,s)):Na=sr(e,s);t:do try{if(Yt!==0&&Ot!==null){s=Ot;var m=Tn;e:switch(Yt){case 1:Yt=0,Tn=null,ka(e,s,m,1);break;case 2:case 9:if(Ty(m)){Yt=0,Tn=null,u0(s);break}s=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),di(e)},m.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ty(m)?(Yt=0,Tn=null,u0(s)):(Yt=0,Tn=null,ka(e,s,m,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var A=Ot;if(!T||H0(T)){Yt=0,Tn=null;var D=A.sibling;if(D!==null)Ot=D;else{var j=A.return;j!==null?(Ot=j,Sc(j)):Ot=null}break e}}Yt=0,Tn=null,ka(e,s,m,5);break;case 6:Yt=0,Tn=null,ka(e,s,m,6);break;case 8:Dd(),he=6;break t;default:throw Error(r(462))}}Tw();break}catch(Q){r0(e,Q)}while(!0);return Bi=Rr=null,F.H=l,F.A=f,Kt=a,Ot!==null?0:(te=null,Bt=0,Hu(),he)}function Tw(){for(;Ot!==null&&!To();)l0(Ot)}function l0(e){var s=Pv(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,s===null?Sc(e):Ot=s}function u0(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Vv(a,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=Vv(a,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:Gf(s);default:Uv(a,s),s=Ot=cy(s,Ki),s=Pv(a,s,Ki)}e.memoizedProps=e.pendingProps,s===null?Sc(e):Ot=s}function ka(e,s,a,l){Bi=Rr=null,Gf(s),xa=null,al=0;var f=s.return;try{if(uw(e,f,s,a,Bt)){he=1,mc(e,In(a,e.current)),Ot=null;return}}catch(m){if(f!==null)throw Ot=f,m;he=1,mc(e,In(a,e.current)),Ot=null;return}s.flags&32768?(qt||l===1?e=!0:Na||(Bt&536870912)!==0?e=!1:(Es=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c0(s,e)):Sc(s)}function Sc(e){var s=e;do{if((s.flags&32768)!==0){c0(s,Es);return}e=s.return;var a=hw(s.alternate,s,Ki);if(a!==null){Ot=a;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=e}while(s!==null);he===0&&(he=5)}function c0(e,s){do{var a=fw(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);he=6,Ot=null}function h0(e,s,a,l,f,m,T,A,D){e.cancelPendingCommit=null;do bc();while(ze!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Tf,Ro(e,a,m,T,A,D),e===te&&(Ot=te=null,Bt=0),La=s,bs=e,Ua=a,wd=m,Rd=f,e0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bw(tr,function(){return g0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=Y.p,Y.p=2,T=Kt,Kt|=4;try{dw(e,s,a)}finally{Kt=T,Y.p=f,F.T=l}}ze=1,f0(),d0(),m0()}}function f0(){if(ze===1){ze=0;var e=bs,s=La,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=Y.p;Y.p=2;var f=Kt;Kt|=4;try{Qv(s,e);var m=qd,T=ty(e.containerInfo),A=m.focusedElem,D=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&Jg(A.ownerDocument.documentElement,A)){if(D!==null&&pf(A)){var j=D.start,Q=D.end;if(Q===void 0&&(Q=j),"selectionStart"in A)A.selectionStart=j,A.selectionEnd=Math.min(Q,A.value.length);else{var J=A.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),St=A.textContent.length,_t=Math.min(D.start,St),Zt=D.end===void 0?_t:Math.min(D.end,St);!G.extend&&_t>Zt&&(T=Zt,Zt=_t,_t=T);var L=Wg(A,_t),O=Wg(A,Zt);if(L&&O&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var k=J.createRange();k.setStart(L.node,L.offset),G.removeAllRanges(),_t>Zt?(G.addRange(k),G.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),G.addRange(k))}}}}for(J=[],G=A;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var W=J[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Lc=!!zd,qd=zd=null}finally{Kt=f,Y.p=l,F.T=a}}e.current=s,ze=2}}function d0(){if(ze===2){ze=0;var e=bs,s=La,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=Y.p;Y.p=2;var f=Kt;Kt|=4;try{Hv(e,s.alternate,s)}finally{Kt=f,Y.p=l,F.T=a}}ze=3}}function m0(){if(ze===4||ze===3){ze=0,_u();var e=bs,s=La,a=Ua,l=e0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ze=5:(ze=0,La=bs=null,p0(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ss=null),na(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,f=Y.p,Y.p=2,F.T=null;try{for(var m=e.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{F.T=s,Y.p=f}}(Ua&3)!==0&&bc(),di(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Cd?pl++:(pl=0,Cd=e):pl=0,gl(0)}}function p0(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Xo(s)))}function bc(e){return f0(),d0(),m0(),g0()}function g0(){if(ze!==5)return!1;var e=bs,s=wd;wd=0;var a=na(Ua),l=F.T,f=Y.p;try{Y.p=32>a?32:a,F.T=null,a=Rd,Rd=null;var m=bs,T=Ua;if(ze=0,La=bs=null,Ua=0,(Kt&6)!==0)throw Error(r(331));var A=Kt;if(Kt|=4,Jv(m.current),$v(m,m.current,T,a),Kt=A,gl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,m)}catch{}return!0}finally{Y.p=f,F.T=l,p0(e,s)}}function y0(e,s,a){s=In(a,s),s=rd(e.stateNode,s,2),e=ms(e,s,2),e!==null&&(bi(e,2),di(e))}function Wt(e,s,a){if(e.tag===3)y0(e,e,a);else for(;s!==null;){if(s.tag===3){y0(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ss===null||!Ss.has(l))){e=In(a,e),a=Ev(2),l=ms(s,a,2),l!==null&&(Av(a,l,s,e),bi(l,2),di(l));break}}s=s.return}}function Id(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new gw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Ed=!0,f.add(a),e=Ew.bind(null,e,s,a),s.then(e,e))}function Ew(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Bt&a)===a&&(he===4||he===3&&(Bt&62914560)===Bt&&300>wn()-bd?(Kt&2)===0&&Ba(e,0):Ad|=a,Pa===Bt&&(Pa=0)),di(e)}function v0(e,s){s===0&&(s=wo()),e=Ta(e,s),e!==null&&(bi(e,s),di(e))}function Aw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),v0(e,a)}function Sw(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),v0(e,a)}function bw(e,s){return Ws(e,s)}var wc=null,ja=null,Md=!1,Rc=!1,Od=!1,Or=0;function di(e){e!==ja&&e.next===null&&(ja===null?wc=ja=e:ja=ja.next=e),Rc=!0,Md||(Md=!0,Rw())}function gl(e,s){if(!Od&&Rc){Od=!0;do for(var a=!1,l=wc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-Ye(42|e)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,A0(l,m))}else m=Bt,m=ea(l,l===te?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||sr(l,m)||(a=!0,A0(l,m));l=l.next}while(a);Od=!1}}function ww(){_0()}function _0(){Rc=Md=!1;var e=0;Or!==0&&(Nw()&&(e=Or),Or=0);for(var s=wn(),a=null,l=wc;l!==null;){var f=l.next,m=T0(l,s);m===0?(l.next=null,a===null?wc=f:a.next=f,f===null&&(ja=a)):(a=l,(e!==0||(m&3)!==0)&&(Rc=!0)),l=f}gl(e)}function T0(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Ye(m),A=1<<T,D=f[T];D===-1?((A&a)===0||(A&l)!==0)&&(f[T]=So(A,s)):D<=s&&(e.expiredLanes|=A),m&=~A}if(s=te,a=Bt,a=ea(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Js(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||sr(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Js(l),na(a)){case 2:case 8:a=Jr;break;case 32:a=tr;break;case 268435456:a=ta;break;default:a=tr}return l=E0.bind(null,e),a=Ws(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Js(l),e.callbackPriority=2,e.callbackNode=null,2}function E0(e,s){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bc()&&e.callbackNode!==a)return null;var l=Bt;return l=ea(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(i0(e,l,s),T0(e,wn()),e.callbackNode!=null&&e.callbackNode===a?E0.bind(null,e):null)}function A0(e,s){if(bc())return null;i0(e,s,!0)}function Rw(){Lw(function(){(Kt&6)!==0?Ws(Eo,ww):_0()})}function Nd(){return Or===0&&(Or=bo()),Or}function S0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function b0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Cw(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=S0((f[ve]||null).action),T=l.submitter;T&&(s=(s=T[ve]||null)?S0(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var A=new ua("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Or!==0){var D=T?b0(f,T):new FormData(f);td(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?b0(f,T):new FormData(f),td(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Pd=0;Pd<_f.length;Pd++){var Ld=_f[Pd],Dw=Ld.toLowerCase(),Vw=Ld[0].toUpperCase()+Ld.slice(1);Gn(Dw,"on"+Vw)}Gn(iy,"onAnimationEnd"),Gn(sy,"onAnimationIteration"),Gn(ry,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Kb,"onTransitionRun"),Gn(Yb,"onTransitionStart"),Gn(Qb,"onTransitionCancel"),Gn(ay,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function w0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var A=l[T],D=A.instance,j=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=j;try{m(f)}catch(Q){dc(Q)}f.currentTarget=null,m=D}else for(T=0;T<l.length;T++){if(A=l[T],D=A.instance,j=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=j;try{m(f)}catch(Q){dc(Q)}f.currentTarget=null,m=D}}}}function Nt(e,s){var a=s[Do];a===void 0&&(a=s[Do]=new Set);var l=e+"__bubble";a.has(l)||(R0(s,e,2,!1),a.add(l))}function Ud(e,s,a){var l=0;s&&(l|=4),R0(a,e,l,s)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Cc]){e[Cc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(xw.has(a)||Ud(a,!1,e),Ud(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Cc]||(s[Cc]=!0,Ud("selectionchange",!1,s))}}function R0(e,s,a,l){switch($0(s)){case 2:var f=i2;break;case 8:f=s2;break;default:f=Wd}a=f.bind(null,s,a,e),f=void 0,!Vn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function kd(e,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=wi(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=m=T;continue t}A=A.parentNode}}l=l.return}Vu(function(){var j=m,Q=Dn(a),J=[];t:{var q=oy.get(e);if(q!==void 0){var G=ua,St=e;switch(e){case"keypress":if(si(a)===0)break t;case"keydown":case"keyup":G=pa;break;case"focusin":St="focus",G=fa;break;case"focusout":St="blur",G=fa;break;case"beforeblur":case"afterblur":G=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Uu;break;case iy:case sy:case ry:G=da;break;case ay:G=ku;break;case"scroll":case"scrollend":G=xu;break;case"wheel":G=ga;break;case"copy":case"cut":case"paste":G=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zo;break;case"toggle":case"beforetoggle":G=zu}var _t=(s&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),L=_t?q!==null?q+"Capture":null:q;_t=[];for(var O=j,k;O!==null;){var W=O;if(k=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||k===null||L===null||(W=fr(O,L),W!=null&&_t.push(vl(O,W,k))),Zt)break;O=O.return}0<_t.length&&(q=new G(q,St,null,a,Q),J.push({event:q,listeners:_t}))}}if((s&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==Vi&&(St=a.relatedTarget||a.fromElement)&&(wi(St)||St[Rn]))break t;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(St=a.relatedTarget||a.toElement,G=j,St=St?wi(St):null,St!==null&&(Zt=u(St),_t=St.tag,St!==Zt||_t!==5&&_t!==27&&_t!==6)&&(St=null)):(G=null,St=j),G!==St)){if(_t=xn,W="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=zo,W="onPointerLeave",L="onPointerEnter",O="pointer"),Zt=G==null?q:ti(G),k=St==null?q:ti(St),q=new _t(W,O+"leave",G,a,Q),q.target=Zt,q.relatedTarget=k,W=null,wi(Q)===j&&(_t=new _t(L,O+"enter",St,a,Q),_t.target=k,_t.relatedTarget=Zt,W=_t),Zt=W,G&&St)e:{for(_t=G,L=St,O=0,k=_t;k;k=za(k))O++;for(k=0,W=L;W;W=za(W))k++;for(;0<O-k;)_t=za(_t),O--;for(;0<k-O;)L=za(L),k--;for(;O--;){if(_t===L||L!==null&&_t===L.alternate)break e;_t=za(_t),L=za(L)}_t=null}else _t=null;G!==null&&C0(J,q,G,_t,!1),St!==null&&Zt!==null&&C0(J,Zt,St,_t,!0)}}t:{if(q=j?ti(j):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var mt=Kg;else if(Re(q))if(Yg)mt=Fb;else{mt=zb;var Mt=jb}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&No(j.elementType)&&(mt=Kg):mt=qb;if(mt&&(mt=mt(e,j))){Ni(J,mt,a,Q);break t}Mt&&Mt(e,q,j),e==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&us(q,"number",q.value)}switch(Mt=j?ti(j):window,e){case"focusin":(Re(Mt)||Mt.contentEditable==="true")&&(ya=Mt,gf=j,Ho=null);break;case"focusout":Ho=gf=ya=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,ey(J,a,Q);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":ey(J,a,Q)}var gt;if(oi)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Lt?K(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Lt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Lt&&(gt=Lo()):(ii=Q,cs="value"in ii?ii.value:ii.textContent,Lt=!0)),Mt=Dc(j,Tt),0<Mt.length&&(Tt=new ko(Tt,e,null,a,Q),J.push({event:Tt,listeners:Mt}),gt?Tt.data=gt:(gt=lt(a),gt!==null&&(Tt.data=gt)))),(gt=y?we(e,a):Ut(e,a))&&(Tt=Dc(j,"onBeforeInput"),0<Tt.length&&(Mt=new ko("onBeforeInput","beforeinput",null,a,Q),J.push({event:Mt,listeners:Tt}),Mt.data=gt)),Cw(J,e,j,a,Q)}w0(J,s)})}function vl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Dc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=fr(e,a),f!=null&&l.unshift(vl(e,f,m)),f=fr(e,s),f!=null&&l.push(vl(e,f,m))),e.tag===3)return l;e=e.return}return[]}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function C0(e,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var A=a,D=A.alternate,j=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||j===null||(D=j,f?(j=fr(a,m),j!=null&&T.unshift(vl(a,j,D))):f||(j=fr(a,m),j!=null&&T.push(vl(a,j,D)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var Iw=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function D0(e){return(typeof e=="string"?e:""+e).replace(Iw,`
`).replace(Mw,"")}function V0(e,s){return s=D0(s),D0(e)===s}function Vc(){}function $t(e,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Cn(e,""+l);break;case"className":ei(e,"class",l);break;case"tabIndex":ei(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(e,a,l);break;case"style":Oo(e,l,m);break;case"data":if(s!=="object"){ei(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=la(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&$t(e,s,"name",f.name,f,null),$t(e,s,"formEncType",f.formEncType,f,null),$t(e,s,"formMethod",f.formMethod,f,null),$t(e,s,"formTarget",f.formTarget,f,null)):($t(e,s,"encType",f.encType,f,null),$t(e,s,"method",f.method,f,null),$t(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=la(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Vc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ls(e,"popover",l);break;case"xlinkActuate":Be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uf.get(a)||a,ls(e,a,l))}}function jd(e,s,a,l,f,m){switch(a){case"style":Oo(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&Cn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=e[ve]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ls(e,a,l)}}}function qe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(e,s,m,T,a,null)}}f&&$t(e,s,"srcSet",a.srcSet,a,null),l&&$t(e,s,"src",a.src,a,null);return;case"input":Nt("invalid",e);var A=m=T=f=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":T=Q;break;case"checked":D=Q;break;case"defaultChecked":j=Q;break;case"value":m=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:$t(e,s,l,Q,a,null)}}ur(e,m,A,D,j,T,f,!1),oa(e);return;case"select":Nt("invalid",e),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:$t(e,s,f,A,a,null)}s=m,a=T,e.multiple=!!l,s!=null?Di(e,!!l,s,!1):a!=null&&Di(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:$t(e,s,T,A,a,null)}cr(e,l,f,m),oa(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,s,D,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)Nt(yl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(e,s,j,l,a,null)}return;default:if(No(s)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&jd(e,s,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&$t(e,s,A,l,a,null))}function Ow(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,D=null,j=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(G)||$t(e,s,G,null,l,J)}}for(var q in l){var G=l[q];if(J=a[q],l.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":m=G;break;case"name":f=G;break;case"checked":j=G;break;case"defaultChecked":Q=G;break;case"value":T=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==J&&$t(e,s,q,G,l,J)}}pn(e,T,A,D,j,Q,m,f);return;case"select":G=T=A=q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(m)||$t(e,s,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":q=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&$t(e,s,f,m,l,D)}s=A,a=T,l=G,q!=null?Di(e,!!a,q,!1):!!l!=!!a&&(s!=null?Di(e,!!a,s,!0):Di(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:$t(e,s,A,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&$t(e,s,T,f,l,m)}Qt(e,q,G);return;case"option":for(var St in a)if(q=a[St],a.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:$t(e,s,St,null,l,q)}for(D in l)if(q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(e,s,D,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&$t(e,s,_t,null,l,q);for(j in l)if(q=l[j],G=a[j],l.hasOwnProperty(j)&&q!==G&&(q!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:$t(e,s,j,q,l,G)}return;default:if(No(s)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&jd(e,s,Zt,void 0,l,q);for(Q in l)q=l[Q],G=a[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||jd(e,s,Q,q,l,G);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&$t(e,s,L,null,l,q);for(J in l)q=l[J],G=a[J],!l.hasOwnProperty(J)||q===G||q==null&&G==null||$t(e,s,J,q,l,G)}var zd=null,qd=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function x0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Fd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hd=null;function Nw(){var e=window.event;return e&&e.type==="popstate"?e===Hd?!1:(Hd=e,!0):(Hd=null,!1)}var M0=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(e){return O0.resolve(null).then(e).catch(Uw)}:M0;function Uw(e){setTimeout(function(){throw e})}function Rs(e){return e==="head"}function N0(e,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&_l(T.documentElement),a&2&&_l(T.body),a&4)for(a=T.head,_l(a),T=a.firstChild;T;){var A=T.nextSibling,D=T.nodeName;T[rr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(f===0){e.removeChild(m),Cl(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Cl(s)}function Gd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Bw(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rr])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function kw(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function Kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function jw(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Yd=null;function P0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function L0(e,s,a){switch(s=xc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function _l(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);os(e)}var Un=new Map,U0=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=Y.d;Y.d={f:zw,r:qw,D:Fw,C:Hw,L:Gw,m:Kw,X:Qw,S:Yw,M:Xw};function zw(){var e=Yi.f(),s=Ac();return e||s}function qw(e){var s=Jn(e);s!==null&&s.tag===5&&s.type==="form"?iv(s):Yi.r(e)}var qa=typeof document>"u"?null:document;function B0(e,s,a){var l=qa;if(l&&typeof s=="string"&&s){var f=_e(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),U0.has(f)||(U0.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),qe(s,"link",e),de(s),l.head.appendChild(s)))}}function Fw(e){Yi.D(e),B0("dns-prefetch",e,null)}function Hw(e,s){Yi.C(e,s),B0("preconnect",e,s)}function Gw(e,s,a){Yi.L(e,s,a);var l=qa;if(l&&e&&s){var f='link[rel="preload"][as="'+_e(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_e(a.imageSizes)+'"]')):f+='[href="'+_e(e)+'"]';var m=f;switch(s){case"style":m=Fa(e);break;case"script":m=Ha(e)}Un.has(m)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Un.set(m,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Tl(m))||s==="script"&&l.querySelector(El(m))||(s=l.createElement("link"),qe(s,"link",e),de(s),l.head.appendChild(s)))}}function Kw(e,s){Yi.m(e,s);var a=qa;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ha(e)}if(!Un.has(m)&&(e=v({rel:"modulepreload",href:e},s),Un.set(m,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(m)))return}l=a.createElement("link"),qe(l,"link",e),de(l),a.head.appendChild(l)}}}function Yw(e,s,a){Yi.S(e,s,a);var l=qa;if(l&&e){var f=en(l).hoistableStyles,m=Fa(e);s=s||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(Tl(m)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Un.get(m))&&Qd(e,a);var D=T=l.createElement("link");de(D),qe(D,"link",e),D._p=new Promise(function(j,Q){D.onload=j,D.onerror=Q}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function Qw(e,s){Yi.X(e,s);var a=qa;if(a&&e){var l=en(a).hoistableScripts,f=Ha(e),m=l.get(f);m||(m=a.querySelector(El(f)),m||(e=v({src:e,async:!0},s),(s=Un.get(f))&&Xd(e,s),m=a.createElement("script"),de(m),qe(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Xw(e,s){Yi.M(e,s);var a=qa;if(a&&e){var l=en(a).hoistableScripts,f=Ha(e),m=l.get(f);m||(m=a.querySelector(El(f)),m||(e=v({src:e,async:!0,type:"module"},s),(s=Un.get(f))&&Xd(e,s),m=a.createElement("script"),de(m),qe(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function k0(e,s,a,l){var f=(f=wt.current)?Ic(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Fa(a.href),a=en(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var m=en(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Tl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),m||$w(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ha(a),a=en(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+_e(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function j0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function $w(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),qe(s,"link",a),de(s),e.head.appendChild(s))}function Ha(e){return'[src="'+_e(e)+'"]'}function El(e){return"script[async]"+e}function z0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return s.instance=l,de(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),de(l),qe(l,"style",f),Mc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Fa(a.href);var m=e.querySelector(Tl(f));if(m)return s.state.loading|=4,s.instance=m,de(m),m;l=j0(a),(f=Un.get(f))&&Qd(l,f),m=(e.ownerDocument||e).createElement("link"),de(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),qe(m,"link",l),s.state.loading|=4,Mc(m,a.precedence,e),s.instance=m;case"script":return m=Ha(a.src),(f=e.querySelector(El(m)))?(s.instance=f,de(f),f):(l=a,(f=Un.get(m))&&(l=v({},a),Xd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),de(f),qe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Mc(l,a.precedence,e));return s.instance}function Mc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Qd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Xd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Oc=null;function q0(e,s,a){if(Oc===null){var l=new Map,f=Oc=new Map;f.set(a,l)}else f=Oc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[rr]||m[be]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function F0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Zw(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function H0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Al=null;function Ww(){}function Jw(e,s,a){if(Al===null)throw Error(r(475));var l=Al;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Fa(a.href),m=e.querySelector(Tl(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Nc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,de(m);return}m=e.ownerDocument||e,a=j0(a),(f=Un.get(f))&&Qd(a,f),m=m.createElement("link"),de(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),qe(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Nc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function t2(){if(Al===null)throw Error(r(475));var e=Al;return e.stylesheets&&e.count===0&&$d(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function $d(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,s.forEach(e2,e),Pc=null,Nc.call(e))}function e2(e,s){if(!(s.state.loading&4)){var a=Pc.get(e);if(a)var l=a.get(null);else{a=new Map,Pc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=Nc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Sl={$$typeof:X,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function n2(e,s,a,l,f,m,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function G0(e,s,a,l,f,m,T,A,D,j,Q,J){return e=new n2(e,s,a,T,A,D,j,J),s=1,m===!0&&(s|=24),m=yn(3,null,null,s),e.current=m,m.stateNode=e,s=If(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Pf(m),e}function K0(e){return e?(e=Ea,e):Ea}function Y0(e,s,a,l,f,m){f=K0(f),l.context===null?l.context=f:l.pendingContext=f,l=ds(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ms(e,l,s),a!==null&&(An(a,e,s),Jo(a,e,s))}function Q0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Zd(e,s){Q0(e,s),(e=e.alternate)&&Q0(e,s)}function X0(e){if(e.tag===13){var s=Ta(e,67108864);s!==null&&An(s,e,67108864),Zd(e,67108864)}}var Lc=!0;function i2(e,s,a,l){var f=F.T;F.T=null;var m=Y.p;try{Y.p=2,Wd(e,s,a,l)}finally{Y.p=m,F.T=f}}function s2(e,s,a,l){var f=F.T;F.T=null;var m=Y.p;try{Y.p=8,Wd(e,s,a,l)}finally{Y.p=m,F.T=f}}function Wd(e,s,a,l){if(Lc){var f=Jd(l);if(f===null)kd(e,s,l,Uc,a),Z0(e,l);else if(a2(f,e,s,a,l))l.stopPropagation();else if(Z0(e,l),s&4&&-1<r2.indexOf(e)){for(;f!==null;){var m=Jn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=qn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Ye(T);A.entanglements[1]|=D,T&=~D}di(m),(Kt&6)===0&&(Tc=wn()+500,gl(0))}}break;case 13:A=Ta(m,2),A!==null&&An(A,m,2),Ac(),Zd(m,2)}if(m=Jd(l),m===null&&kd(e,s,l,Uc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else kd(e,s,l,null,a)}}function Jd(e){return e=Dn(e),tm(e)}var Uc=null;function tm(e){if(Uc=null,e=wi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=h(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Uc=e,null}function $0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nf()){case Eo:return 2;case Jr:return 8;case tr:case sf:return 32;case ta:return 268435456;default:return 32}default:return 32}}var em=!1,Cs=null,Ds=null,Vs=null,bl=new Map,wl=new Map,xs=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z0(e,s){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":bl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(s.pointerId)}}function Rl(e,s,a,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Jn(s),s!==null&&X0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function a2(e,s,a,l,f){switch(s){case"focusin":return Cs=Rl(Cs,e,s,a,l,f),!0;case"dragenter":return Ds=Rl(Ds,e,s,a,l,f),!0;case"mouseover":return Vs=Rl(Vs,e,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return bl.set(m,Rl(bl.get(m)||null,e,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,wl.set(m,Rl(wl.get(m)||null,e,s,a,l,f)),!0}return!1}function W0(e){var s=wi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){e.blockedOn=s,Au(e.priority,function(){if(a.tag===13){var l=En();l=ss(l);var f=Ta(a,l);f!==null&&An(f,a,l),Zd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return s=Jn(a),s!==null&&X0(s),e.blockedOn=a,!1;s.shift()}return!0}function J0(e,s,a){Bc(e)&&a.delete(s)}function o2(){em=!1,Cs!==null&&Bc(Cs)&&(Cs=null),Ds!==null&&Bc(Ds)&&(Ds=null),Vs!==null&&Bc(Vs)&&(Vs=null),bl.forEach(J0),wl.forEach(J0)}function kc(e,s){e.blockedOn===s&&(e.blockedOn=null,em||(em=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,o2)))}var jc=null;function t_(e){jc!==e&&(jc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var m=Jn(a);m!==null&&(e.splice(s,3),s-=3,td(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Cl(e){function s(D){return kc(D,e)}Cs!==null&&kc(Cs,e),Ds!==null&&kc(Ds,e),Vs!==null&&kc(Vs,e),bl.forEach(s),wl.forEach(s);for(var a=0;a<xs.length;a++){var l=xs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xs.length&&(a=xs[0],a.blockedOn===null);)W0(a),a.blockedOn===null&&xs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[ve]||null;if(typeof m=="function")T||t_(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ve]||null)A=T.formAction;else if(tm(f)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),t_(a)}}}function nm(e){this._internalRoot=e}zc.prototype.render=nm.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=En();Y0(a,l,e,s,null,null)},zc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Y0(e.current,2,null,e,null,null),Ac(),s[Rn]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var s=rs();e={blockedOn:null,target:e,priority:s};for(var a=0;a<xs.length&&s!==0&&s<xs[a].priority;a++);xs.splice(a,0,e),a===0&&W0(e)}};var e_=t.version;if(e_!=="19.1.0")throw Error(r(527,e_,"19.1.0"));Y.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var l2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ue=qc.inject(l2),Gt=qc}catch{}}return Vl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=yv,m=vv,T=_v,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=G0(e,1,!1,null,null,a,l,f,m,T,A,null),e[Rn]=s.current,Bd(e),new nm(s)},Vl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",m=yv,T=vv,A=_v,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),s=G0(e,1,!0,s,a??null,l,f,m,T,A,D,j),s.context=K0(null),a=s.current,l=En(),l=ss(l),f=ds(l),f.callback=null,ms(a,f,l),a=l,s.current.lanes=a,bi(s,a),di(s),e[Rn]=s.current,Bd(e),new zc(s)},Vl.version="19.1.0",Vl}var h_;function _2(){if(h_)return rm.exports;h_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rm.exports=v2(),rm.exports}var T2=_2();const E2=()=>{};var f_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},A2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;p||(R=64,h||(S=64)),r.push(i[v],i[E],i[S],i[R])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(QE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):A2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new S2;const S=u<<2|d>>4;if(r.push(S),g!==64){const R=d<<4&240|g>>2;if(r.push(R),E!==64){const U=g<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class S2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b2=function(n){const t=QE(n);return XE.encodeByteArray(t,!0)},ah=function(n){return b2(n).replace(/\./g,"")},w2=function(n){try{return XE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=()=>R2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof f_>"u")return;const n=f_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&w2(n[1]);return t&&JSON.parse(t)},Ap=()=>{try{return E2()||C2()||D2()||V2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},x2=n=>{var t,i;return(i=(t=Ap())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},I2=n=>{const t=x2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},$E=()=>{var n;return(n=Ap())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ah(JSON.stringify(i)),ah(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P2(){var n;const t=(n=Ap())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function U2(){return!P2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZE(){try{return typeof indexedDB=="object"}catch{return!1}}function WE(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function B2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="FirebaseError";class Qs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=k2,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?j2(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Qs(o,d,r)}}function j2(n,t){return n.replace(z2,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const z2=/\{\$([^}]+)}/g;function Kl(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(d_(u)&&d_(h)){if(!Kl(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function d_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=1e3,F2=2,H2=4*60*60*1e3,G2=.5;function m_(n,t=q2,i=F2){const r=t*Math.pow(i,n),o=Math.round(G2*r*(Math.random()-.5)*2);return Math.min(H2,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n){return n&&n._delegate?n._delegate:n}class $i{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new M2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Q2(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y2(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y2(n){return n===Pr?void 0:n}function Q2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new K2(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const $2={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Z2=jt.INFO,W2={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},J2=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=W2[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sp{constructor(t){this.name=t,this._logLevel=Z2,this._logHandler=J2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const tR=(n,t)=>t.some(i=>n instanceof i);let p_,g_;function eR(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nR(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,Mm=new WeakMap,tA=new WeakMap,um=new WeakMap,bp=new WeakMap;function iR(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Ps(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&JE.set(i,n)}).catch(()=>{}),bp.set(t,n),t}function sR(n){if(Mm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Mm.set(n,t)}let Om={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Mm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||tA.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ps(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function rR(n){Om=n(Om)}function aR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(cm(this),t,...i);return tA.set(r,t.sort?t.sort():[t]),Ps(r)}:nR().includes(n)?function(...t){return n.apply(cm(this),t),Ps(JE.get(this))}:function(...t){return Ps(n.apply(cm(this),t))}}function oR(n){return typeof n=="function"?aR(n):(n instanceof IDBTransaction&&sR(n),tR(n,eR())?new Proxy(n,Om):n)}function Ps(n){if(n instanceof IDBRequest)return iR(n);if(um.has(n))return um.get(n);const t=oR(n);return t!==n&&(um.set(n,t),bp.set(t,n)),t}const cm=n=>bp.get(n);function eA(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=Ps(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Ps(h.result),p.oldVersion,p.newVersion,Ps(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const lR=["get","getKey","getAll","getAllKeys","count"],uR=["put","add","delete","clear"],hm=new Map;function y_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(hm.get(t))return hm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=uR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||lR.includes(i)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return hm.set(t,u),u}rR(n=>({...n,get:(t,i,r)=>y_(t,i)||n.get(t,i,r),has:(t,i)=>!!y_(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function hR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nm="@firebase/app",v_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Sp("@firebase/app"),fR="@firebase/app-compat",dR="@firebase/analytics-compat",mR="@firebase/analytics",pR="@firebase/app-check-compat",gR="@firebase/app-check",yR="@firebase/auth",vR="@firebase/auth-compat",_R="@firebase/database",TR="@firebase/data-connect",ER="@firebase/database-compat",AR="@firebase/functions",SR="@firebase/functions-compat",bR="@firebase/installations",wR="@firebase/installations-compat",RR="@firebase/messaging",CR="@firebase/messaging-compat",DR="@firebase/performance",VR="@firebase/performance-compat",xR="@firebase/remote-config",IR="@firebase/remote-config-compat",MR="@firebase/storage",OR="@firebase/storage-compat",NR="@firebase/firestore",PR="@firebase/vertexai",LR="@firebase/firestore-compat",UR="firebase",BR="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",kR={[Nm]:"fire-core",[fR]:"fire-core-compat",[mR]:"fire-analytics",[dR]:"fire-analytics-compat",[gR]:"fire-app-check",[pR]:"fire-app-check-compat",[yR]:"fire-auth",[vR]:"fire-auth-compat",[_R]:"fire-rtdb",[TR]:"fire-data-connect",[ER]:"fire-rtdb-compat",[AR]:"fire-fn",[SR]:"fire-fn-compat",[bR]:"fire-iid",[wR]:"fire-iid-compat",[RR]:"fire-fcm",[CR]:"fire-fcm-compat",[DR]:"fire-perf",[VR]:"fire-perf-compat",[xR]:"fire-rc",[IR]:"fire-rc-compat",[MR]:"fire-gcs",[OR]:"fire-gcs-compat",[NR]:"fire-fst",[LR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,jR=new Map,Lm=new Map;function __(n,t){try{n.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function ks(n){const t=n.name;if(Lm.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Lm.set(t,n);for(const i of oh.values())__(i,n);for(const i of jR.values())__(i,n);return!0}function cu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function zR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Ih("app","Firebase",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=BR;function nA(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Pm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(i||(i=$E()),!i)throw Ls.create("no-options");const u=oh.get(o);if(u){if(Kl(i,u.options)&&Kl(r,u.config))return u;throw Ls.create("duplicate-app",{appName:o})}const h=new X2(o);for(const p of Lm.values())h.addComponent(p);const d=new FR(i,r,h);return oh.set(o,d),d}function iA(n=Pm){const t=oh.get(n);if(!t&&n===Pm&&$E())return nA();if(!t)throw Ls.create("no-app",{appName:n});return t}function pi(n,t,i){var r;let o=(r=kR[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}ks(new $i(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebase-heartbeat-database",KR=1,Yl="firebase-heartbeat-store";let fm=null;function sA(){return fm||(fm=eA(GR,KR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),fm}async function YR(n){try{const i=(await sA()).transaction(Yl),r=await i.objectStore(Yl).get(rA(n));return await i.done,r}catch(t){if(t instanceof Qs)Zi.warn(t.message);else{const i=Ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(i.message)}}}async function T_(n,t){try{const r=(await sA()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(t,rA(n)),await r.done}catch(i){if(i instanceof Qs)Zi.warn(i.message);else{const r=Ls.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Zi.warn(r.message)}}}function rA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1024,XR=30;class $R{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new WR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>XR){const h=JR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=E_(),{heartbeatsToSend:r,unsentEntries:o}=ZR(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Zi.warn(i),""}}}function E_(){return new Date().toISOString().substring(0,10)}function ZR(n,t=QR){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),A_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),A_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class WR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZE()?WE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function A_(n){return ah(JSON.stringify({version:2,heartbeats:n})).length}function JR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){ks(new $i("platform-logger",t=>new cR(t),"PRIVATE")),ks(new $i("heartbeat",t=>new $R(t),"PRIVATE")),pi(Nm,v_,n),pi(Nm,v_,"esm2017"),pi("fire-js","")}tC("");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,aA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function C(){}C.prototype=w.prototype,I.D=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(M,N,P){for(var V=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)V[ne-2]=arguments[ne];return w.prototype[N].apply(M,V)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);var M=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)M[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;16>N;++N)M[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],N=I.g[2];var P=I.g[3],V=w+(P^C&(N^P))+M[0]+3614090360&4294967295;w=C+(V<<7&4294967295|V>>>25),V=P+(N^w&(C^N))+M[1]+3905402710&4294967295,P=w+(V<<12&4294967295|V>>>20),V=N+(C^P&(w^C))+M[2]+606105819&4294967295,N=P+(V<<17&4294967295|V>>>15),V=C+(w^N&(P^w))+M[3]+3250441966&4294967295,C=N+(V<<22&4294967295|V>>>10),V=w+(P^C&(N^P))+M[4]+4118548399&4294967295,w=C+(V<<7&4294967295|V>>>25),V=P+(N^w&(C^N))+M[5]+1200080426&4294967295,P=w+(V<<12&4294967295|V>>>20),V=N+(C^P&(w^C))+M[6]+2821735955&4294967295,N=P+(V<<17&4294967295|V>>>15),V=C+(w^N&(P^w))+M[7]+4249261313&4294967295,C=N+(V<<22&4294967295|V>>>10),V=w+(P^C&(N^P))+M[8]+1770035416&4294967295,w=C+(V<<7&4294967295|V>>>25),V=P+(N^w&(C^N))+M[9]+2336552879&4294967295,P=w+(V<<12&4294967295|V>>>20),V=N+(C^P&(w^C))+M[10]+4294925233&4294967295,N=P+(V<<17&4294967295|V>>>15),V=C+(w^N&(P^w))+M[11]+2304563134&4294967295,C=N+(V<<22&4294967295|V>>>10),V=w+(P^C&(N^P))+M[12]+1804603682&4294967295,w=C+(V<<7&4294967295|V>>>25),V=P+(N^w&(C^N))+M[13]+4254626195&4294967295,P=w+(V<<12&4294967295|V>>>20),V=N+(C^P&(w^C))+M[14]+2792965006&4294967295,N=P+(V<<17&4294967295|V>>>15),V=C+(w^N&(P^w))+M[15]+1236535329&4294967295,C=N+(V<<22&4294967295|V>>>10),V=w+(N^P&(C^N))+M[1]+4129170786&4294967295,w=C+(V<<5&4294967295|V>>>27),V=P+(C^N&(w^C))+M[6]+3225465664&4294967295,P=w+(V<<9&4294967295|V>>>23),V=N+(w^C&(P^w))+M[11]+643717713&4294967295,N=P+(V<<14&4294967295|V>>>18),V=C+(P^w&(N^P))+M[0]+3921069994&4294967295,C=N+(V<<20&4294967295|V>>>12),V=w+(N^P&(C^N))+M[5]+3593408605&4294967295,w=C+(V<<5&4294967295|V>>>27),V=P+(C^N&(w^C))+M[10]+38016083&4294967295,P=w+(V<<9&4294967295|V>>>23),V=N+(w^C&(P^w))+M[15]+3634488961&4294967295,N=P+(V<<14&4294967295|V>>>18),V=C+(P^w&(N^P))+M[4]+3889429448&4294967295,C=N+(V<<20&4294967295|V>>>12),V=w+(N^P&(C^N))+M[9]+568446438&4294967295,w=C+(V<<5&4294967295|V>>>27),V=P+(C^N&(w^C))+M[14]+3275163606&4294967295,P=w+(V<<9&4294967295|V>>>23),V=N+(w^C&(P^w))+M[3]+4107603335&4294967295,N=P+(V<<14&4294967295|V>>>18),V=C+(P^w&(N^P))+M[8]+1163531501&4294967295,C=N+(V<<20&4294967295|V>>>12),V=w+(N^P&(C^N))+M[13]+2850285829&4294967295,w=C+(V<<5&4294967295|V>>>27),V=P+(C^N&(w^C))+M[2]+4243563512&4294967295,P=w+(V<<9&4294967295|V>>>23),V=N+(w^C&(P^w))+M[7]+1735328473&4294967295,N=P+(V<<14&4294967295|V>>>18),V=C+(P^w&(N^P))+M[12]+2368359562&4294967295,C=N+(V<<20&4294967295|V>>>12),V=w+(C^N^P)+M[5]+4294588738&4294967295,w=C+(V<<4&4294967295|V>>>28),V=P+(w^C^N)+M[8]+2272392833&4294967295,P=w+(V<<11&4294967295|V>>>21),V=N+(P^w^C)+M[11]+1839030562&4294967295,N=P+(V<<16&4294967295|V>>>16),V=C+(N^P^w)+M[14]+4259657740&4294967295,C=N+(V<<23&4294967295|V>>>9),V=w+(C^N^P)+M[1]+2763975236&4294967295,w=C+(V<<4&4294967295|V>>>28),V=P+(w^C^N)+M[4]+1272893353&4294967295,P=w+(V<<11&4294967295|V>>>21),V=N+(P^w^C)+M[7]+4139469664&4294967295,N=P+(V<<16&4294967295|V>>>16),V=C+(N^P^w)+M[10]+3200236656&4294967295,C=N+(V<<23&4294967295|V>>>9),V=w+(C^N^P)+M[13]+681279174&4294967295,w=C+(V<<4&4294967295|V>>>28),V=P+(w^C^N)+M[0]+3936430074&4294967295,P=w+(V<<11&4294967295|V>>>21),V=N+(P^w^C)+M[3]+3572445317&4294967295,N=P+(V<<16&4294967295|V>>>16),V=C+(N^P^w)+M[6]+76029189&4294967295,C=N+(V<<23&4294967295|V>>>9),V=w+(C^N^P)+M[9]+3654602809&4294967295,w=C+(V<<4&4294967295|V>>>28),V=P+(w^C^N)+M[12]+3873151461&4294967295,P=w+(V<<11&4294967295|V>>>21),V=N+(P^w^C)+M[15]+530742520&4294967295,N=P+(V<<16&4294967295|V>>>16),V=C+(N^P^w)+M[2]+3299628645&4294967295,C=N+(V<<23&4294967295|V>>>9),V=w+(N^(C|~P))+M[0]+4096336452&4294967295,w=C+(V<<6&4294967295|V>>>26),V=P+(C^(w|~N))+M[7]+1126891415&4294967295,P=w+(V<<10&4294967295|V>>>22),V=N+(w^(P|~C))+M[14]+2878612391&4294967295,N=P+(V<<15&4294967295|V>>>17),V=C+(P^(N|~w))+M[5]+4237533241&4294967295,C=N+(V<<21&4294967295|V>>>11),V=w+(N^(C|~P))+M[12]+1700485571&4294967295,w=C+(V<<6&4294967295|V>>>26),V=P+(C^(w|~N))+M[3]+2399980690&4294967295,P=w+(V<<10&4294967295|V>>>22),V=N+(w^(P|~C))+M[10]+4293915773&4294967295,N=P+(V<<15&4294967295|V>>>17),V=C+(P^(N|~w))+M[1]+2240044497&4294967295,C=N+(V<<21&4294967295|V>>>11),V=w+(N^(C|~P))+M[8]+1873313359&4294967295,w=C+(V<<6&4294967295|V>>>26),V=P+(C^(w|~N))+M[15]+4264355552&4294967295,P=w+(V<<10&4294967295|V>>>22),V=N+(w^(P|~C))+M[6]+2734768916&4294967295,N=P+(V<<15&4294967295|V>>>17),V=C+(P^(N|~w))+M[13]+1309151649&4294967295,C=N+(V<<21&4294967295|V>>>11),V=w+(N^(C|~P))+M[4]+4149444226&4294967295,w=C+(V<<6&4294967295|V>>>26),V=P+(C^(w|~N))+M[11]+3174756917&4294967295,P=w+(V<<10&4294967295|V>>>22),V=N+(w^(P|~C))+M[2]+718787259&4294967295,N=P+(V<<15&4294967295|V>>>17),V=C+(P^(N|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var C=w-this.blockSize,M=this.B,N=this.h,P=0;P<w;){if(N==0)for(;P<=C;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(M[N++]=I.charCodeAt(P++),N==this.blockSize){o(this,M),N=0;break}}else for(;P<w;)if(M[N++]=I[P++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var C=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=C&255,C/=256;for(this.u(I),I=Array(16),w=C=0;4>w;++w)for(var M=0;32>M;M+=8)I[C++]=this.g[w]>>>M&255;return I};function u(I,w){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function h(I,w){this.h=w;for(var C=[],M=!0,N=I.length-1;0<=N;N--){var P=I[N]|0;M&&P==w||(C[N]=P,M=!1)}this.g=C}var d={};function p(I){return-128<=I&&128>I?u(I,function(w){return new h([w|0],0>w?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(0>I)return z(g(-I));for(var w=[],C=1,M=0;I>=C;M++)w[M]=I/C|0,C*=4294967296;return new h(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return z(v(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),M=E,N=0;N<I.length;N+=8){var P=Math.min(8,I.length-N),V=parseInt(I.substring(N,N+P),w);8>P?(P=g(Math.pow(w,P)),M=M.j(P).add(g(V))):(M=M.j(C),M=M.add(g(V)))}return M}var E=p(0),S=p(1),R=p(16777216);n=h.prototype,n.m=function(){if(H(this))return-z(this).m();for(var I=0,w=1,C=0;C<this.g.length;C++){var M=this.i(C);I+=(0<=M?M:4294967296+M)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(H(this))return"-"+z(this).toString(I);for(var w=g(Math.pow(I,6)),C=this,M="";;){var N=ft(C,w).g;C=et(C,N.j(w));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=N,U(C))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function H(I){return I.h==-1}n.l=function(I){return I=et(this,I),H(I)?-1:U(I)?0:1};function z(I){for(var w=I.g.length,C=[],M=0;M<w;M++)C[M]=~I.g[M];return new h(C,~I.h).add(S)}n.abs=function(){return H(this)?z(this):this},n.add=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0,N=0;N<=w;N++){var P=M+(this.i(N)&65535)+(I.i(N)&65535),V=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=V>>>16,P&=65535,V&=65535,C[N]=V<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function et(I,w){return I.add(z(w))}n.j=function(I){if(U(this)||U(I))return E;if(H(this))return H(I)?z(this).j(z(I)):z(z(this).j(I));if(H(I))return z(this.j(z(I)));if(0>this.l(R)&&0>I.l(R))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,C=[],M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<I.g.length;N++){var P=this.i(M)>>>16,V=this.i(M)&65535,ne=I.i(N)>>>16,pt=I.i(N)&65535;C[2*M+2*N]+=V*pt,ot(C,2*M+2*N),C[2*M+2*N+1]+=P*pt,ot(C,2*M+2*N+1),C[2*M+2*N+1]+=V*ne,ot(C,2*M+2*N+1),C[2*M+2*N+2]+=P*ne,ot(C,2*M+2*N+2)}for(M=0;M<w;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=w;M<2*w;M++)C[M]=0;return new h(C,0)};function ot(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function X(I,w){this.g=I,this.h=w}function ft(I,w){if(U(w))throw Error("division by zero");if(U(I))return new X(E,E);if(H(I))return w=ft(z(I),w),new X(z(w.g),z(w.h));if(H(w))return w=ft(I,z(w)),new X(z(w.g),w.h);if(30<I.g.length){if(H(I)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=w;0>=M.l(I);)C=nt(C),M=nt(M);var N=ut(C,1),P=ut(M,1);for(M=ut(M,2),C=ut(C,2);!U(M);){var V=P.add(M);0>=V.l(I)&&(N=N.add(C),P=V),M=ut(M,1),C=ut(C,1)}return w=et(I,N.j(w)),new X(N,w)}for(N=E;0<=I.l(w);){for(C=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=g(C),V=P.j(w);H(V)||0<V.l(I);)C-=M,P=g(C),V=P.j(w);U(P)&&(P=S),N=N.add(P),I=et(I,V)}return new X(N,I)}n.A=function(I){return ft(this,I).h},n.and=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)&I.i(M);return new h(C,this.h&I.h)},n.or=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)|I.i(M);return new h(C,this.h|I.h)},n.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)^I.i(M);return new h(C,this.h^I.h)};function nt(I){for(var w=I.g.length+1,C=[],M=0;M<w;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(C,I.h)}function ut(I,w){var C=w>>5;w%=32;for(var M=I.g.length-C,N=[],P=0;P<M;P++)N[P]=0<w?I.i(P+C)>>>w|I.i(P+C+1)<<32-w:I.i(P+C);return new h(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aA=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Us=h}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oA,Il,lA,Zc,Um,uA,cA,hA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break t;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function R(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,K){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return y.prototype[B].apply(b,lt)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,K=b.length||0;c.length=B+K;for(let lt=0;lt<K;lt++)c[B+lt]=b[lt]}else c.push(b)}}class et{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ot(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ft(c){return ft[" "](c),c}ft[" "]=function(){};var nt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ut(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let K=0;K<C.length;K++)_=C[K],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){d.setTimeout(()=>{throw c},0)}function V(){var c=At;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,_){const b=pt.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new et(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,rt=!1,At=new ne,x=()=>{const c=d.Promise.resolve(void 0);Y=()=>{c.then($)}};var $=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(_){P(_)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}rt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(nt){t:{try{ft(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}U(It,st);var wt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zn(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++Jt,this.da=this.fa=!1}function is(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ai(c){this.src=c,this.g={},this.h=0}Ai.prototype.add=function(c,y,_,b,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var lt=Ws(c,y,b,B);return-1<lt?(y=c[lt],_||(y.fa=!1)):(y=new Zn(y,this.src,K,!!b,B),y.fa=_,c.push(y)),y};function Zs(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(b,B,1),K&&(is(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ws(c,y,_,b){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==b)return B}return-1}var Js="closure_lm_"+(1e6*Math.random()|0),To={};function _u(c,y,_,b,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)_u(c,y[K],_,b,B);return null}return _=Tu(_),c&&c[Ie]?c.K(y,_,g(b)?!!b.capture:!1,B):wn(c,y,_,!1,b,B)}function wn(c,y,_,b,B,K){if(!y)throw Error("Invalid event type");var lt=g(B)?!!B.capture:!!B,Lt=ta(c);if(Lt||(c[Js]=Lt=new Ai(c)),_=Lt.add(y,_,b,lt,K),_.proxy)return _;if(b=nf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)vt||(B=lt),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(tr(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nf(){function c(_){return y.call(c.src,c.listener,_)}const y=sf;return c}function Eo(c,y,_,b,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Eo(c,y[K],_,b,B);else b=g(b)?!!b.capture:!!b,_=Tu(_),c&&c[Ie]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=Ws(K,_,b,B),-1<_&&(is(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ta(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ws(y,_,b,B)),(_=-1<c?y[c]:null)&&Jr(_))}function Jr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ie])Zs(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(tr(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ta(y))?(Zs(_,c),_.h==0&&(_.src=null,y[Js]=null)):is(c)}}}function tr(c){return c in To?To[c]:To[c]="on"+c}function sf(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&Jr(c),c=_.call(b,y)}return c}function ta(c){return c=c[Js],c instanceof Ai?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function ue(){at.call(this),this.i=new Ai(this),this.M=this,this.F=null}U(ue,at),ue.prototype[Ie]=!0,ue.prototype.removeEventListener=function(c,y,_,b){Eo(this,c,y,_,b)};function Gt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var B=y;y=new st(b,c),M(y,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var lt=y.g=_[K];B=mn(lt,b,!0,y)&&B}if(lt=y.g=c,B=mn(lt,b,!0,y)&&B,B=mn(lt,b,!1,y)&&B,_)for(K=0;K<_.length;K++)lt=y.g=_[K],B=mn(lt,b,!1,y)&&B}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)is(_[b]);delete c.g[y],c.h--}}this.F=null},ue.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ue.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function mn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var lt=y[K];if(lt&&!lt.da&&lt.capture==_){var Lt=lt.listener,we=lt.ha||lt.src;lt.fa&&Zs(c.i,lt),B=Lt.call(we,b)!==!1&&B}}return B&&!b.defaultPrevented}function Ye(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Eu(c){c.g=Ye(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rf extends at{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(c){at.call(this),this.h=c,this.g={}}U(er,at);var nr=[];function ir(c){ut(c.g,function(y,_){this.g.hasOwnProperty(_)&&Jr(y)},c),c.g={}}er.prototype.N=function(){er.aa.N.call(this),ir(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=d.JSON.stringify,ea=d.JSON.parse,sr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function bo(c){return c.h||(c.h=c.i())}function wo(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){st.call(this,"d")}U(bi,st);function Ro(){st.call(this,"c")}U(Ro,st);var Wn={},Co=null;function ss(){return Co=Co||new ue}Wn.La="serverreachability";function na(c){st.call(this,Wn.La,c)}U(na,st);function rs(c){const y=ss();Gt(y,new na(y))}Wn.STAT_EVENT="statevent";function Au(c,y){st.call(this,Wn.STAT_EVENT,c),this.stat=y}U(Au,st);function ie(c){const y=ss();Gt(y,new Au(y,c))}Wn.Ma="timingevent";function be(c,y){st.call(this,Wn.Ma,c),this.size=y}U(be,st);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Do(c,y,_,b,B,K){c.info(function(){if(c.g)if(K)for(var lt="",Lt=K.split("&"),we=0;we<Lt.length;we++){var Ut=Lt[we].split("=");if(1<Ut.length){var Oe=Ut[0];Ut=Ut[1];var Re=Oe.split("_");lt=2<=Re.length&&Re[1]=="type"?lt+(Oe+"="+Ut+"&"):lt+(Oe+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+lt})}function af(c,y,_,b,B,K,lt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+lt})}function as(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rr(c,_)+(b?" "+b:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function rr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<B.length;lt++)B[lt]=""}}}}return qn(_)}catch{return y}}var os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ti(){}U(ti,So),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Jn=new ti;function en(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var Vo={},ia={};function Fn(c,y,_){c.L=1,c.v=cr(pn(y)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),ar(c),c.A=pn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Po(_.i,"t",b),c.C=0,_=c.j.J,c.h=new de,c.g=ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new rf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(nr[0]=B.toString()),B=nr);for(var K=0;K<B.length;K++){var lt=_u(_,B[K],b||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),rs(),Do(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)t:{const Re=xn(this.g);var y=this.g.Ba();const Ni=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Re!=4||y==7||(y==8||0>=Ni?rs(3):rs(2)),ls(this);var _=this.g.Z();this.X=_;e:if(bu(this)){var b=Iu(this.g);c="";var B=b.length,K=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),ei(this);var lt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(K&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,af(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,we=this.g;if((Lt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)as(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,or(this,_);else{this.o=!1,this.s=3,ie(12),Be(this),ei(this);break t}}if(this.P){_=!0;let ke;for(;!this.J&&this.C<lt.length;)if(ke=wu(this,lt),ke==ia){Re==4&&(this.s=4,ie(14),_=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Vo){this.s=4,ie(15),as(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else as(this.i,this.l,ke,null),or(this,ke);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)as(this.i,this.l,lt,"[Invalid Chunked Response]"),Be(this),ei(this);else if(0<lt.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),vr(Oe),Oe.M=!0,ie(11))}}else as(this.i,this.l,lt,null),or(this,lt);Re==4&&Be(this),this.o&&!this.J&&(Re==4?Lu(this.j,this):(this.o=!1,ar(this)))}else hf(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Be(this),ei(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?ia:(_=Number(y.substring(_,b)),isNaN(_)?Vo:(b+=1,b+_>y.length?ia:(y=y.slice(b,b+_),c.C=b+_,y)))}en.prototype.cancel=function(){this.J=!0,Be(this)};function ar(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(S(c.ba,c),y)}function ls(c){c.B&&(d.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(rs(),ie(17)),Be(this),this.s=2,ei(this)):Ru(this,this.S-c)};function ei(c){c.j.G==0||c.J||Lu(c.j,c)}function Be(c){ls(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ir(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function or(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||xo(_.h,c))){if(!c.K&&xo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)pa(_),da(_);else break t;jo(_),ie(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(S(_.Za,_),6e3));if(1>=ra(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&pa(_),!ot(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ut=B[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Oe=Ut[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const Re=Ut[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Ni=Ut[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(b=1.5*Ni,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ke=c.g;if(ke){const li=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var K=b.h;K.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(aa(K,K.h),K.h=null))}if(b.D){const qo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(b.ya=qo,Qt(b.I,b.D,qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var lt=c;if(b.qa=Bu(b,b.J?b.ia:null,b.W),lt.K){nn(b.h,lt);var Lt=lt,we=b.L;we&&(Lt.I=we),Lt.B&&(ls(Lt),ar(Lt)),b.g=lt}else Nu(b);0<_.i.length&&ma(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Oi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Oi(_,7):Bo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}rs(4)}catch{}}var Cu=class{constructor(c,y){this.g=c,this.map=y}};function Ci(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function xo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function aa(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ci.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function of(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=oa(c),b=of(c),B=b.length,K=0;K<B;K++)y.call(void 0,b[K],_&&_[K],c)}var lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var K=c[_].substring(0,b);B=c[_].substring(b+1)}else K=c[_];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _e(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _e){this.h=c.h,ur(this,c.j),this.o=c.o,this.g=c.g,us(this,c.s),this.l=c.l;var y=c.i,_=new Vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Di(this,_),this.m=c.m}else c&&(y=String(c).match(lr))?(this.h=!1,ur(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),us(this,y[4]),this.l=Cn(y[5]||"",!0),Di(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}_e.prototype.toString=function(){var c=[],y=this.j;y&&c.push(hr(y,Oo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(hr(y,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hr(_,_.charAt(0)=="/"?uf:No,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hr(_,la)),c.join("")};function pn(c){return new _e(c)}function ur(c,y,_){c.j=_?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function us(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Di(c,y,_){y instanceof Vi?(c.i=y,Vu(c.i,c.h)):(_||(y=hr(y,cf)),c.i=new Vi(y,c.h))}function Qt(c,y,_){c.i.set(y,_)}function cr(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,No=/[#\?:]/g,uf=/[#\?]/g,cf=/[#\?@]/g,la=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Vi.prototype,n.add=function(c,y){Dn(this),this.i=null,c=ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xi(c,y){Dn(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ii(c,y){return Dn(c),y=ni(c,y),c.g.has(y)}n.forEach=function(c,y){Dn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},n.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let K=0;K<B.length;K++)_.push(y[b])}return _},n.V=function(c){Dn(this);let y=[];if(typeof c=="string")Ii(this,c)&&(y=y.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Dn(this),this.i=null,c=ni(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Po(c,y,_){xi(c,y),0<_.length&&(c.i=null,c.g.set(ni(c,y),H(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const K=encodeURIComponent(String(b)),lt=this.V(b);for(b=0;b<lt.length;b++){var B=K;lt[b]!==""&&(B+="="+encodeURIComponent(String(lt[b]))),c.push(B)}}return this.i=c.join("&")};function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Vu(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(xi(this,b),Po(this,B,_))},c)),c.j=y}function fr(c,y){const _=new Rn;if(d.Image){const b=new Image;b.onload=R(Vn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=R(Vn,_,"TestLoadImage: error",!1,y,b),b.onabort=R(Vn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=R(Vn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Hn(c,y){const _=new Rn,b=new AbortController,B=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(B),K.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Vn(_,"TestPingServer: error",!1,y)})}function Vn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function dr(){this.g=new sr}function ii(c,y,_){const b=_||"";try{Mo(c,function(B,K){let lt=B;g(B)&&(lt=qn(B)),y.push(b+K+"="+encodeURIComponent(lt))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function cs(c){this.l=c.Ub||null,this.j=c.eb||!1}U(cs,So),cs.prototype.g=function(){return new Mi(this.l,this.j)},cs.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){ue.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Mi,ue),n=Mi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ri(this),this.readyState==3&&Lo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},n.Qa=function(c){this.g&&(this.response=c,si(this))},n.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return ut(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Me(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,y,_))}function Ft(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ft,ue);var ua=/^https?$/i,mr=["POST","PUT"];n=Ft.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?bo(this.o):bo(Jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){xu(this,K);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(mr,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of _)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pr(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){xu(this,K)}};function xu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ca(c),ai(c)}function ca(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},n.bb=function(){ha(this)};function ha(c){if(c.h&&typeof h<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Ye(c.Ea,0,c);else if(Gt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=lt===0){var B=String(c.D).match(lr)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),b=!ua.test(B?B.toLowerCase():"")}_=b}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var K=2<xn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ca(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){pr(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function pr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ea(y)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ot(c[b]))continue;var _=N(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}I(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function fa(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new dr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fa.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,b){ie(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Bu(this,null,this.W),ma(this)};function Bo(c){if(Mu(c),c.G==3){var y=c.U++,_=pn(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),yr(c,_),y=new en(c,c.j,y),y.L=2,y.v=cr(pn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ar(y)}Uu(c)}function da(c){c.g&&(vr(c),c.g.cancel(),c.g=null)}function Mu(c){da(c),c.u&&(d.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ma(c){if(!sa(c.h)&&!c.s){c.s=!0;var y=c.Ga;Y||x(),rt||(Y(),rt=!0),At.add(y,c),c.B=0}}function ff(c,y){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(S(c.Ga,c,y),zo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Ou(this,B,y),_=pn(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),yr(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Uo(K)))+"&"+y:this.m&&Me(_,this.m,K)),aa(this.h,B),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),B.T=!0,Fn(B,_,null)):Fn(B,_,y),this.G=2}}else this.G==3&&(c?ko(this,c):this.i.length==0||sa(this.h)||ko(this))};function ko(c,y){var _;y?_=y.l:_=c.U++;const b=pn(c.I);Qt(b,"SID",c.K),Qt(b,"RID",_),Qt(b,"AID",c.T),yr(c,b),c.m&&c.o&&Me(b,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,_),Fn(_,b,y)}function yr(c,y){c.H&&ut(c.H,function(_,b){Qt(y,b,_)}),c.l&&Mo({},function(_,b){Qt(y,b,_)})}function Ou(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let K=-1;for(;;){const lt=["count="+_];K==-1?0<_?(K=B[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let Lt=!0;for(let we=0;we<_;we++){let Ut=B[we].g;const Oe=B[we].map;if(Ut-=K,0>Ut)K=Math.max(0,B[we].g-100),Lt=!1;else try{ii(Oe,lt,"req"+Ut+"_")}catch{b&&b(Oe)}}if(Lt){b=lt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Nu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Y||x(),rt||(Y(),rt=!0),At.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(S(c.Fa,c),zo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),da(this),Pu(this))};function vr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Qt(y,"RID","rpc"),Qt(y,"SID",c.K),Qt(y,"AID",c.T),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(y,"TO",c.ja),Qt(y,"TYPE","xmlhttp"),yr(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cr(pn(y)),_.m=null,_.P=!0,Ri(_,c)}n.Za=function(){this.C!=null&&(this.C=null,da(this),jo(this),ie(19))};function pa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){pa(c),vr(c),c.g=null;var b=2}else if(xo(c.h,y))_=y.D,nn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=ss(),Gt(b,new be(b,_)),ma(c)}else Nu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&ff(c,y)||b==2&&jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const B=!b;b=new _e(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ur(b,"https"),cr(b),B?fr(b.toString(),_):Hn(b.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(y),Uu(c),Mu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=Io(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,_){var b=_ instanceof _e?pn(_):new _e(_);if(b.g!="")y&&(b.g=y+"."+b.g),us(b,b.s);else{var B=d.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new _e(null);b&&ur(K,b),y&&(K.g=y),B&&us(K,B),_&&(K.l=_),b=K}return _=c.D,y=c.ya,_&&y&&Qt(b,_,y),Qt(b,"VER",c.la),yr(c,b),b}function ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ft(new cs({eb:_})):new Ft(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}n=ju.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ga(){}ga.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ue.call(this),this.g=new fa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ot(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ot(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}U(sn,ue),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Bo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=qn(c),c=_);y.i.push(new Cu(y.Ya++,c)),y.G==3&&ma(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,sn.aa.N.call(this)};function zu(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(zu,bi);function qu(){Ro.call(this),this.status=1}U(qu,Ro);function oi(c){this.g=c}U(oi,ju),oi.prototype.ua=function(){Gt(this.g,"a")},oi.prototype.ta=function(c){Gt(this.g,new zu(c))},oi.prototype.sa=function(c){Gt(this.g,new qu)},oi.prototype.ra=function(){Gt(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,hA=function(){return new ga},cA=function(){return ss()},uA=Wn,Um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Zc=os,wi.COMPLETE="complete",lA=wi,wo.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Il=wo,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,oA=Ft}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore",w_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Sp("@firebase/firestore");function Ga(){return Hr.logLevel}function ht(n,...t){if(Hr.logLevel<=jt.DEBUG){const i=t.map(wp);Hr.debug(`Firestore (${ho}): ${n}`,...i)}}function Wi(n,...t){if(Hr.logLevel<=jt.ERROR){const i=t.map(wp);Hr.error(`Firestore (${ho}): ${n}`,...i)}}function no(n,...t){if(Hr.logLevel<=jt.WARN){const i=t.map(wp);Hr.warn(`Firestore (${ho}): ${n}`,...i)}}function wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,fA(n,r,i)}function fA(n,t,i){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Ht(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||fA(t,o,r)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Qs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(We.UNAUTHENTICATED))}shutdown(){}}class nC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iC{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qi)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new dA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class sC{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rC{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new sC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=oC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function xt(n,t){return n<t?-1:n>t?1:0}function Bm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return xt(r,o);{const u=mA(),h=lC(u.encode(C_(n,i)),u.encode(C_(t,i)));return h!==0?h:xt(r,o)}}i+=r>65535?2:1}return xt(n.length,t.length)}function C_(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function lC(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return xt(n[i],t[i]);return xt(n.length,t.length)}function io(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,V_=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*V_);return new Ve(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<D_)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-D_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ve(0,0))}static max(){return new Rt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class mi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Et(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=mi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return xt(t.length,i.length)}static compareSegments(t,i){const r=mi.isNumericId(t),o=mi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?mi.extractNumericId(t).compare(mi.extractNumericId(i)):Bm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Us.fromString(t.substring(4,t.length-2))}}class ee extends mi{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const uC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends mi{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return uC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new Ge([x_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ee.fromString(t))}static fromName(t){return new yt(ee.fromString(t).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function cC(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(r===1e9?new Ve(i+1,0):new Ve(i,r));return new js(o,yt.empty(),t)}function hC(n){return new js(n.readTime,n.key,Ql)}class js{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new js(Rt.min(),yt.empty(),Ql)}static max(){return new js(Rt.max(),yt.empty(),Ql)}}function fC(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(n.documentKey,t.documentKey),i!==0?i:xt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==dC)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.reject(i)}static resolve(t){return new tt((i,r)=>{i(t)})}static reject(t){return new tt((i,r)=>{r(t)})}static waitFor(t){return new tt((i,r)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&i()},p=>r(p))}),h=!0,u===o&&i()})}static or(t){let i=tt.resolve(!1);for(const r of t)i=i.next(o=>o?tt.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new tt((r,o)=>{const u=t.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{h[g]=v,++d,d===u&&r(h)},v=>o(v))}})}static doWhile(t,i){return new tt((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function pC(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Mh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function Oh(n){return n==null}function lh(n){return n===0&&1/n==-1/0}function gC(n){return typeof n=="number"&&Number.isInteger(n)&&!lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="";function yC(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=I_(t)),t=vC(n.get(i),t);return I_(t)}function vC(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case gA:i+="";break;default:i+=u}}return i}function I_(n){return n+gA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function Xs(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function yA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new He(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(t){return new O_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class O_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new xe(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vA("Invalid base64 string: "+u):u}}(t);return new Ke(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const _C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(Ht(!!n,39018),typeof n=="string"){let t=0;const i=_C.exec(n);if(Ht(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(n.seconds),nanos:ye(n.nanos)}}function ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?Ke.fromBase64String(n):Ke.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="server_timestamp",TA="__type__",EA="__previous_value__",AA="__local_write_time__";function Nh(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[TA])===null||i===void 0?void 0:i.stringValue)===_A}function Ph(n){const t=n.mapValue.fields[EA];return Nh(t)?Ph(t):t}function Xl(n){const t=zs(n.mapValue.fields[AA].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,i,r,o,u,h,d,p,g){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const uh="(default)";class $l{constructor(t,i){this.projectId=t,this.database=i||uh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===uh}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="__type__",EC="__max__",Gc={mapValue:{}},bA="__vector__",ch="value";function Fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nh(n)?4:SC(n)?9007199254740991:AC(n)?10:11:Et(28295,{value:n})}function Ei(n,t){if(n===t)return!0;const i=Fs(n);if(i!==Fs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xl(n).isEqual(Xl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=zs(o.timestampValue),d=zs(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return qs(o.bytesValue).isEqual(qs(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ye(o.doubleValue),d=ye(u.doubleValue);return h===d?lh(h)===lh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return io(n.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(M_(h)!==M_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ei(h[p],d[p])))return!1;return!0}(n,t);default:return Et(52216,{left:n})}}function Zl(n,t){return(n.values||[]).find(i=>Ei(i,t))!==void 0}function so(n,t){if(n===t)return 0;const i=Fs(n),r=Fs(t);if(i!==r)return xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=ye(u.integerValue||u.doubleValue),p=ye(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return N_(n.timestampValue,t.timestampValue);case 4:return N_(Xl(n),Xl(t));case 5:return Bm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=qs(u),p=qs(h);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=xt(d[g],p[g]);if(v!==0)return v}return xt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=xt(ye(u.latitude),ye(h.latitude));return d!==0?d:xt(ye(u.longitude),ye(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return P_(n.arrayValue,t.arrayValue);case 10:return function(u,h){var d,p,g,v;const E=u.fields||{},S=h.fields||{},R=(d=E[ch])===null||d===void 0?void 0:d.arrayValue,U=(p=S[ch])===null||p===void 0?void 0:p.arrayValue,H=xt(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0);return H!==0?H:P_(R,U)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===Gc.mapValue&&h===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(h===Gc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Bm(p[E],v[E]);if(S!==0)return S;const R=so(d[p[E]],g[v[E]]);if(R!==0)return R}return xt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw Et(23264,{Pe:i})}}function N_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return xt(n,t);const i=zs(n),r=zs(t),o=xt(i.seconds,r.seconds);return o!==0?o:xt(i.nanos,r.nanos)}function P_(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=so(i[o],r[o]);if(u)return u}return xt(i.length,r.length)}function ro(n){return km(n)}function km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=zs(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return qs(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return yt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=km(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${km(i.fields[h])}`;return o+"}"}(n.mapValue):Et(61005,{value:n})}function Wc(n){switch(Fs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ph(n);return t?16+Wc(t):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Wc(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Xs(r.fields,(u,h)=>{o+=u.length+Wc(h)}),o}(n.mapValue);default:throw Et(13486,{value:n})}}function hh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function jm(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function L_(n){return!!n&&"nullValue"in n}function U_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jc(n){return!!n&&"mapValue"in n}function AC(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[SA])===null||i===void 0?void 0:i.stringValue)===bA}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Xs(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Ul(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ul(n.arrayValue.values[i]);return t}return Object.assign({},n)}function SC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(i)}setAll(t){let i=Ge.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}h?r[d.lastSegment()]=Ul(h):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Xs(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new Sn(Ul(this.value))}}function wA(n){const t=[];return Xs(n.fields,(i,r)=>{const o=new Ge([i]);if(Jc(r)){const u=wA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new Xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,r,o,u,h,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new Je(t,0,Rt.min(),Rt.min(),Rt.min(),Sn.empty(),0)}static newFoundDocument(t,i,r,o){return new Je(t,1,i,Rt.min(),r,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Rt.min(),Rt.min(),Sn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Rt.min(),Rt.min(),Sn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,i){this.position=t,this.inclusive=i}}function B_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(h.referenceValue),i.key):r=so(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Ei(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,i="asc"){this.field=t,this.dir=i}}function bC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{}class Se extends RA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new RC(t,i,r):i==="array-contains"?new VC(t,r):i==="in"?new xC(t,r):i==="not-in"?new IC(t,r):i==="array-contains-any"?new MC(t,r):new Se(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new CC(t,r):new DC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&Fs(this.value)===Fs(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends RA{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new $n(t,i)}matches(t){return CA(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CA(n){return n.op==="and"}function DA(n){return wC(n)&&CA(n)}function wC(n){for(const t of n.filters)if(t instanceof $n)return!1;return!0}function zm(n){if(n instanceof Se)return n.field.canonicalString()+n.op.toString()+ro(n.value);if(DA(n))return n.filters.map(t=>zm(t)).join(",");{const t=n.filters.map(i=>zm(i)).join(",");return`${n.op}(${t})`}}function VA(n,t){return n instanceof Se?function(r,o){return o instanceof Se&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)}(n,t):n instanceof $n?function(r,o){return o instanceof $n&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&VA(h,o.filters[d]),!0):!1}(n,t):void Et(19439)}function xA(n){return n instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`}(n):n instanceof $n?function(i){return i.op.toString()+" {"+i.getFilters().map(xA).join(" ,")+"}"}(n):"Filter"}class RC extends Se{constructor(t,i,r){super(t,i,r),this.key=yt.fromName(r.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class CC extends Se{constructor(t,i){super(t,"in",i),this.keys=IA("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class DC extends Se{constructor(t,i){super(t,"not-in",i),this.keys=IA("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function IA(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>yt.fromName(r.referenceValue))}class VC extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cp(i)&&Zl(i.arrayValue,this.value)}}class xC extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class IC extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class MC extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,i=null,r=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Ie=null}}function j_(n,t=null,i=[],r=[],o=null,u=null,h=null){return new OC(n,t,i,r,o,u,h)}function Dp(n){const t=Ct(n);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>zm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ro(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ro(r)).join(",")),t.Ie=i}return t.Ie}function Vp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!bC(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!VA(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!k_(n.startAt,t.startAt)&&k_(n.endAt,t.endAt)}function qm(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,i=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NC(n,t,i,r,o,u,h,d){return new Xr(n,t,i,r,o,u,h,d)}function xp(n){return new Xr(n)}function z_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ip(n){return n.collectionGroup!==null}function to(n){const t=Ct(n);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new xe(Ge.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Wl(u,r))}),i.has(Ge.keyField().canonicalString())||t.Ee.push(new Wl(Ge.keyField(),r))}return t.Ee}function gi(n){const t=Ct(n);return t.de||(t.de=PC(t,to(n))),t.de}function PC(n,t){if(n.limitType==="F")return j_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)});const i=n.endAt?new ao(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ao(n.startAt.position,n.startAt.inclusive):null;return j_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Fm(n,t){const i=n.filters.concat([t]);return new Xr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function fh(n,t,i){return new Xr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Lh(n,t){return Vp(gi(n),gi(t))&&n.limitType===t.limitType}function MA(n){return`${Dp(gi(n))}|lt:${n.limitType}`}function Ka(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>xA(o)).join(", ")}]`),Oh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>ro(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>ro(o)).join(",")),`Target(${r})`}(gi(n))}; limitType=${n.limitType})`}function Uh(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of to(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=B_(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,to(r),o)||r.endAt&&!function(h,d,p){const g=B_(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,to(r),o))}(n,t)}function LC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OA(n){return(t,i)=>{let r=!1;for(const o of to(n)){const u=UC(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function UC(n,t,i){const r=n.field.isKeyField()?yt.comparator(t.key,i.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?so(p,g):Et(42886)}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Xs(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return yA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new le(yt.comparator);function Ji(){return BC}const NA=new le(yt.comparator);function Ml(...n){let t=NA;for(const i of n)t=t.insert(i.key,i);return t}function PA(n){let t=NA;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Ur(){return Bl()}function LA(){return Bl()}function Bl(){return new $r(n=>n.toString(),(n,t)=>n.isEqual(t))}const kC=new le(yt.comparator),jC=new xe(yt.comparator);function Pt(...n){let t=jC;for(const i of n)t=t.add(i);return t}const zC=new xe(xt);function qC(){return zC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function UA(n){return{integerValue:""+n}}function FC(n,t){return gC(t)?UA(t):Mp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function HC(n,t,i){return n instanceof dh?function(o,u){const h={fields:{[TA]:{stringValue:_A},[AA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Nh(u)&&(u=Ph(u)),u&&(h.fields[EA]=u),{mapValue:h}}(i,t):n instanceof Jl?kA(n,t):n instanceof tu?jA(n,t):function(o,u){const h=BA(o,u),d=q_(h)+q_(o.Re);return jm(h)&&jm(o.Re)?UA(d):Mp(o.serializer,d)}(n,t)}function GC(n,t,i){return n instanceof Jl?kA(n,t):n instanceof tu?jA(n,t):i}function BA(n,t){return n instanceof mh?function(r){return jm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class dh extends Bh{}class Jl extends Bh{constructor(t){super(),this.elements=t}}function kA(n,t){const i=zA(t);for(const r of n.elements)i.some(o=>Ei(o,r))||i.push(r);return{arrayValue:{values:i}}}class tu extends Bh{constructor(t){super(),this.elements=t}}function jA(n,t){let i=zA(t);for(const r of n.elements)i=i.filter(o=>!Ei(o,r));return{arrayValue:{values:i}}}class mh extends Bh{constructor(t,i){super(),this.serializer=t,this.Re=i}}function q_(n){return ye(n.integerValue||n.doubleValue)}function zA(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function KC(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof Jl&&o instanceof Jl||r instanceof tu&&o instanceof tu?io(r.elements,o.elements,Ei):r instanceof mh&&o instanceof mh?Ei(r.Re,o.Re):r instanceof dh&&o instanceof dh}(n.transform,t.transform)}class YC{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function th(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class kh{}function qA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new HA(n.key,Xi.none()):new jh(n.key,n.data,Xi.none());{const i=n.data,r=Sn.empty();let o=new xe(Ge.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Zr(n.key,r,new Xn(o.toArray()),Xi.none())}}function QC(n,t,i){n instanceof jh?function(o,u,h){const d=o.value.clone(),p=H_(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,i):n instanceof Zr?function(o,u,h){if(!th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=H_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(FA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function kl(n,t,i,r){return n instanceof jh?function(u,h,d,p){if(!th(u.precondition,h))return d;const g=u.value.clone(),v=G_(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof Zr?function(u,h,d,p){if(!th(u.precondition,h))return d;const g=G_(u.fieldTransforms,p,h),v=h.data;return v.setAll(FA(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,h,d){return th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,i)}function XC(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=BA(r.transform,o||null);u!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,u))}return i||null}function F_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&io(r,o,(u,h)=>KC(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class jh extends kh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zr extends kh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FA(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function H_(n,t,i){const r=new Map;Ht(n.length===i.length,32656,{Ve:i.length,me:n.length});for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);r.set(u.field,GC(h,d,i[o]))}return r}function G_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,HC(u,h,t))}return r}class HA extends kh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $C extends kh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&QC(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=kl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=kl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=LA();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(o.key)?null:d;const p=qA(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Pt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,(i,r)=>F_(i,r))&&io(this.baseMutations,t.baseMutations,(i,r)=>F_(i,r))}}class Op{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return kC}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Op(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,kt;function tD(n){switch(n){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function GA(n){if(n===void 0)return Wi("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Ae.OK:return Z.OK;case Ae.CANCELLED:return Z.CANCELLED;case Ae.UNKNOWN:return Z.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return Z.INTERNAL;case Ae.UNAVAILABLE:return Z.UNAVAILABLE;case Ae.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ae.NOT_FOUND:return Z.NOT_FOUND;case Ae.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ae.ABORTED:return Z.ABORTED;case Ae.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ae.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:n})}}(kt=Ae||(Ae={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Us([4294967295,4294967295],0);function K_(n){const t=mA().encode(n),i=new aA;return i.update(t),new Uint8Array(i.digest())}function Y_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Us([i,r],0),new Us([o,u],0)]}class Np{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Us.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(Us.fromNumber(r)));return o.compare(eD)===1&&(o=new Us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=K_(t),[r,o]=Y_(i);for(let u=0;u<this.hashCount;u++){const h=this.we(r,o,u);if(!this.be(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Np(u,o,i);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.pe===0)return;const i=K_(t),[r,o]=Y_(i);for(let u=0;u<this.hashCount;u++){const h=this.we(r,o,u);this.Se(h)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,hu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new zh(Rt.min(),o,new le(xt),Ji(),Pt())}}class hu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new hu(r,i,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class KA{constructor(t,i){this.targetId=t,this.Ce=i}}class YA{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Q_{constructor(){this.Fe=0,this.Me=X_(),this.xe=Ke.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),i=Pt(),r=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}}),new hu(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=X_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nD{constructor(t){this.ze=t,this.je=new Map,this.He=Ji(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new le(xt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(qm(u))if(r===0){const h=new yt(u.path);this.tt(i,h,Je.newNoDocument(h,Rt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const h=this.ut(i);if(h!==r){const d=this.ct(t),p=d?this.lt(d,t,h):1;if(p!==0){this.st(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,d;try{h=qs(r).toUint8Array()}catch(p){if(p instanceof vA)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Np(h,o,u)}catch(p){return no(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,h)=>{const d=this._t(h);if(d){if(u.current&&qm(d.target)){const p=new yt(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Je.newNoDocument(p,t))}u.Le&&(i.set(h,u.qe()),u.Qe())}});let r=Pt();this.Ye.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new zh(t,i,this.Ze,this.He,r);return this.He=Ji(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new le(xt),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new Q_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new xe(xt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Q_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function Kc(){return new le(yt.comparator)}function X_(){return new le(yt.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},sD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rD={and:"AND",or:"OR"};class aD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Hm(n,t){return n.useProto3Json||Oh(t)?t:{value:t}}function ph(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function oD(n,t){return ph(n,t.toTimestamp())}function yi(n){return Ht(!!n,49232),Rt.fromTimestamp(function(i){const r=zs(i);return new Ve(r.seconds,r.nanos)}(n))}function Pp(n,t){return Gm(n,t).canonicalString()}function Gm(n,t){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function XA(n){const t=ee.fromString(n);return Ht(tS(t),10190,{key:t.toString()}),t}function Km(n,t){return Pp(n.databaseId,t.path)}function dm(n,t){const i=XA(t);if(i.get(1)!==n.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new yt(ZA(i))}function $A(n,t){return Pp(n.databaseId,t)}function lD(n){const t=XA(n);return t.length===4?ee.emptyPath():ZA(t)}function Ym(n){return new ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZA(n){return Ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $_(n,t,i){return{name:Km(n,t),fields:i.value.mapValue.fields}}function uD(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ht(v===void 0||typeof v=="string",58123),Ke.fromBase64String(v||"")):(Ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ke.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const v=g.code===void 0?Z.UNKNOWN:GA(g.code);return new ct(v,g.message||"")}(h);i=new YA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=dm(n,r.document.name),u=yi(r.document.updateTime),h=r.document.createTime?yi(r.document.createTime):Rt.min(),d=new Sn({mapValue:{fields:r.document.fields}}),p=Je.newFoundDocument(o,u,h,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new eh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=dm(n,r.document),u=r.readTime?yi(r.readTime):Rt.min(),h=Je.newNoDocument(o,u),d=r.removedTargetIds||[];i=new eh([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=dm(n,r.document),u=r.removedTargetIds||[];i=new eh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new JC(o,u),d=r.targetId;i=new KA(d,h)}}return i}function cD(n,t){let i;if(t instanceof jh)i={update:$_(n,t.key,t.value)};else if(t instanceof HA)i={delete:Km(n,t.key)};else if(t instanceof Zr)i={update:$_(n,t.key,t.data),updateMask:_D(t.fieldMask)};else{if(!(t instanceof $C))return Et(16599,{ft:t.type});i={verify:Km(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,h){const d=h.transform;if(d instanceof dh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Jl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mh)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Et(20930,{transform:h.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:oD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)}(n,t.precondition)),i}function hD(n,t){return n&&n.length>0?(Ht(t!==void 0,14353),n.map(i=>function(o,u){let h=o.updateTime?yi(o.updateTime):yi(u);return h.isEqual(Rt.min())&&(h=yi(u)),new YC(h,o.transformResults||[])}(i,t))):[]}function fD(n,t){return{documents:[$A(n,t.path)]}}function dD(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=$A(n,o);const u=function(g){if(g.length!==0)return JA($n.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Ya(S.field),direction:gD(S.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const d=Hm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function mD(n){let t=lD(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const S=WA(E);return S instanceof $n&&DA(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(S=>function(U){return new Wl(Qa(U.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(i.orderBy));let d=null;i.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,Oh(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(E){const S=!!E.before,R=E.values||[];return new ao(R,S)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const S=!E.before,R=E.values||[];return new ao(R,S)}(i.endAt)),NC(t,o,h,u,d,"F",p,g)}function pD(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WA(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(i.unaryFilter.field);return Se.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qa(i.unaryFilter.field);return Se.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(n):n.fieldFilter!==void 0?function(i){return Se.create(Qa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return $n.create(i.compositeFilter.filters.map(r=>WA(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(n):Et(30097,{filter:n})}function gD(n){return iD[n]}function yD(n){return sD[n]}function vD(n){return rD[n]}function Ya(n){return{fieldPath:n.canonicalString()}}function Qa(n){return Ge.fromServerFormat(n.fieldPath)}function JA(n){return n instanceof Se?function(i){if(i.op==="=="){if(U_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(L_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(L_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:yD(i.op),value:i.value}}}(n):n instanceof $n?function(i){const r=i.getFilters().map(o=>JA(o));return r.length===1?r[0]:{compositeFilter:{op:vD(i.op),filters:r}}}(n):Et(54877,{filter:n})}function _D(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function tS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,i,r,o,u=Rt.min(),h=Rt.min(),d=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Os(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.wt=t}}function ED(n){const t=mD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.yn=new SD}addToCollectionParentIndex(t,i){return this.yn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(js.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(js.min())}updateCollectionGroup(t,i,r){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class SD{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new xe(ee.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(eS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new oo(0)}static ir(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="LruGarbageCollector",bD=1048576;function J_([n,t],[i,r]){const o=xt(n,i);return o===0?xt(t,r):o}class wD{constructor(t){this.cr=t,this.buffer=new xe(J_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();J_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class RD{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ht(W_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ht(W_,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ir(3e5)})}}class CD{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(Mh.le);const r=new wD(i);return this.Er.forEachTarget(t,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.Er.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Z_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let r,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Ga()<=jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function DD(n,t){return new CD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new $r(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?tt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&kl(r.mutation,o,Xn.empty(),Ve.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Pt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Pt()){const o=Ur();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let h=Ml();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const r=Ur();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Pt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{i.set(h,d)})})}computeViews(t,i,r,o){let u=Ji();const h=Bl(),d=function(){return Bl()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Zr)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),kl(v.mutation,g,v.mutation.getFieldMask(),Ve.now())):h.set(g.key,Xn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new xD(v,(E=h.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const r=Bl();let o=new le((h,d)=>h-d),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Xn.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||Pt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=LA();v.forEach(S=>{if(!u.has(S)){const R=qA(i.get(S),r.get(S));R!==null&&E.set(S,R),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(h){return yt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Ip(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):tt.resolve(Ur());let d=Ql,p=u;return h.next(g=>tt.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?tt.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Pt())).next(v=>({batchId:d,changes:PA(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next(r=>{let o=Ml();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=Ml();return this.indexManager.getCollectionParents(t,u).next(d=>tt.forEach(d,p=>{const g=function(E,S){return new Xr(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,S)=>{h=h.insert(E,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Je.newInvalidDocument(v)))});let d=Ml();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&kl(v.mutation,g,Xn.empty(),Ve.now()),Uh(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return tt.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:ED(o.bundledQuery),readTime:yi(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new le(yt.comparator),this.Or=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Ur();return tt.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),tt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(r)),tt.resolve()}getOverlaysForCollection(t,i,r){const o=Ur(),u=i.length+1,h=new yt(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new le((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Ur(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ur(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return tt.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new WC(i,r));let u=this.Or.get(i);u===void 0&&(u=Pt(),this.Or.set(i,u)),this.Or.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.Nr=new xe(Ue.Br),this.Lr=new xe(Ue.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Qr(new Ue(t,i))}$r(t,i){t.forEach(r=>this.removeReference(r,i))}Ur(t){const i=new yt(new ee([])),r=new Ue(i,t),o=new Ue(i,t+1),u=[];return this.Lr.forEachInRange([r,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new yt(new ee([])),r=new Ue(i,t),o=new Ue(i,t+1);let u=Pt();return this.Lr.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Ue(t,0),r=this.Nr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return yt.comparator(t.key,i.key)||xt(t.Gr,i.Gr)}static kr(t,i){return xt(t.Gr,i.Gr)||yt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new xe(Ue.Br)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ZC(u,i,r,o);this.mutationQueue.push(h);for(const d of o)this.zr=this.zr.add(new Ue(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,i){return tt.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Hr(r),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Rp:this.Jn-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([r,o],h=>{const d=this.jr(h.Gr);u.push(d)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(xt);return i.forEach(o=>{const u=new Ue(o,0),h=new Ue(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],d=>{r=r.add(d.Gr)})}),tt.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const h=new Ue(new yt(u),0);let d=new xe(xt);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Gr)),!0)},h),tt.resolve(this.Jr(d))}Jr(t){const i=[];return t.forEach(r=>{const o=this.jr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Ht(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return tt.forEach(i.mutations,o=>{const u=new Ue(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,i){const r=new Ue(i,0),o=this.zr.firstAfterOrEqual(r);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.Zr=t,this.docs=function(){return new le(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.Zr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return tt.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=Ji();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))}),tt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Ji();const h=i.path,d=new yt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||fC(hC(v),r)<=0||(o.has(v.key)||Uh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Et(9500)}Xr(t,i){return tt.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new UD(this)}getSize(t){return tt.resolve(this.size)}}class UD extends VD{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(t,o)):this.vr.removeEntry(r)}),tt.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.persistence=t,this.ei=new $r(i=>Dp(i),Vp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Lp,this.targetCount=0,this.ri=oo.rr()}forEachTarget(t,i){return this.ei.forEach((r,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ti&&(this.ti=i),tt.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.ar(i),tt.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ei.forEach((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const r=this.ei.get(i)||null;return tt.resolve(r)}addMatchingKeys(t,i,r){return this.ni.qr(i,r),tt.resolve()}removeMatchingKeys(t,i,r){this.ni.$r(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ni.Wr(i);return tt.resolve(r)}containsKey(t,i){return tt.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,i){this.ii={},this.overlays={},this.si=new Mh(0),this.oi=!1,this.oi=!0,this._i=new ND,this.referenceDelegate=t(this),this.ai=new BD(this),this.indexManager=new AD,this.remoteDocumentCache=function(o){return new LD(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new TD(i),this.ci=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new OD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ii[t.toKey()];return r||(r=new PD(i,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,r){ht("MemoryPersistence","Starting transaction:",t);const o=new kD(this.si.next());return this.referenceDelegate.li(),r(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,i){return tt.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,i)))}}class kD extends mC{constructor(t){super(),this.currentSequenceNumber=t}}class Up{constructor(t){this.persistence=t,this.Ti=new Lp,this.Ii=null}static Ei(t){return new Up(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,i,r){return this.Ti.addReference(r,i),this.di.delete(r.toString()),tt.resolve()}removeReference(t,i,r){return this.Ti.removeReference(r,i),this.di.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,r=>{const o=yt.fromPath(r);return this.Ai(t,o).next(u=>{u||i.removeEntry(o,Rt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return tt.or([()=>tt.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class gh{constructor(t,i){this.persistence=t,this.Ri=new $r(r=>yC(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=DD(this,i)}static Ei(t,i){return new gh(t,i)}li(){}hi(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}Vr(t){let i=0;return this.Ar(t,r=>{i++}).next(()=>i)}Ar(t,i){return tt.forEach(this.Ri,(r,o)=>this.gr(t,r,o).next(u=>u?tt.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,h=>this.gr(t,h,i).next(d=>{d||(r++,u.removeEntry(h,Rt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),tt.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Wc(t.data.value)),i}gr(t,i,r){return tt.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.Ri.get(i);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ls=r,this.hs=o}static Ps(t,i){let r=Pt(),o=Pt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return U2()?8:pC(N2())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.Rs(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(t,i,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new jD;return this.fs(t,i,h).next(d=>{if(u.result=d,this.Is)return this.gs(t,i,h,d.size)})}).next(()=>u.result)}gs(t,i,r,o){return r.documentReadCount<this.Es?(Ga()<=jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),tt.resolve()):(Ga()<=jt.DEBUG&&ht("QueryEngine","Query:",Ka(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ga()<=jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(i))):tt.resolve())}Rs(t,i){if(z_(i))return tt.resolve(null);let r=gi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=fh(i,null,"F"),r=gi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=Pt(...u);return this.As.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.ps(i,d);return this.ys(i,g,h,p.readTime)?this.Rs(t,fh(i,null,"F")):this.ws(t,g,i,p)}))})))}Vs(t,i,r,o){return z_(i)||o.isEqual(Rt.min())?tt.resolve(null):this.As.getDocuments(t,r).next(u=>{const h=this.ps(i,u);return this.ys(i,h,r,o)?tt.resolve(null):(Ga()<=jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(i)),this.ws(t,h,i,cC(o,Ql)).next(d=>d))})}ps(t,i){let r=new xe(OA(t));return i.forEach((o,u)=>{Uh(t,u)&&(r=r.add(u))}),r}ys(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,i,r){return Ga()<=jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.As.getDocumentsMatchingQuery(t,i,js.min(),r)}ws(t,i,r,o){return this.As.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",qD=3e8;class FD{constructor(t,i,r,o){this.persistence=t,this.bs=i,this.serializer=o,this.Ss=new le(xt),this.Ds=new $r(u=>Dp(u),Vp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ID(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function HD(n,t,i,r){return new FD(n,t,i,r)}async function iS(n,t){const i=Ct(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Fs(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=Pt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:d}))})})}function GD(n,t){const i=Ct(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,S=E.keys();let R=tt.resolve();return S.forEach(U=>{R=R.next(()=>v.getEntry(p,U)).next(H=>{const z=g.docVersions.get(U);Ht(z!==null,48541),H.version.compareTo(z)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Pt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function sS(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function KD(n,t){const i=Ct(n),r=t.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const d=[];t.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;d.push(i.ai.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.ai.addMatchingKeys(u,v.addedDocuments,E)));let R=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(Ke.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),o=o.insert(E,R),function(H,z,et){return H.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=qD?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(S,R,v)&&d.push(i.ai.updateTargetData(u,R))});let p=Ji(),g=Pt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(YD(u,h,t.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!r.isEqual(Rt.min())){const v=i.ai.getLastRemoteSnapshotVersion(u).next(E=>i.ai.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return tt.waitFor(d).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ss=o,u))}function YD(n,t,i){let r=Pt(),o=Pt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let h=Ji();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):ht(kp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:h,Os:o}})}function QD(n,t){const i=Ct(n);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Rp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function XD(n,t){const i=Ct(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.ai.getTargetData(r,t).next(u=>u?(o=u,tt.resolve(o)):i.ai.allocateTargetId(r).next(h=>(o=new Os(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(r.targetId,r),i.Ds.set(t,r.targetId)),r})}async function Qm(n,t,i){const r=Ct(n),o=r.Ss.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!mo(h))throw h;ht(kp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(o.target)}function tT(n,t,i){const r=Ct(n);let o=Rt.min(),u=Pt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const E=Ct(p),S=E.Ds.get(v);return S!==void 0?tt.resolve(E.Ss.get(S)):E.ai.getTargetData(g,v)}(r,h,gi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.bs.getDocumentsMatchingQuery(h,t,i?o:Rt.min(),i?u:Pt())).next(d=>($D(r,LC(t),d),{documents:d,Ns:u})))}function $D(n,t,i){let r=n.vs.get(t)||Rt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.vs.set(t,r)}class eT{constructor(){this.activeTargetIds=qC()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZD{constructor(){this.So=new eT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,r){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new eT,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="ConnectivityMonitor";class iT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ht(nT,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ht(nT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Xm(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tV{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(t,i,r,o,u){const h=Xm(),d=this.$o(t,i.toUriEncodedString());ht(mm,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(t,d,p,r).then(g=>(ht(mm,`Received RPC '${t}' ${h}: `,g),g),g=>{throw no(mm,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",r),g})}Wo(t,i,r,o,u,h){return this.Qo(t,i,r,o,u)}Uo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}$o(t,i){const r=JD[t];return`${this.Lo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class nV extends tV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,r,o){const u=Xm();return new Promise((h,d)=>{const p=new oA;p.setWithCredentials(!0),p.listenOnce(lA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const v=p.getResponseJson();ht($e,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Zc.TIMEOUT:ht($e,`RPC '${t}' ${u} timed out`),d(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const E=p.getStatus();if(ht($e,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const U=function(z){const et=z.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(et)>=0?et:Z.UNKNOWN}(R.status);d(new ct(U,R.message))}else d(new ct(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ht($e,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ht($e,`RPC '${t}' ${u} sending request:`,o),p.send(i,"POST",g,r,15)})}a_(t,i,r){const o=Xm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=hA(),d=cA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ht($e,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);let S=!1,R=!1;const U=new eV({Go:z=>{R?ht($e,`Not sending because RPC '${t}' stream ${o} is closed:`,z):(S||(ht($e,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ht($e,`RPC '${t}' stream ${o} sending:`,z),E.send(z))},zo:()=>E.close()}),H=(z,et,ot)=>{z.listen(et,X=>{try{ot(X)}catch(ft){setTimeout(()=>{throw ft},0)}})};return H(E,Il.EventType.OPEN,()=>{R||(ht($e,`RPC '${t}' stream ${o} transport opened.`),U.t_())}),H(E,Il.EventType.CLOSE,()=>{R||(R=!0,ht($e,`RPC '${t}' stream ${o} transport closed`),U.r_())}),H(E,Il.EventType.ERROR,z=>{R||(R=!0,no($e,`RPC '${t}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),U.r_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))}),H(E,Il.EventType.MESSAGE,z=>{var et;if(!R){const ot=z.data[0];Ht(!!ot,16349);const X=ot,ft=(X==null?void 0:X.error)||((et=X[0])===null||et===void 0?void 0:et.error);if(ft){ht($e,`RPC '${t}' stream ${o} received error:`,ft);const nt=ft.status;let ut=function(C){const M=Ae[C];if(M!==void 0)return GA(M)}(nt),I=ft.message;ut===void 0&&(ut=Z.INTERNAL,I="Unknown error status: "+nt+" with message "+ft.message),R=!0,U.r_(new ct(ut,I)),E.close()}else ht($e,`RPC '${t}' stream ${o} received:`,ot),U.i_(ot)}}),H(d,uA.STAT_EVENT,z=>{z.stat===Um.PROXY?ht($e,`RPC '${t}' stream ${o} detected buffering proxy`):z.stat===Um.NOPROXY&&ht($e,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.n_()},0),U}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return new aD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=i,this.u_=r,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="PersistentStream";class aS{constructor(t,i,r,o,u,h,d,p){this.bi=t,this.R_=r,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new rS(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===i&&this.B_(r,o)},r=>{t(()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(t,i){const r=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ht(sT,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(ht(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iV extends aS{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=uD(this.serializer,t),r=function(u){if(!("targetChange"in u))return Rt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Rt.min():h.readTime?yi(h.readTime):Rt.min()}(t);return this.listener.Q_(i,r)}U_(t){const i={};i.database=Ym(this.serializer),i.addTarget=function(u,h){let d;const p=h.target;if(d=qm(p)?{documents:fD(u,p)}:{query:dD(u,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=QA(u,h.resumeToken);const g=Hm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Rt.min())>0){d.readTime=ph(u,h.snapshotVersion.toTimestamp());const g=Hm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=pD(this.serializer,t);r&&(i.labels=r),this.F_(i)}K_(t){const i={};i.database=Ym(this.serializer),i.removeTarget=t,this.F_(i)}}class sV extends aS{constructor(t,i,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=hD(t.writeResults,t.commitTime),r=yi(t.commitTime);return this.listener.j_(r,i)}H_(){const t={};t.database=Ym(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>cD(this.serializer,r))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{}class aV extends rV{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(t,Gm(i,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())})}Wo(t,i,r,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(t,Gm(i,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(Z.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class oV{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Wi(i),this.ea=!1):ht("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="RemoteStore";class lV{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{r.enqueueAndForget(async()=>{Wr(this)&&(ht(Gr,"Restarting streams for network reachability change."),await async function(p){const g=Ct(p);g.aa.add(4),await fu(g),g.la.set("Unknown"),g.aa.delete(4),await Fh(g)}(this))})}),this.la=new oV(r,o)}}async function Fh(n){if(Wr(n))for(const t of n.ua)await t(!0)}async function fu(n){for(const t of n.ua)await t(!1)}function oS(n,t){const i=Ct(n);i._a.has(t.targetId)||(i._a.set(t.targetId,t),Fp(i)?qp(i):po(i).b_()&&zp(i,t))}function jp(n,t){const i=Ct(n),r=po(i);i._a.delete(t),r.b_()&&lS(i,t),i._a.size===0&&(r.b_()?r.v_():Wr(i)&&i.la.set("Unknown"))}function zp(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(n).U_(t)}function lS(n,t){n.ha.Ke(t),po(n).K_(t)}function qp(n){n.ha=new nD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),po(n).start(),n.la.ta()}function Fp(n){return Wr(n)&&!po(n).w_()&&n._a.size>0}function Wr(n){return Ct(n).aa.size===0}function uS(n){n.ha=void 0}async function uV(n){n.la.set("Online")}async function cV(n){n._a.forEach((t,i)=>{zp(n,t)})}async function hV(n,t){uS(n),Fp(n)?(n.la.ia(t),qp(n)):n.la.set("Unknown")}async function fV(n,t,i){if(n.la.set("Online"),t instanceof YA&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o._a.delete(d),o.ha.removeTarget(d))}(n,t)}catch(r){ht(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await yh(n,r)}else if(t instanceof eh?n.ha.Xe(t):t instanceof KA?n.ha.ot(t):n.ha.nt(t),!i.isEqual(Rt.min()))try{const r=await sS(n.localStore);i.compareTo(r)>=0&&await function(u,h){const d=u.ha.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u._a.get(g);v&&u._a.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u._a.get(p);if(!v)return;u._a.set(p,v.withResumeToken(Ke.EMPTY_BYTE_STRING,v.snapshotVersion)),lS(u,p);const E=new Os(v.target,p,g,v.sequenceNumber);zp(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){ht(Gr,"Failed to raise snapshot:",r),await yh(n,r)}}async function yh(n,t,i){if(!mo(t))throw t;n.aa.add(1),await fu(n),n.la.set("Offline"),i||(i=()=>sS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Gr,"Retrying IndexedDB access"),await i(),n.aa.delete(1),await Fh(n)})}function cS(n,t){return t().catch(i=>yh(n,i,t))}async function Hh(n){const t=Ct(n),i=Hs(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Rp;for(;dV(t);)try{const o=await QD(t.localStore,r);if(o===null){t.oa.length===0&&i.v_();break}r=o.batchId,mV(t,o)}catch(o){await yh(t,o)}hS(t)&&fS(t)}function dV(n){return Wr(n)&&n.oa.length<10}function mV(n,t){n.oa.push(t);const i=Hs(n);i.b_()&&i.W_&&i.G_(t.mutations)}function hS(n){return Wr(n)&&!Hs(n).w_()&&n.oa.length>0}function fS(n){Hs(n).start()}async function pV(n){Hs(n).H_()}async function gV(n){const t=Hs(n);for(const i of n.oa)t.G_(i.mutations)}async function yV(n,t,i){const r=n.oa.shift(),o=Op.from(r,t,i);await cS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Hh(n)}async function vV(n,t){t&&Hs(n).W_&&await async function(r,o){if(function(h){return tD(h)&&h!==Z.ABORTED}(o.code)){const u=r.oa.shift();Hs(r).D_(),await cS(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Hh(r)}}(n,t),hS(n)&&fS(n)}async function rT(n,t){const i=Ct(n);i.asyncQueue.verifyOperationInProgress(),ht(Gr,"RemoteStore received new credentials");const r=Wr(i);i.aa.add(3),await fu(i),r&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Fh(i)}async function _V(n,t){const i=Ct(n);t?(i.aa.delete(2),await Fh(i)):t||(i.aa.add(2),await fu(i),i.la.set("Unknown"))}function po(n){return n.Pa||(n.Pa=function(i,r,o){const u=Ct(i);return u.Y_(),new iV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:uV.bind(null,n),Jo:cV.bind(null,n),Zo:hV.bind(null,n),Q_:fV.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),Fp(n)?qp(n):n.la.set("Unknown")):(await n.Pa.stop(),uS(n))})),n.Pa}function Hs(n){return n.Ta||(n.Ta=function(i,r,o){const u=Ct(i);return u.Y_(),new sV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:pV.bind(null,n),Zo:vV.bind(null,n),z_:gV.bind(null,n),j_:yV.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await Hh(n)):(await n.Ta.stop(),n.oa.length>0&&(ht(Gr,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,d=new Hp(t,i,h,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(n,t){if(Wi("AsyncQueue",`${t}: ${n}`),mo(n))return new ct(Z.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=Ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new eo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.Ia=new le(yt.comparator)}track(t){const i=t.doc.key,r=this.Ia.get(i);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(i):t.type===1&&r.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,r)=>{t.push(r)}),t}}class lo{constructor(t,i,r,o,u,h,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach(d=>{h.push({type:0,doc:d})}),new lo(t,i,eo.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class EV{constructor(){this.queries=oT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,r){const o=Ct(i),u=o.queries;o.queries=oT(),u.forEach((h,d)=>{for(const p of d.Ra)p.onError(r)})})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function oT(){return new $r(n=>MA(n),Lh)}async function dS(n,t){const i=Ct(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Va()&&t.ma()&&(r=2):(u=new TV,r=t.ma()?0:1);try{switch(r){case 0:u.Aa=await i.onListen(o,!0);break;case 1:u.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const d=Gp(h,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Ra.push(t),t.ga(i.onlineState),u.Aa&&t.pa(u.Aa)&&Kp(i)}async function mS(n,t){const i=Ct(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.Ra.indexOf(t);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function AV(n,t){const i=Ct(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const d of h.Ra)d.pa(o)&&(r=!0);h.Aa=o}}r&&Kp(i)}function SV(n,t,i){const r=Ct(n),o=r.queries.get(t);if(o)for(const u of o.Ra)u.onError(i);r.queries.delete(t)}function Kp(n){n.fa.forEach(t=>{t.next()})}var $m,lT;(lT=$m||($m={})).ya="default",lT.Cache="cache";class pS{constructor(t,i,r){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const r=i!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.key=t}}class yS{constructor(t){this.key=t}}class bV{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Pt(),this.mutatedKeys=Pt(),this.Ua=OA(t),this.Ka=new eo(this.Ua)}get Wa(){return this.qa}Ga(t,i){const r=i?i.za:new aT,o=i?i.Ka:this.Ka;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const S=o.get(v),R=Uh(this.query,E)?E:null,U=!!S&&this.mutatedKeys.has(S.key),H=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;S&&R?S.data.isEqual(R.data)?U!==H&&(r.track({type:3,doc:R}),z=!0):this.ja(S,R)||(r.track({type:2,doc:R}),z=!0,(p&&this.Ua(R,p)>0||g&&this.Ua(R,g)<0)&&(d=!0)):!S&&R?(r.track({type:0,doc:R}),z=!0):S&&!R&&(r.track({type:1,doc:S}),z=!0,(p||g)&&(d=!0)),z&&(R?(h=h.add(R),u=H?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{Ka:h,za:r,ys:d,mutatedKeys:u}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const h=t.za.da();h.sort((v,E)=>function(R,U){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:z})}};return H(R)-H(U)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(r),o=o!=null&&o;const d=i&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,h.length!==0||g?{snapshot:new lo(this.query,t.Ka,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new aT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Pt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const i=[];return t.forEach(r=>{this.$a.has(r)||i.push(new yS(r))}),this.$a.forEach(r=>{t.has(r)||i.push(new gS(r))}),i}Xa(t){this.qa=t.Ns,this.$a=Pt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return lo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yp="SyncEngine";class wV{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class RV{constructor(t){this.key=t,this.tu=!1}}class CV{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new $r(d=>MA(d),Lh),this.iu=new Map,this.su=new Set,this.ou=new le(yt.comparator),this._u=new Map,this.au=new Lp,this.uu={},this.cu=new Map,this.lu=oo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function DV(n,t,i=!0){const r=SS(n);let o;const u=r.ru.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await vS(r,t,i,!0),o}async function VV(n,t){const i=SS(n);await vS(i,t,!0,!1)}async function vS(n,t,i,r){const o=await XD(n.localStore,gi(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await xV(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&oS(n.remoteStore,o),d}async function xV(n,t,i,r,o){n.Pu=(E,S,R)=>async function(H,z,et,ot){let X=z.view.Ga(et);X.ys&&(X=await tT(H.localStore,z.query,!1).then(({documents:I})=>z.view.Ga(I,X)));const ft=ot&&ot.targetChanges.get(z.targetId),nt=ot&&ot.targetMismatches.get(z.targetId)!=null,ut=z.view.applyChanges(X,H.isPrimaryClient,ft,nt);return cT(H,z.targetId,ut.Ya),ut.snapshot}(n,E,S,R);const u=await tT(n.localStore,t,!0),h=new bV(t,u.Ns),d=h.Ga(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);cT(n,i,g.Ya);const v=new wV(t,i,h);return n.ru.set(t,v),n.iu.has(i)?n.iu.get(i).push(t):n.iu.set(i,[t]),g.snapshot}async function IV(n,t,i){const r=Ct(n),o=r.ru.get(t),u=r.iu.get(o.targetId);if(u.length>1)return r.iu.set(o.targetId,u.filter(h=>!Lh(h,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&jp(r.remoteStore,o.targetId),Zm(r,o.targetId)}).catch(fo)):(Zm(r,o.targetId),await Qm(r.localStore,o.targetId,!0))}async function MV(n,t){const i=Ct(n),r=i.ru.get(t),o=i.iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),jp(i.remoteStore,r.targetId))}async function OV(n,t,i){const r=jV(n);try{const o=await function(h,d){const p=Ct(h),g=Ve.now(),v=d.reduce((R,U)=>R.add(U.key),Pt());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let U=Ji(),H=Pt();return p.Cs.getEntries(R,v).next(z=>{U=z,U.forEach((et,ot)=>{ot.isValidDocument()||(H=H.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,U)).next(z=>{E=z;const et=[];for(const ot of d){const X=XC(ot,E.get(ot.key).overlayedDocument);X!=null&&et.push(new Zr(ot.key,X,wA(X.value.mapValue),Xi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,et,d)}).next(z=>{S=z;const et=z.applyToLocalDocumentSet(E,H);return p.documentOverlayCache.saveOverlays(R,z.batchId,et)})}).then(()=>({batchId:S.batchId,changes:PA(E)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.uu[h.currentUser.toKey()];g||(g=new le(xt)),g=g.insert(d,p),h.uu[h.currentUser.toKey()]=g}(r,o.batchId,i),await du(r,o.changes),await Hh(r.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");i.reject(u)}}async function _S(n,t){const i=Ct(n);try{const r=await KD(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i._u.get(u);h&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?Ht(h.tu,14607):o.removedDocuments.size>0&&(Ht(h.tu,42227),h.tu=!1))}),await du(i,r,t)}catch(r){await fo(r)}}function uT(n,t,i){const r=Ct(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ru.forEach((u,h)=>{const d=h.view.ga(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ct(h);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const S of E.Ra)S.ga(d)&&(g=!0)}),g&&Kp(p)}(r.eventManager,t),o.length&&r.nu.Q_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function NV(n,t,i){const r=Ct(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r._u.get(t),u=o&&o.key;if(u){let h=new le(yt.comparator);h=h.insert(u,Je.newNoDocument(u,Rt.min()));const d=Pt().add(u),p=new zh(Rt.min(),new Map,new le(xt),h,d);await _S(r,p),r.ou=r.ou.remove(u),r._u.delete(t),Qp(r)}else await Qm(r.localStore,t,!1).then(()=>Zm(r,t,i)).catch(fo)}async function PV(n,t){const i=Ct(n),r=t.batch.batchId;try{const o=await GD(i.localStore,t);ES(i,r,null),TS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await du(i,o)}catch(o){await fo(o)}}async function LV(n,t,i){const r=Ct(n);try{const o=await function(h,d){const p=Ct(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(Ht(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(r.localStore,t);ES(r,t,i),TS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await du(r,o)}catch(o){await fo(o)}}function TS(n,t){(n.cu.get(t)||[]).forEach(i=>{i.resolve()}),n.cu.delete(t)}function ES(n,t,i){const r=Ct(n);let o=r.uu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.uu[r.currentUser.toKey()]=o}}function Zm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.iu.get(t))n.ru.delete(r),i&&n.nu.Tu(r,i);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(r=>{n.au.containsKey(r)||AS(n,r)})}function AS(n,t){n.su.delete(t.path.canonicalString());const i=n.ou.get(t);i!==null&&(jp(n.remoteStore,i),n.ou=n.ou.remove(t),n._u.delete(i),Qp(n))}function cT(n,t,i){for(const r of i)r instanceof gS?(n.au.addReference(r.key,t),UV(n,r)):r instanceof yS?(ht(Yp,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,t),n.au.containsKey(r.key)||AS(n,r.key)):Et(19791,{Iu:r})}function UV(n,t){const i=t.key,r=i.path.canonicalString();n.ou.get(i)||n.su.has(r)||(ht(Yp,"New document in limbo: "+i),n.su.add(r),Qp(n))}function Qp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const i=new yt(ee.fromString(t)),r=n.lu.next();n._u.set(r,new RV(i)),n.ou=n.ou.insert(i,r),oS(n.remoteStore,new Os(gi(xp(i.path)),r,"TargetPurposeLimboResolution",Mh.le))}}async function du(n,t,i){const r=Ct(n),o=[],u=[],h=[];r.ru.isEmpty()||(r.ru.forEach((d,p)=>{h.push(r.Pu(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Bp.Ps(p.targetId,g);u.push(E)}}))}),await Promise.all(h),r.nu.Q_(o),await async function(p,g){const v=Ct(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>tt.forEach(g,S=>tt.forEach(S.ls,R=>v.persistence.referenceDelegate.addReference(E,S.targetId,R)).next(()=>tt.forEach(S.hs,R=>v.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))}catch(E){if(!mo(E))throw E;ht(kp,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const R=v.Ss.get(S),U=R.snapshotVersion,H=R.withLastLimboFreeSnapshotVersion(U);v.Ss=v.Ss.insert(S,H)}}}(r.localStore,u))}async function BV(n,t){const i=Ct(n);if(!i.currentUser.isEqual(t)){ht(Yp,"User change. New user:",t.toKey());const r=await iS(i.localStore,t);i.currentUser=t,function(u,h){u.cu.forEach(d=>{d.forEach(p=>{p.reject(new ct(Z.CANCELLED,h))})}),u.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await du(i,r.Ms)}}function kV(n,t){const i=Ct(n),r=i._u.get(t);if(r&&r.tu)return Pt().add(r.key);{let o=Pt();const u=i.iu.get(t);if(!u)return o;for(const h of u){const d=i.ru.get(h);o=o.unionWith(d.view.Wa)}return o}}function SS(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NV.bind(null,t),t.nu.Q_=AV.bind(null,t.eventManager),t.nu.Tu=SV.bind(null,t.eventManager),t}function jV(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LV.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return HD(this.persistence,new zD,t.initialUser,this.serializer)}Ru(t){return new nS(Up.Ei,this.serializer)}Au(t){return new ZD}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class zV extends vh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){Ht(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RD(r,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new nS(r=>gh.Ei(r,i),this.serializer)}}class Wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,this.syncEngine),await _V(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EV}()}createDatastore(t){const i=qh(t.databaseInfo.databaseId),r=function(u){return new nV(u)}(t.databaseInfo);return function(u,h,d,p){return new aV(u,h,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,h,d){return new lV(r,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,i=>uT(this.syncEngine,i,0),function(){return iT.C()?new iT:new WD}())}createSyncEngine(t,i){return function(o,u,h,d,p,g,v){const E=new CV(o,u,h,d,p,g);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=Ct(o);ht(Gr,"RemoteStore shutting down."),u.aa.add(5),await fu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Wm.provider={build:()=>new Wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class qV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=pA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{ht(Gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(ht(Gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Gp(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function gm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Gs,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await iS(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function hT(n,t){n.asyncQueue.verifyOperationInProgress();const i=await FV(n);ht(Gs,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>rT(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>rT(t.remoteStore,o)),n._onlineComponents=t}async function FV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Gs,"Using user provided OfflineComponentProvider");try{await gm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await gm(n,new vh)}}else ht(Gs,"Using default OfflineComponentProvider"),await gm(n,new zV(void 0));return n._offlineComponents}async function wS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Gs,"Using user provided OnlineComponentProvider"),await hT(n,n._uninitializedComponentsProvider._online)):(ht(Gs,"Using default OnlineComponentProvider"),await hT(n,new Wm))),n._onlineComponents}function HV(n){return wS(n).then(t=>t.syncEngine)}async function RS(n){const t=await wS(n),i=t.eventManager;return i.onListen=DV.bind(null,t.syncEngine),i.onUnlisten=IV.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=VV.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=MV.bind(null,t.syncEngine),i}function GV(n,t,i={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new bS({next:S=>{v.yu(),h.enqueueAndForget(()=>mS(u,E));const R=S.docs.has(d);!R&&S.fromCache?g.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new pS(xp(d.path),v,{includeMetadataChanges:!0,Fa:!0});return dS(u,E)}(await RS(n),n.asyncQueue,t,i,r)),r.promise}function KV(n,t,i={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new bS({next:S=>{v.yu(),h.enqueueAndForget(()=>mS(u,E)),S.fromCache&&p.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new pS(d,v,{includeMetadataChanges:!0,Fa:!0});return dS(u,E)}(await RS(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function YV(n,t,i,r){if(t===!0&&r===!0)throw new ct(Z.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function dT(n){if(!yt.isDocumentKey(n))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mT(n){if(yt.isDocumentKey(n))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Kr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gh(n);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firestore.googleapis.com",pT=!0;class gT{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VS,this.ssl=pT}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:pT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bD)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eC;switch(r.type){case"firstParty":return new rC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=fT.get(i);r&&(ht("ComponentProvider","Removing Datastore"),fT.delete(i),r.terminate())}(this),Promise.resolve()}}function QV(n,t,i,r={}){var o;const u=(n=Kr(n,Kh))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${i}`;u.host!==VS&&u.host!==d&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:r});if(!Kl(p,h)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=We.MOCK_USER;else{g=O2(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new We(E)}n._authCredentials=new nC(new dA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ns(this.firestore,t,this._query)}}class fn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}}class Bs extends ns{constructor(t,i,r){super(t,i,xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new yt(t))}withConverter(t){return new Bs(this.firestore,t,this._path)}}function Jm(n,t,...i){if(n=zn(n),DS("collection","path",t),n instanceof Kh){const r=ee.fromString(t,...i);return mT(r),new Bs(n,null,r)}{if(!(n instanceof fn||n instanceof Bs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return mT(r),new Bs(n.firestore,null,r)}}function eu(n,t,...i){if(n=zn(n),arguments.length===1&&(t=pA.newId()),DS("doc","path",t),n instanceof Kh){const r=ee.fromString(t,...i);return dT(r),new fn(n,null,new yt(r))}{if(!(n instanceof fn||n instanceof Bs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return dT(r),new fn(n.firestore,n instanceof Bs?n.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="AsyncQueue";class vT{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new rS(this,"async_queue_retry"),this.ju=()=>{const r=pm();r&&ht(yT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const i=pm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=pm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Qi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!mo(t))throw t;ht(yT,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Wi("INTERNAL UNHANDLED ERROR: ",_T(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=i,i}enqueueAfterDelay(t,i,r){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const o=Hp.createAndSchedule(this,t,i,r,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Et(47125,{ec:_T(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function _T(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Yh extends Kh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new vT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vT(t),this._firestoreClient=void 0,await t}}}function XV(n,t){const i=typeof n=="object"?n:iA(),r=typeof n=="string"?n:uh,o=cu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=I2("firestore");u&&QV(o,...u)}return o}function Xp(n){if(n._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$V(n),n._firestoreClient}function $V(n){var t,i,r;const o=n._freezeSettings(),u=function(d,p,g,v){return new TC(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,CS(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new qV(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uo(Ke.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new uo(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class xS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Zr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function IS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:n})}}class Jp{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Jp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:r,cc:!1});return o.lc(t),o}hc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return _h(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(IS(this.oc)&&ZV.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class WV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||qh(t)}dc(t,i,r,o=!1){return new Jp({oc:t,methodName:i,Ec:r,path:Ge.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(n){const t=n._freezeSettings(),i=qh(n._databaseId);return new WV(n._databaseId,!!t.ignoreUndefinedProperties,i)}class Xh extends $p{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xh}}function JV(n,t,i,r){const o=n.dc(1,t,i);NS("Data must be an object, but it was:",o,r);const u=[],h=Sn.empty();Xs(r,(p,g)=>{const v=eg(t,p,i);g=zn(g);const E=o.hc(v);if(g instanceof Xh)u.push(v);else{const S=mu(g,E);S!=null&&(u.push(v),h.set(v,S))}});const d=new Xn(u);return new xS(h,d,o.fieldTransforms)}function tx(n,t,i,r,o,u){const h=n.dc(1,t,i),d=[TT(t,r,i)],p=[o];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(TT(t,u[S])),p.push(u[S+1]);const g=[],v=Sn.empty();for(let S=d.length-1;S>=0;--S)if(!ix(g,d[S])){const R=d[S];let U=p[S];U=zn(U);const H=h.hc(R);if(U instanceof Xh)g.push(R);else{const z=mu(U,H);z!=null&&(g.push(R),v.set(R,z))}}const E=new Xn(g);return new xS(v,E,h.fieldTransforms)}function MS(n,t,i,r=!1){return mu(i,n.dc(r?4:3,t))}function mu(n,t){if(OS(n=zn(n)))return NS("Unsupported field value:",t,n),ex(n,t);if(n instanceof $p)return function(r,o){if(!IS(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=mu(d,o.Pc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(n,t)}return function(r,o){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ve.fromDate(r);return{timestampValue:ph(o.serializer,u)}}if(r instanceof Ve){const u=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(r instanceof Zp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:QA(o.serializer,r._byteString)};if(r instanceof fn){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Wp)return function(h,d){return{mapValue:{fields:{[SA]:{stringValue:bA},[ch]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Mp(d.serializer,g)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${Gh(r)}`)}(n,t)}function ex(n,t){const i={};return yA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xs(n,(r,o)=>{const u=mu(o,t.uc(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function OS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ve||n instanceof Zp||n instanceof uo||n instanceof fn||n instanceof $p||n instanceof Wp)}function NS(n,t,i){if(!OS(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=Gh(i);throw r==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+r)}}function TT(n,t,i){if((t=zn(t))instanceof Qh)return t._internalPath;if(typeof t=="string")return eg(n,t);throw _h("Field path arguments must be of type string or ",n,!1,void 0,i)}const nx=new RegExp("[~\\*/\\[\\]]");function eg(n,t,i){if(t.search(nx)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Qh(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function _h(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new ct(Z.INVALID_ARGUMENT,d+n+p)}function ix(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ig("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class sx extends ng{data(){return super.data()}}function ig(n,t){return typeof t=="string"?eg(n,t):t instanceof Qh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class $h extends sg{}function ax(n,t,...i){let r=[];t instanceof sg&&r.push(t),r=r.concat(i),function(u){const h=u.filter(p=>p instanceof ag).length,d=u.filter(p=>p instanceof rg).length;if(h>1||h>0&&d>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class rg extends $h{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new rg(t,i,r)}_apply(t){const i=this._parse(t);return PS(t._query,i),new ns(t.firestore,t.converter,Fm(t._query,i))}_parse(t){const i=tg(t.firestore);return function(u,h,d,p,g,v,E){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){AT(E,v);const U=[];for(const H of E)U.push(ET(p,u,H));S={arrayValue:{values:U}}}else S=ET(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||AT(E,v),S=MS(d,h,E,v==="in"||v==="not-in");return Se.create(g,v,S)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ag extends sg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ag(t,i)}_parse(t){const i=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)PS(h,p),h=Fm(h,p)}(t._query,i),new ns(t.firestore,t.converter,Fm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends $h{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new og(t,i)}_apply(t){const i=function(o,u,h){if(o.startAt!==null)throw new ct(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,h)}(t._query,this._field,this._direction);return new ns(t.firestore,t.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Xr(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))}}function ox(n,t="asc"){const i=t,r=ig("orderBy",n);return og._create(r,i)}class lg extends $h{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new lg(t,i,r)}_apply(t){return new ns(t.firestore,t.converter,fh(t._query,this._limit,this._limitType))}}function lx(n){return lg._create("limit",n,"F")}class ug extends $h{constructor(t,i,r){super(),this.type=t,this._docOrFields=i,this._inclusive=r}static _create(t,i,r){return new ug(t,i,r)}_apply(t){const i=cx(t,this.type,this._docOrFields,this._inclusive);return new ns(t.firestore,t.converter,function(o,u){return new Xr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(t._query,i))}}function ux(...n){return ug._create("startAfter",n,!1)}function cx(n,t,i,r){if(i[0]=zn(i[0]),i[0]instanceof ng)return function(u,h,d,p,g){if(!p)throw new ct(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const E of to(u))if(E.field.isKeyField())v.push(hh(h,p.key));else{const S=p.data.field(E.field);if(Nh(S))throw new ct(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const R=E.field.canonicalString();throw new ct(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(S)}return new ao(v,g)}(n._query,n.firestore._databaseId,t,i[0]._document,r);{const o=tg(n.firestore);return function(h,d,p,g,v,E){const S=h.explicitOrderBy;if(v.length>S.length)throw new ct(Z.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let U=0;U<v.length;U++){const H=v[U];if(S[U].field.isKeyField()){if(typeof H!="string")throw new ct(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!Ip(h)&&H.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const z=h.path.child(ee.fromString(H));if(!yt.isDocumentKey(z))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const et=new yt(z);R.push(hh(d,et))}else{const z=MS(p,g,H);R.push(z)}}return new ao(R,E)}(n._query,n.firestore._databaseId,o,t,i,r)}}function ET(n,t,i){if(typeof(i=zn(i))=="string"){if(i==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ip(t)&&i.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ee.fromString(i));if(!yt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hh(n,new yt(r))}if(i instanceof fn)return hh(n,i._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(i)}.`)}function AT(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function PS(n,t){const i=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class hx{convertValue(t,i="none"){switch(Fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Xs(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[ch].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>ye(h.doubleValue));return new Wp(u)}convertGeoPoint(t){return new Zp(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ph(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const i=zs(t);return new Ve(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);Ht(tS(r),9688,{name:t});const o=new $l(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(i)||Wi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LS extends ng{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ig("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class nh extends LS{data(t={}){return super.data(t)}}class fx{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Nl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new nh(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new nh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Nl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new nh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Nl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:dx(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function dx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(n){n=Kr(n,fn);const t=Kr(n.firestore,Yh);return GV(Xp(t),n._key).then(i=>gx(t,n,i))}class US extends hx{constructor(t){super(),this.firestore=t}convertBytes(t){return new uo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function tp(n){n=Kr(n,ns);const t=Kr(n.firestore,Yh),i=Xp(t),r=new US(t);return rx(n._query),KV(i,n._query).then(o=>new fx(t,r,n,o))}function mx(n,t,i,...r){n=Kr(n,fn);const o=Kr(n.firestore,Yh),u=tg(o);let h;return h=typeof(t=zn(t))=="string"||t instanceof Qh?tx(u,"updateDoc",n._key,t,i,r):JV(u,"updateDoc",n._key,t),px(o,[h.toMutation(n._key,Xi.exists(!0))])}function px(n,t){return function(r,o){const u=new Qi;return r.asyncQueue.enqueueAndForget(async()=>OV(await HV(r),o,u)),u.promise}(Xp(n),t)}function gx(n,t,i){const r=i.docs.get(t._key),o=new US(n);return new LS(n,o,t._key,r,new Nl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){ho=o})(HR),ks(new $i("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new Yh(new iC(r.getProvider("auth-internal")),new aC(h,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),pi(b_,w_,t),pi(b_,w_,"esm2017")})();var yx="firebase",vx="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(yx,vx,"app");const BS="@firebase/installations",cg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1e4,jS=`w:${cg}`,zS="FIS_v2",_x="https://firebaseinstallations.googleapis.com/v1",Tx=60*60*1e3,Ex="installations",Ax="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yr=new Ih(Ex,Ax,Sx);function qS(n){return n instanceof Qs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS({projectId:n}){return`${_x}/projects/${n}/installations`}function HS(n){return{token:n.token,requestStatus:2,expiresIn:wx(n.expiresIn),creationTime:Date.now()}}async function GS(n,t){const r=(await t.json()).error;return Yr.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function bx(n,{refreshToken:t}){const i=KS(n);return i.append("Authorization",Rx(t)),i}async function YS(n){const t=await n();return t.status>=500&&t.status<600?n():t}function wx(n){return Number(n.replace("s","000"))}function Rx(n){return`${zS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=FS(n),o=KS(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:zS,appId:n.appId,sdkVersion:jS},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await YS(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:HS(g.authToken)}}else throw await GS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=/^[cdef][\w-]{21}$/,ep="";function xx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=Ix(n);return Vx.test(i)?i:ep}catch{return ep}}function Ix(n){return Dx(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;function $S(n,t){const i=Zh(n);ZS(i,t),Mx(i,t)}function ZS(n,t){const i=XS.get(n);if(i)for(const r of i)r(t)}function Mx(n,t){const i=Ox();i&&i.postMessage({key:n,fid:t}),Nx()}let Br=null;function Ox(){return!Br&&"BroadcastChannel"in self&&(Br=new BroadcastChannel("[Firebase] FID Change"),Br.onmessage=n=>{ZS(n.data.key,n.data.fid)}),Br}function Nx(){XS.size===0&&Br&&(Br.close(),Br=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebase-installations-database",Lx=1,Qr="firebase-installations-store";let ym=null;function hg(){return ym||(ym=eA(Px,Lx,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Qr)}}})),ym}async function Eh(n,t){const i=Zh(n),o=(await hg()).transaction(Qr,"readwrite"),u=o.objectStore(Qr),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&$S(n,t.fid),t}async function WS(n){const t=Zh(n),r=(await hg()).transaction(Qr,"readwrite");await r.objectStore(Qr).delete(t),await r.done}async function Wh(n,t){const i=Zh(n),o=(await hg()).transaction(Qr,"readwrite"),u=o.objectStore(Qr),h=await u.get(i),d=t(h);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!h||h.fid!==d.fid)&&$S(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(n){let t;const i=await Wh(n.appConfig,r=>{const o=Ux(r),u=Bx(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===ep?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Ux(n){const t=n||{fid:xx(),registrationStatus:0};return JS(t)}function Bx(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Yr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=kx(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:jx(n)}:{installationEntry:t}}async function kx(n,t){try{const i=await Cx(n,t);return Eh(n.appConfig,i)}catch(i){throw qS(i)&&i.customData.serverCode===409?await WS(n.appConfig):await Eh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function jx(n){let t=await ST(n.appConfig);for(;t.registrationStatus===1;)await QS(100),t=await ST(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await fg(n);return r||i}return t}function ST(n){return Wh(n,t=>{if(!t)throw Yr.create("installation-not-found");return JS(t)})}function JS(n){return zx(n)?{fid:n.fid,registrationStatus:0}:n}function zx(n){return n.registrationStatus===1&&n.registrationTime+kS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx({appConfig:n,heartbeatServiceProvider:t},i){const r=Fx(n,i),o=bx(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:jS,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await YS(()=>fetch(r,d));if(p.ok){const g=await p.json();return HS(g)}else throw await GS("Generate Auth Token",p)}function Fx(n,{fid:t}){return`${FS(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(n,t=!1){let i;const r=await Wh(n.appConfig,u=>{if(!t1(u))throw Yr.create("not-registered");const h=u.authToken;if(!t&&Kx(h))return u;if(h.requestStatus===1)return i=Hx(n,t),u;{if(!navigator.onLine)throw Yr.create("app-offline");const d=Qx(u);return i=Gx(n,d),d}});return i?await i:r.authToken}async function Hx(n,t){let i=await bT(n.appConfig);for(;i.authToken.requestStatus===1;)await QS(100),i=await bT(n.appConfig);const r=i.authToken;return r.requestStatus===0?dg(n,t):r}function bT(n){return Wh(n,t=>{if(!t1(t))throw Yr.create("not-registered");const i=t.authToken;return Xx(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Gx(n,t){try{const i=await qx(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await Eh(n.appConfig,r),i}catch(i){if(qS(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await WS(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Eh(n.appConfig,r)}throw i}}function t1(n){return n!==void 0&&n.registrationStatus===2}function Kx(n){return n.requestStatus===2&&!Yx(n)}function Yx(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+Tx}function Qx(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function Xx(n){return n.requestStatus===1&&n.requestTime+kS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(n){const t=n,{installationEntry:i,registrationPromise:r}=await fg(t);return r?r.catch(console.error):dg(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(n,t=!1){const i=n;return await Wx(i),(await dg(i,t)).token}async function Wx(n){const{registrationPromise:t}=await fg(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){if(!n||!n.options)throw vm("App Configuration");if(!n.name)throw vm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw vm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function vm(n){return Yr.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="installations",tI="installations-internal",eI=n=>{const t=n.getProvider("app").getImmediate(),i=Jx(t),r=cu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nI=n=>{const t=n.getProvider("app").getImmediate(),i=cu(t,e1).getImmediate();return{getId:()=>$x(i),getToken:o=>Zx(i,o)}};function iI(){ks(new $i(e1,eI,"PUBLIC")),ks(new $i(tI,nI,"PRIVATE"))}iI();pi(BS,cg);pi(BS,cg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="analytics",sI="firebase_id",rI="origin",aI=60*1e3,oI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Sp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Ih("analytics","Analytics",lI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n){if(!n.startsWith(mg)){const t=bn.create("invalid-gtag-resource",{gtagURL:n});return dn.warn(t.message),""}return n}function n1(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function cI(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function hI(n,t){const i=cI("firebase-js-sdk-policy",{createScriptURL:uI}),r=document.createElement("script"),o=`${mg}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function fI(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function dI(n,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const p=(await n1(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){dn.error(d)}n("config",o,u)}async function mI(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await n1(i);for(const p of h){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){dn.error(u)}}function pI(n,t,i,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await mI(n,t,i,d,p)}else if(u==="config"){const[d,p]=h;await dI(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=h;n("consent",d,p)}else if(u==="get"){const[d,p,g]=h;n("get",d,p,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){dn.error(d)}}return o}function gI(n,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=pI(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function yI(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(mg)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=30,_I=1e3;class TI{constructor(t={},i=_I){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const i1=new TI;function EI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function AI(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:EI(r)},u=oI.replace("{app-id}",i),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function SI(n,t=i1,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw bn.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new RI;return setTimeout(async()=>{d.abort()},aI),s1({appId:r,apiKey:o,measurementId:u},h,d,t)}async function s1(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=i1){var u;const{appId:h,measurementId:d}=n;try{await bI(r,t)}catch(p){if(d)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await AI(n);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!wI(g)){if(o.deleteThrottleMetadata(h),d)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?m_(i,o.intervalMillis,vI):m_(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(h,E),dn.debug(`Calling attemptFetch again in ${v} millis`),s1(n,E,r,o)}}function bI(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function wI(n){if(!(n instanceof Qs)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class RI{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function CI(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,h=Object.assign(Object.assign({},r),{send_to:u});n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(){if(ZE())try{await WE()}catch(n){return dn.warn(bn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return dn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VI(n,t,i,r,o,u,h){var d;const p=SI(n);p.then(R=>{i[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>dn.error(R)),t.push(p);const g=DI().then(R=>{if(R)return r.getId()}),[v,E]=await Promise.all([p,g]);yI(u)||hI(u,v.measurementId),o("js",new Date);const S=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return S[rI]="firebase",S.update=!0,E!=null&&(S[sI]=E),o("config",v.measurementId,S),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.app=t}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},wT=[];const RT={};let _m="dataLayer",II="gtag",CT,r1,DT=!1;function MI(){const n=[];if(L2()&&n.push("This is a browser extension environment."),B2()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=bn.create("invalid-analytics-context",{errorInfo:t});dn.warn(i.message)}}function OI(n,t,i){MI();const r=n.options.appId;if(!r)throw bn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(jl[r]!=null)throw bn.create("already-exists",{id:r});if(!DT){fI(_m);const{wrappedGtag:u,gtagCore:h}=gI(jl,wT,RT,_m,II);r1=u,CT=h,DT=!0}return jl[r]=VI(n,wT,RT,t,CT,_m,i),new xI(n)}function NI(n=iA()){n=zn(n);const t=cu(n,Ah);return t.isInitialized()?t.getImmediate():PI(n)}function PI(n,t={}){const i=cu(n,Ah);if(i.isInitialized()){const o=i.getImmediate();if(Kl(t,i.getOptions()))return o;throw bn.create("already-initialized")}return i.initialize({options:t})}function LI(n,t,i,r){n=zn(n),CI(r1,jl[n.app.options.appId],t,i,r).catch(o=>dn.error(o))}const VT="@firebase/analytics",xT="0.10.12";function UI(){ks(new $i(Ah,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return OI(r,o,i)},"PUBLIC")),ks(new $i("analytics-internal",n,"PRIVATE")),pi(VT,xT),pi(VT,xT,"esm2017");function n(t){try{const i=t.getProvider(Ah).getImmediate();return{logEvent:(r,o,u)=>LI(i,r,o,u)}}catch(i){throw bn.create("interop-component-reg-failed",{reason:i})}}}UI();const BI={apiKey:"AIzaSyDQvvRrnLaotAF32qtVJ8UUDflq2_f8UbM",authDomain:"vinyl-collection-a201a.firebaseapp.com",projectId:"vinyl-collection-a201a",storageBucket:"vinyl-collection-a201a.firebasestorage.app",messagingSenderId:"1028885539181",appId:"1:1028885539181:web:4d928efef3608fda399264",measurementId:"G-LSBHM95N5S"},a1=nA(BI);NI(a1);const Ns=XV(a1),o1=dt.createContext({});function kI(n){const t=dt.useRef(null);return t.current===null&&(t.current=n()),t.current}const pg=typeof window<"u",jI=pg?dt.useLayoutEffect:dt.useEffect,gg=dt.createContext(null),l1=dt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function zI(n=!0){const t=dt.useContext(gg);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=dt.useId();dt.useEffect(()=>{if(n)return o(u)},[n]);const h=dt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}function yg(n,t){n.indexOf(t)===-1&&n.push(t)}function vg(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const ts=(n,t,i)=>i>t?t:i<n?n:i;let _g=()=>{};const es={},u1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),c1=n=>/^0[^.\s]+$/u.test(n);function Tg(n){let t;return()=>(t===void 0&&(t=n()),t)}const jn=n=>n,qI=(n,t)=>i=>t(n(i)),pu=(...n)=>n.reduce(qI),nu=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Eg{constructor(){this.subscriptions=[]}add(t){return yg(this.subscriptions,t),()=>vg(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vi=n=>n*1e3,_i=n=>n/1e3;function h1(n,t){return t?n*(1e3/t):0}const f1=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,FI=1e-7,HI=12;function GI(n,t,i,r,o){let u,h,d=0;do h=t+(i-t)/2,u=f1(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>FI&&++d<HI);return h}function gu(n,t,i,r){if(n===t&&i===r)return jn;const o=u=>GI(u,0,1,n,i);return u=>u===0||u===1?u:f1(o(u),t,r)}const d1=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,m1=n=>t=>1-n(1-t),p1=gu(.33,1.53,.69,.99),Ag=m1(p1),g1=d1(Ag),y1=n=>(n*=2)<1?.5*Ag(n):.5*(2-Math.pow(2,-10*(n-1))),Sg=n=>1-Math.sin(Math.acos(n)),v1=m1(Sg),_1=d1(Sg),KI=gu(.42,0,1,1),YI=gu(0,0,.58,1),T1=gu(.42,0,.58,1),QI=n=>Array.isArray(n)&&typeof n[0]!="number",E1=n=>Array.isArray(n)&&typeof n[0]=="number",XI={linear:jn,easeIn:KI,easeInOut:T1,easeOut:YI,circIn:Sg,circInOut:_1,circOut:v1,backIn:Ag,backInOut:g1,backOut:p1,anticipate:y1},$I=n=>typeof n=="string",IT=n=>{if(E1(n)){_g(n.length===4);const[t,i,r,o]=n;return gu(t,i,r,o)}else if($I(n))return XI[n];return n},Qc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],MT={value:null};function ZI(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){h.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,S=!1,R=!1)=>{const H=R&&o?i:r;return S&&h.add(E),H.has(E)||H.add(E),E},cancel:E=>{r.delete(E),h.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&MT.value&&MT.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const WI=40;function A1(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=Qc.reduce((X,ft)=>(X[ft]=ZI(u,t?ft:void 0),X),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:R,postRender:U}=h,H=()=>{const X=es.useManualTiming?o.timestamp:performance.now();i=!1,es.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(X-o.timestamp,WI),1)),o.timestamp=X,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),R.process(o),U.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(H))},z=()=>{i=!0,r=!0,o.isProcessing||n(H)};return{schedule:Qc.reduce((X,ft)=>{const nt=h[ft];return X[ft]=(ut,I=!1,w=!1)=>(i||z(),nt.schedule(ut,I,w)),X},{}),cancel:X=>{for(let ft=0;ft<Qc.length;ft++)h[Qc[ft]].cancel(X)},state:o,steps:h}}const{schedule:oe,cancel:Ks,state:Fe,steps:Tm}=A1(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);let ih;function JI(){ih=void 0}const hn={now:()=>(ih===void 0&&hn.set(Fe.isProcessing||es.useManualTiming?Fe.timestamp:performance.now()),ih),set:n=>{ih=n,queueMicrotask(JI)}},S1=n=>t=>typeof t=="string"&&t.startsWith(n),bg=S1("--"),tM=S1("var(--"),wg=n=>tM(n)?eM.test(n.split("/*")[0].trim()):!1,eM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,go={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},iu={...go,transform:n=>ts(0,1,n)},Xc={...go,default:1},zl=n=>Math.round(n*1e5)/1e5,Rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nM(n){return n==null}const iM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cg=(n,t)=>i=>!!(typeof i=="string"&&iM.test(i)&&i.startsWith(n)||t&&!nM(i)&&Object.prototype.hasOwnProperty.call(i,t)),b1=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,d]=r.match(Rg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},sM=n=>ts(0,255,n),Em={...go,transform:n=>Math.round(sM(n))},kr={test:Cg("rgb","red"),parse:b1("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Em.transform(n)+", "+Em.transform(t)+", "+Em.transform(i)+", "+zl(iu.transform(r))+")"};function rM(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const np={test:Cg("#"),parse:rM,transform:kr.transform},yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ms=yu("deg"),Ti=yu("%"),bt=yu("px"),aM=yu("vh"),oM=yu("vw"),OT={...Ti,parse:n=>Ti.parse(n)/100,transform:n=>Ti.transform(n*100)},Xa={test:Cg("hsl","hue"),parse:b1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ti.transform(zl(t))+", "+Ti.transform(zl(i))+", "+zl(iu.transform(r))+")"},Ze={test:n=>kr.test(n)||np.test(n)||Xa.test(n),parse:n=>kr.test(n)?kr.parse(n):Xa.test(n)?Xa.parse(n):np.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?kr.transform(n):Xa.transform(n)},lM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uM(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Rg))==null?void 0:t.length)||0)+(((i=n.match(lM))==null?void 0:i.length)||0)>0}const w1="number",R1="color",cM="var",hM="var(",NT="${}",fM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function su(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(fM,p=>(Ze.test(p)?(r.color.push(u),o.push(R1),i.push(Ze.parse(p))):p.startsWith(hM)?(r.var.push(u),o.push(cM),i.push(p)):(r.number.push(u),o.push(w1),i.push(parseFloat(p))),++u,NT)).split(NT);return{values:i,split:d,indexes:r,types:o}}function C1(n){return su(n).values}function D1(n){const{split:t,types:i}=su(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const d=i[h];d===w1?u+=zl(o[h]):d===R1?u+=Ze.transform(o[h]):u+=o[h]}return u}}const dM=n=>typeof n=="number"?0:n;function mM(n){const t=C1(n);return D1(n)(t.map(dM))}const Ys={test:uM,parse:C1,createTransformer:D1,getAnimatableNone:mM};function Am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function pM({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=Am(p,d,n+1/3),u=Am(p,d,n),h=Am(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function Sh(n,t){return i=>i>0?t:n}const ae=(n,t,i)=>n+(t-n)*i,Sm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},gM=[np,kr,Xa],yM=n=>gM.find(t=>t.test(n));function PT(n){const t=yM(n);if(!t)return!1;let i=t.parse(n);return t===Xa&&(i=pM(i)),i}const LT=(n,t)=>{const i=PT(n),r=PT(t);if(!i||!r)return Sh(n,t);const o={...i};return u=>(o.red=Sm(i.red,r.red,u),o.green=Sm(i.green,r.green,u),o.blue=Sm(i.blue,r.blue,u),o.alpha=ae(i.alpha,r.alpha,u),kr.transform(o))},ip=new Set(["none","hidden"]);function vM(n,t){return ip.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function _M(n,t){return i=>ae(n,t,i)}function Dg(n){return typeof n=="number"?_M:typeof n=="string"?wg(n)?Sh:Ze.test(n)?LT:AM:Array.isArray(n)?V1:typeof n=="object"?Ze.test(n)?LT:TM:Sh}function V1(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>Dg(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function TM(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Dg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function EM(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=n.indexes[u][r[u]],d=n.values[h]??0;i[o]=d,r[u]++}return i}const AM=(n,t)=>{const i=Ys.createTransformer(t),r=su(n),o=su(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?ip.has(n)&&!o.values.length||ip.has(t)&&!r.values.length?vM(n,t):pu(V1(EM(r,o),o.values),i):Sh(n,t)};function x1(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?ae(n,t,i):Dg(n)(n,t)}const SM=n=>{const t=({timestamp:i})=>n(i);return{start:()=>oe.update(t,!0),stop:()=>Ks(t),now:()=>Fe.isProcessing?Fe.timestamp:hn.now()}},I1=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=n(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},bh=2e4;function Vg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<bh;)t+=i,r=n.next(t);return t>=bh?1/0:t}function bM(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Vg(r),bh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:_i(o)}}const wM=5;function M1(n,t,i){const r=Math.max(t-wM,0);return h1(i-n(r),t-r)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},UT=.001;function RM({duration:n=fe.duration,bounce:t=fe.bounce,velocity:i=fe.velocity,mass:r=fe.mass}){let o,u,h=1-t;h=ts(fe.minDamping,fe.maxDamping,h),n=ts(fe.minDuration,fe.maxDuration,_i(n)),h<1?(o=g=>{const v=g*h,E=v*n,S=v-i,R=sp(g,h),U=Math.exp(-E);return UT-S/R*U},u=g=>{const E=g*h*n,S=E*i+i,R=Math.pow(h,2)*Math.pow(g,2)*n,U=Math.exp(-E),H=sp(Math.pow(g,2),h);return(-o(g)+UT>0?-1:1)*((S-R)*U)/H}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=DM(o,u,d);if(n=vi(n),isNaN(p))return{stiffness:fe.stiffness,damping:fe.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const CM=12;function DM(n,t,i){let r=i;for(let o=1;o<CM;o++)r=r-n(r)/t(r);return r}function sp(n,t){return n*Math.sqrt(1-t*t)}const VM=["duration","bounce"],xM=["stiffness","damping","mass"];function BT(n,t){return t.some(i=>n[i]!==void 0)}function IM(n){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...n};if(!BT(n,xM)&&BT(n,VM))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*ts(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:fe.mass,stiffness:o,damping:u}}else{const i=RM(n);t={...t,...i,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function wh(n=fe.visualDuration,t=fe.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:R}=IM({...i,velocity:-_i(i.velocity||0)}),U=S||0,H=g/(2*Math.sqrt(p*v)),z=h-u,et=_i(Math.sqrt(p/v)),ot=Math.abs(z)<5;r||(r=ot?fe.restSpeed.granular:fe.restSpeed.default),o||(o=ot?fe.restDelta.granular:fe.restDelta.default);let X;if(H<1){const nt=sp(et,H);X=ut=>{const I=Math.exp(-H*et*ut);return h-I*((U+H*et*z)/nt*Math.sin(nt*ut)+z*Math.cos(nt*ut))}}else if(H===1)X=nt=>h-Math.exp(-et*nt)*(z+(U+et*z)*nt);else{const nt=et*Math.sqrt(H*H-1);X=ut=>{const I=Math.exp(-H*et*ut),w=Math.min(nt*ut,300);return h-I*((U+H*et*z)*Math.sinh(w)+nt*z*Math.cosh(w))/nt}}const ft={calculatedDuration:R&&E||null,next:nt=>{const ut=X(nt);if(R)d.done=nt>=E;else{let I=nt===0?U:0;H<1&&(I=nt===0?vi(U):M1(X,nt,ut));const w=Math.abs(I)<=r,C=Math.abs(h-ut)<=o;d.done=w&&C}return d.value=d.done?h:ut,d},toString:()=>{const nt=Math.min(Vg(ft),bh),ut=I1(I=>ft.next(nt*I).value,nt,30);return nt+"ms "+ut},toTransition:()=>{}};return ft}wh.applyToOptions=n=>{const t=bM(n,100,wh);return n.ease=t.ease,n.duration=vi(t.duration),n.type="keyframes",n};function rp({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},R=w=>d!==void 0&&w<d||p!==void 0&&w>p,U=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let H=i*t;const z=E+H,et=h===void 0?z:h(z);et!==z&&(H=et-E);const ot=w=>-H*Math.exp(-w/r),X=w=>et+ot(w),ft=w=>{const C=ot(w),M=X(w);S.done=Math.abs(C)<=g,S.value=S.done?et:M};let nt,ut;const I=w=>{R(S.value)&&(nt=w,ut=wh({keyframes:[S.value,U(S.value)],velocity:M1(X,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:w=>{let C=!1;return!ut&&nt===void 0&&(C=!0,ft(w),I(w)),nt!==void 0&&w>=nt?ut.next(w-nt):(!C&&ft(w),S)}}}function MM(n,t,i){const r=[],o=i||es.mix||x1,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||jn:t;d=pu(p,d)}r.push(d)}return r}function OM(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(_g(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=MM(t,r,o),p=d.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=nu(n[E],n[E+1],v);return d[E](S)};return i?v=>g(ts(n[0],n[u-1],v)):g}function NM(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=nu(0,t,r);n.push(ae(i,1,o))}}function PM(n){const t=[0];return NM(t,n.length-1),t}function LM(n,t){return n.map(i=>i*t)}function UM(n,t){return n.map(()=>t||T1).splice(0,n.length-1)}function ql({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=QI(r)?r.map(IT):IT(r),u={done:!1,value:t[0]},h=LM(i&&i.length===t.length?i:PM(t),n),d=OM(h,t,{ease:Array.isArray(o)?o:UM(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const BM=n=>n!==null;function xg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(BM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const kM={decay:rp,inertia:rp,tween:ql,keyframes:ql,spring:wh};function O1(n){typeof n.type=="string"&&(n.type=kM[n.type])}class Ig{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const jM=n=>n/100;class N1 extends Ig{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;if(i&&i.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;O1(t);const{type:i=ql,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=t;let{keyframes:d}=t;const p=i||ql;p!==ql&&typeof d[0]!="number"&&(this.mixKeyframes=pu(jM,x1(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=Vg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:R,type:U,onUpdate:H,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const et=this.currentTime-g*(this.playbackSpeed>=0?1:-1),ot=this.playbackSpeed>=0?et<0:et>o;this.currentTime=Math.max(et,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let X=this.currentTime,ft=r;if(E){const w=Math.min(this.currentTime,o)/d;let C=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(S==="reverse"?(M=1-M,R&&(M-=R/d)):S==="mirror"&&(ft=h)),X=ts(0,1,M)*d}const nt=ot?{done:!1,value:v[0]}:ft.next(X);u&&(nt.value=u(nt.value));let{done:ut}=nt;!ot&&p!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return I&&U!==rp&&(nt.value=xg(v,this.options,z,this.speed)),H&&H(nt.value),I&&this.finish(),nt}then(t,i){return this.finished.then(t,i)}get duration(){return _i(this.calculatedDuration)}get time(){return _i(this.currentTime)}set time(t){t=vi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=SM,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function zM(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const jr=n=>n*180/Math.PI,ap=n=>{const t=jr(Math.atan2(n[1],n[0]));return op(t)},qM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ap,rotateZ:ap,skewX:n=>jr(Math.atan(n[1])),skewY:n=>jr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},op=n=>(n=n%360,n<0&&(n+=360),n),kT=ap,jT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),zT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),FM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:zT,scale:n=>(jT(n)+zT(n))/2,rotateX:n=>op(jr(Math.atan2(n[6],n[5]))),rotateY:n=>op(jr(Math.atan2(-n[2],n[0]))),rotateZ:kT,rotate:kT,skewX:n=>jr(Math.atan(n[4])),skewY:n=>jr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function qT(n){return n.includes("scale")?1:0}function lp(n,t){if(!n||n==="none")return qT(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=FM,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qM,o=d}if(!o)return qT(t);const u=r[t],h=o[1].split(",").map(GM);return typeof u=="function"?u(h):h[u]}const HM=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return lp(i,t)};function GM(n){return parseFloat(n.trim())}const yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vo=new Set(yo),FT=n=>n===go||n===bt,KM=new Set(["x","y","z"]),YM=yo.filter(n=>!KM.has(n));function QM(n){const t=[];return YM.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const qr={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>lp(t,"x"),y:(n,{transform:t})=>lp(t,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Fr=new Set;let up=!1,cp=!1,hp=!1;function P1(){if(cp){const n=Array.from(Fr).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=QM(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{var d;(d=r.getValue(u))==null||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cp=!1,up=!1,Fr.forEach(n=>n.complete(hp)),Fr.clear()}function L1(){Fr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(cp=!0)})}function XM(){hp=!0,L1(),P1(),hp=!1}class Mg{constructor(t,i,r,o,u,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Fr.add(this),up||(up=!0,oe.read(L1),oe.resolveKeyframes(P1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,h);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=h),o&&u===void 0&&o.set(t[0])}zM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Fr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $M=n=>n.startsWith("--");function ZM(n,t,i){$M(t)?n.style.setProperty(t,i):n.style[t]=i}const WM=Tg(()=>window.ScrollTimeline!==void 0),JM={};function t4(n,t){const i=Tg(n);return()=>JM[t]??i()}const U1=t4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,HT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pl([0,.65,.55,1]),circOut:Pl([.55,0,1,.45]),backIn:Pl([.31,.01,.66,-.59]),backOut:Pl([.33,1.53,.69,.99])};function B1(n,t){if(n)return typeof n=="function"?U1()?I1(n,t):"ease-out":E1(n)?Pl(n):Array.isArray(n)?n.map(i=>B1(i,t)||HT.easeOut):HT[n]}function e4(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=B1(d,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function k1(n){return typeof n=="function"&&"applyToOptions"in n}function n4({type:n,...t}){return k1(n)&&U1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i4 extends Ig{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,_g(typeof t.type!="string");const g=n4(t);this.animation=e4(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=xg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):ZM(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return _i(Number(t))}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&WM()?(this.animation.timeline=t,jn):i(this)}}const j1={anticipate:y1,backInOut:g1,circInOut:_1};function s4(n){return n in j1}function r4(n){typeof n.ease=="string"&&s4(n.ease)&&(n.ease=j1[n.ease])}const GT=10;class a4 extends i4{constructor(t){r4(t),O1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new N1({...h,autoplay:!1}),p=vi(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-GT).value,d.sample(p).value,GT),d.stop()}}const KT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ys.test(n)||n==="0")&&!n.startsWith("url("));function o4(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function l4(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=KT(o,t),d=KT(u,t);return!h||!d?!1:o4(n)||(i==="spring"||k1(i))&&r}const u4=new Set(["opacity","clipPath","filter","transform"]),c4=Tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h4(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=n;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return c4()&&i&&u4.has(i)&&(i!=="transform"||!p)&&!d&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const f4=40;class d4 extends Ig{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){var U;super(),this.stop=()=>{var H,z;this._animation?(this._animation.stop(),(H=this.stopTimeline)==null||H.call(this)):(z=this.keyframeResolver)==null||z.cancel()},this.createdAt=hn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,name:p,motionValue:g,element:v,...E},R=(v==null?void 0:v.KeyframeResolver)||Mg;this.keyframeResolver=new R(d,(H,z,et)=>this.onKeyframesResolved(H,z,S,!et),p,g,v),(U=this.keyframeResolver)==null||U.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=hn.now(),l4(t,u,h,d)||((es.instantAnimations||!p)&&(v==null||v(xg(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>f4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},R=!g&&h4(S)?new a4({...S,element:S.motionValue.owner.current}):new N1(S);R.finished.then(()=>this.notifyFinished()).catch(jn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||XM(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const m4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p4(n){const t=m4.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function z1(n,t,i=1){const[r,o]=p4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return u1(h)?parseFloat(h):h}return wg(o)?z1(o,t,i+1):o}function Og(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const q1=new Set(["width","height","top","left","right","bottom",...yo]),g4={test:n=>n==="auto",parse:n=>n},F1=n=>t=>t.test(n),H1=[go,bt,Ti,Ms,oM,aM,g4],YT=n=>H1.find(F1(n));function y4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||c1(n):!0}const v4=new Set(["brightness","contrast","saturate","opacity"]);function _4(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Rg)||[];if(!r)return n;const o=i.replace(r,"");let u=v4.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const T4=/\b([a-z-]*)\(.*?\)/gu,fp={...Ys,getAnimatableNone:n=>{const t=n.match(T4);return t?t.map(_4).join(" "):n}},QT={...go,transform:Math.round},E4={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:Xc,scaleX:Xc,scaleY:Xc,scaleZ:Xc,skew:Ms,skewX:Ms,skewY:Ms,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:iu,originX:OT,originY:OT,originZ:bt},Ng={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...E4,zIndex:QT,fillOpacity:iu,strokeOpacity:iu,numOctaves:QT},A4={...Ng,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:fp,WebkitFilter:fp},G1=n=>A4[n];function K1(n,t){let i=G1(n);return i!==fp&&(i=Ys),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const S4=new Set(["auto","none","0"]);function b4(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!S4.has(u)&&su(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=K1(i,o)}class w4 extends Mg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),wg(g))){const v=z1(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!q1.has(r)||t.length!==2)return;const[o,u]=t,h=YT(o),d=YT(u);if(h!==d)if(FT(h)&&FT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else qr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||y4(t[o]))&&r.push(o);r.length&&b4(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=qr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function R4(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const{schedule:Pg}=A1(queueMicrotask,!1),Qn={x:!1,y:!1};function Y1(){return Qn.x||Qn.y}function C4(n){return n==="x"||n==="y"?Qn[n]?null:(Qn[n]=!0,()=>{Qn[n]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}function Q1(n,t){const i=R4(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function XT(n){return!(n.pointerType==="touch"||Y1())}function D4(n,t,i={}){const[r,o,u]=Q1(n,i),h=d=>{if(!XT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{XT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}const X1=(n,t)=>t?n===t?!0:X1(n,t.parentElement):!1,Lg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,V4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function x4(n){return V4.has(n.tagName)||n.tabIndex!==-1}const Ll=new WeakSet;function $T(n){return t=>{t.key==="Enter"&&n(t)}}function bm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const I4=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=$T(()=>{if(Ll.has(i))return;bm(i,"down");const o=$T(()=>{bm(i,"up")}),u=()=>bm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function ZT(n){return Lg(n)&&!Y1()}function M4(n,t,i={}){const[r,o,u]=Q1(n,i),h=d=>{const p=d.currentTarget;if(!ZT(d)||Ll.has(p))return;Ll.add(p);const g=t(p,d),v=(R,U)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),!(!ZT(R)||!Ll.has(p))&&(Ll.delete(p),typeof g=="function"&&g(R,{success:U}))},E=R=>{v(R,p===window||p===document||i.useGlobalTarget||X1(p,R.target))},S=R=>{v(R,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),d instanceof HTMLElement&&(d.addEventListener("focus",g=>I4(g,o)),!x4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}const WT=30,O4=n=>!isNaN(parseFloat(n));class N4{constructor(t,i={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var h,d;const u=hn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((h=this.events.change)==null||h.notify(this.current)),o&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=O4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Eg);const r=this.events[t].add(i);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,WT);return h1(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ru(n,t){return new N4(n,t)}const P4=[...H1,Ze,Ys],L4=n=>P4.find(F1(n)),$1=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Z1=dt.createContext({strict:!1}),JT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},co={};for(const n in JT)co[n]={isEnabled:t=>JT[n].some(i=>!!t[i])};function U4(n){for(const t in n)co[t]={...co[t],...n[t]}}const B4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||B4.has(n)}let W1=n=>!Rh(n);function k4(n){n&&(W1=t=>t.startsWith("on")?!Rh(t):n(t))}try{k4(require("@emotion/is-prop-valid").default)}catch{}function j4(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(W1(o)||i===!0&&Rh(o)||!t&&!Rh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function z4(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const Jh=dt.createContext({});function tf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function au(n){return typeof n=="string"||Array.isArray(n)}const Ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bg=["initial",...Ug];function ef(n){return tf(n.animate)||Bg.some(t=>au(n[t]))}function J1(n){return!!(ef(n)||n.variants)}function q4(n,t){if(ef(n)){const{initial:i,animate:r}=n;return{initial:i===!1||au(i)?i:void 0,animate:au(r)?r:void 0}}return n.inherit!==!1?t:{}}function F4(n){const{initial:t,animate:i}=q4(n,dt.useContext(Jh));return dt.useMemo(()=>({initial:t,animate:i}),[tE(t),tE(i)])}function tE(n){return Array.isArray(n)?n.join(" "):n}const H4=Symbol.for("motionComponentSymbol");function $a(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function G4(n,t,i){return dt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):$a(i)&&(i.current=r))},[t])}const kg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K4="framerAppearId",tb="data-"+kg(K4),eb=dt.createContext({});function Y4(n,t,i,r,o){var H,z;const{visualElement:u}=dt.useContext(Jh),h=dt.useContext(Z1),d=dt.useContext(gg),p=dt.useContext(l1).reducedMotion,g=dt.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=dt.useContext(eb);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&Q4(g.current,i,o,E);const S=dt.useRef(!1);dt.useInsertionEffect(()=>{v&&S.current&&v.update(i,d)});const R=i[tb],U=dt.useRef(!!R&&!((H=window.MotionHandoffIsComplete)!=null&&H.call(window,R))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,R)));return jI(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Pg.render(v.render),U.current&&v.animationState&&v.animationState.animateChanges())}),dt.useEffect(()=>{v&&(!U.current&&v.animationState&&v.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{var et;(et=window.MotionHandoffMarkAsComplete)==null||et.call(window,R)}),U.current=!1))}),v}function Q4(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:nb(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&$a(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function nb(n){if(n)return n.options.allowProjection!==!1?n.projection:nb(n.parent)}function X4({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){n&&U4(n);function u(d,p){let g;const v={...dt.useContext(l1),...d,layoutId:$4(d)},{isStatic:E}=v,S=F4(d),R=r(d,E);if(!E&&pg){Z4();const U=W4(v);g=U.MeasureLayout,S.visualElement=Y4(o,R,v,t,U.ProjectionNode)}return it.jsxs(Jh.Provider,{value:S,children:[g&&S.visualElement?it.jsx(g,{visualElement:S.visualElement,...v}):null,i(o,d,G4(R,S.visualElement,p),R,E,S.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const h=dt.forwardRef(u);return h[H4]=o,h}function $4({layoutId:n}){const t=dt.useContext(o1).id;return t&&n!==void 0?t+"-"+n:n}function Z4(n,t){dt.useContext(Z1).strict}function W4(n){const{drag:t,layout:i}=co;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ou={};function J4(n){for(const t in n)ou[t]=n[t],bg(t)&&(ou[t].isCSSVariable=!0)}function ib(n,{layout:t,layoutId:i}){return vo.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!ou[n]||n==="opacity")}const tn=n=>!!(n&&n.getVelocity),tO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eO=yo.length;function nO(n,t,i){let r="",o=!0;for(let u=0;u<eO;u++){const h=yo[u],d=n[h];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(h.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=$1(d,Ng[h]);if(!p){o=!1;const v=tO[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function jg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const p in t){const g=t[p];if(vo.has(p)){h=!0;continue}else if(bg(p)){o[p]=g;continue}else{const v=$1(g,Ng[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=nO(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const zg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sb(n,t,i){for(const r in t)!tn(t[r])&&!ib(r,i)&&(n[r]=t[r])}function iO({transformTemplate:n},t){return dt.useMemo(()=>{const i=zg();return jg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function sO(n,t){const i=n.style||{},r={};return sb(r,i,n),Object.assign(r,iO(n,t)),r}function rO(n,t){const i={},r=sO(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qg(n){return typeof n!="string"||n.includes("-")?!1:!!(aO.indexOf(n)>-1||/[A-Z]/u.test(n))}const oO={offset:"stroke-dashoffset",array:"stroke-dasharray"},lO={offset:"strokeDashoffset",array:"strokeDasharray"};function uO(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?oO:lO;n[u.offset]=bt.transform(-r);const h=bt.transform(t),d=bt.transform(i);n[u.array]=`${h} ${d}`}function rb(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...d},p,g,v){if(jg(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S}=n;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&uO(E,o,u,h,!1)}const ab=()=>({...zg(),attrs:{}}),ob=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cO(n,t,i,r){const o=dt.useMemo(()=>{const u=ab();return rb(u,t,ob(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};sb(u,n.style,n),o.style={...u,...o.style}}return o}function hO(n=!1){return(i,r,o,{latestValues:u},h)=>{const p=(qg(i)?cO:rO)(r,u,h,i),g=j4(r,typeof i=="string",n),v=i!==dt.Fragment?{...g,...p,ref:o}:{},{children:E}=r,S=dt.useMemo(()=>tn(E)?E.get():E,[E]);return dt.createElement(i,{...v,children:S})}}function eE(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Fg(n,t,i,r){if(typeof t=="function"){const[o,u]=eE(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=eE(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function sh(n){return tn(n)?n.get():n}function fO({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:dO(i,r,o,n),renderState:t()}}const lb=n=>(t,i)=>{const r=dt.useContext(Jh),o=dt.useContext(gg),u=()=>fO(n,t,r,o);return i?u():kI(u)};function dO(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=sh(u[S]);let{initial:h,animate:d}=n;const p=ef(n),g=J1(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!tf(E)){const S=Array.isArray(E)?E:[E];for(let R=0;R<S.length;R++){const U=Fg(n,S[R]);if(U){const{transitionEnd:H,transition:z,...et}=U;for(const ot in et){let X=et[ot];if(Array.isArray(X)){const ft=v?X.length-1:0;X=X[ft]}X!==null&&(o[ot]=X)}for(const ot in H)o[ot]=H[ot]}}}return o}function Hg(n,t,i){var u;const{style:r}=n,o={};for(const h in r)(tn(r[h])||t.style&&tn(t.style[h])||ib(h,n)||((u=i==null?void 0:i.getValue(h))==null?void 0:u.liveStyle)!==void 0)&&(o[h]=r[h]);return o}const mO={useVisualState:lb({scrapeMotionValuesFromProps:Hg,createRenderState:zg})};function ub(n,t,i){const r=Hg(n,t,i);for(const o in n)if(tn(n[o])||tn(t[o])){const u=yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const pO={useVisualState:lb({scrapeMotionValuesFromProps:ub,createRenderState:ab})};function gO(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const h={...qg(r)?pO:mO,preloadedFeatures:n,useRender:hO(o),createVisualElement:t,Component:r};return X4(h)}}function lu(n,t,i){const r=n.getProps();return Fg(r,t,i!==void 0?i:r.custom,n)}const dp=n=>Array.isArray(n);function yO(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,ru(i))}function vO(n){return dp(n)?n[n.length-1]||0:n}function _O(n,t){const i=lu(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const d=vO(u[h]);yO(n,h,d)}}function TO(n){return!!(tn(n)&&n.add)}function mp(n,t){const i=n.getValue("willChange");if(TO(i))return i.add(t);if(!i&&es.WillChange){const r=new es.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function cb(n){return n.props[tb]}const EO=n=>n!==null;function AO(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(EO),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const SO={type:"spring",stiffness:500,damping:25,restSpeed:10},bO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),wO={type:"keyframes",duration:.8},RO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CO=(n,{keyframes:t})=>t.length>2?wO:vo.has(n)?n.startsWith("scale")?bO(t[1]):SO:RO;function DO({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Gg=(n,t,i,r={},o,u)=>h=>{const d=Og(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-vi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};DO(d)||Object.assign(v,CO(n,v)),v.duration&&(v.duration=vi(v.duration)),v.repeatDelay&&(v.repeatDelay=vi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),(es.instantAnimations||es.skipAnimations)&&(E=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const S=AO(v.keyframes,d);if(S!==void 0){oe.update(()=>{v.onUpdate(S),v.onComplete()});return}}return new d4(v)};function VO({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function hb(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||g&&VO(g,v))continue;const R={delay:i,...Og(u||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===U&&!R.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const et=cb(n);if(et){const ot=window.MotionHandoffAnimation(et,v,oe);ot!==null&&(R.startTime=ot,H=!0)}}mp(n,v),E.start(Gg(v,E,S,n.shouldReduceMotion&&q1.has(v)?{type:!1}:R,n,H));const z=E.animation;z&&p.push(z)}return h&&Promise.all(p).then(()=>{oe.update(()=>{h&&_O(n,h)})}),p}function pp(n,t,i={}){var p;const r=lu(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(hb(n,r,i)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:S}=o;return xO(n,t,v+g,E,S,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,v]=d==="beforeChildren"?[u,h]:[h,u];return g().then(()=>v())}else return Promise.all([u(),h(i.delay)])}function xO(n,t,i=0,r=0,o=1,u){const h=[],d=(n.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(IO).forEach((g,v)=>{g.notify("AnimationStart",t),h.push(pp(g,t,{...u,delay:i+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(h)}function IO(n,t){return n.sortNodePosition(t)}function MO(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>pp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=pp(n,t,i);else{const o=typeof t=="function"?lu(n,t,i.custom):t;r=Promise.all(hb(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function fb(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const OO=Bg.length;function db(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?db(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<OO;i++){const r=Bg[i],o=n.props[r];(au(o)||o===!1)&&(t[r]=o)}return t}const NO=[...Ug].reverse(),PO=Ug.length;function LO(n){return t=>Promise.all(t.map(({animation:i,options:r})=>MO(n,i,r)))}function UO(n){let t=LO(n),i=nE(),r=!0;const o=p=>(g,v)=>{var S;const E=lu(n,v,p==="exit"?(S=n.presenceContext)==null?void 0:S.custom:void 0);if(E){const{transition:R,transitionEnd:U,...H}=E;g={...g,...H,...U}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=db(n.parent)||{},E=[],S=new Set;let R={},U=1/0;for(let z=0;z<PO;z++){const et=NO[z],ot=i[et],X=g[et]!==void 0?g[et]:v[et],ft=au(X),nt=et===p?ot.isActive:null;nt===!1&&(U=z);let ut=X===v[et]&&X!==g[et]&&ft;if(ut&&r&&n.manuallyAnimateOnMount&&(ut=!1),ot.protectedKeys={...R},!ot.isActive&&nt===null||!X&&!ot.prevProp||tf(X)||typeof X=="boolean")continue;const I=BO(ot.prevProp,X);let w=I||et===p&&ot.isActive&&!ut&&ft||z>U&&ft,C=!1;const M=Array.isArray(X)?X:[X];let N=M.reduce(o(et),{});nt===!1&&(N={});const{prevResolvedValues:P={}}=ot,V={...P,...N},ne=Y=>{w=!0,S.has(Y)&&(C=!0,S.delete(Y)),ot.needsAnimating[Y]=!0;const rt=n.getValue(Y);rt&&(rt.liveStyle=!1)};for(const Y in V){const rt=N[Y],At=P[Y];if(R.hasOwnProperty(Y))continue;let x=!1;dp(rt)&&dp(At)?x=!fb(rt,At):x=rt!==At,x?rt!=null?ne(Y):S.add(Y):rt!==void 0&&S.has(Y)?ne(Y):ot.protectedKeys[Y]=!0}ot.prevProp=X,ot.prevResolvedValues=N,ot.isActive&&(R={...R,...N}),r&&n.blockInitialAnimation&&(w=!1),w&&(!(ut&&I)||C)&&E.push(...M.map(Y=>({animation:Y,options:{type:et}})))}if(S.size){const z={};if(typeof g.initial!="boolean"){const et=lu(n,Array.isArray(g.initial)?g.initial[0]:g.initial);et&&et.transition&&(z.transition=et.transition)}S.forEach(et=>{const ot=n.getBaseTarget(et),X=n.getValue(et);X&&(X.liveStyle=!0),z[et]=ot??null}),E.push({animation:z})}let H=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(H=!1),r=!1,H?t(E):Promise.resolve()}function d(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(S=>{var R;return(R=S.animationState)==null?void 0:R.setActive(p,g)}),i[p].isActive=g;const v=h(p);for(const S in i)i[S].protectedKeys={};return v}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=nE(),r=!0}}}function BO(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!fb(t,n):!1}function Nr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nE(){return{animate:Nr(!0),whileInView:Nr(),whileHover:Nr(),whileTap:Nr(),whileDrag:Nr(),whileFocus:Nr(),exit:Nr()}}class $s{constructor(t){this.isMounted=!1,this.node=t}update(){}}class kO extends $s{constructor(t){super(t),t.animationState||(t.animationState=UO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let jO=0;class zO extends $s{constructor(){super(...arguments),this.id=jO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qO={animation:{Feature:kO},exit:{Feature:zO}};function uu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function vu(n){return{point:{x:n.pageX,y:n.pageY}}}const FO=n=>t=>Lg(t)&&n(t,vu(t));function Fl(n,t,i,r){return uu(n,t,FO(i),r)}function mb({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function HO({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function GO(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const pb=1e-4,KO=1-pb,YO=1+pb,gb=.01,QO=0-gb,XO=0+gb;function an(n){return n.max-n.min}function $O(n,t,i){return Math.abs(n-t)<=i}function iE(n,t,i,r=.5){n.origin=r,n.originPoint=ae(t.min,t.max,n.origin),n.scale=an(i)/an(t),n.translate=ae(i.min,i.max,n.origin)-n.originPoint,(n.scale>=KO&&n.scale<=YO||isNaN(n.scale))&&(n.scale=1),(n.translate>=QO&&n.translate<=XO||isNaN(n.translate))&&(n.translate=0)}function Hl(n,t,i,r){iE(n.x,t.x,i.x,r?r.originX:void 0),iE(n.y,t.y,i.y,r?r.originY:void 0)}function sE(n,t,i){n.min=i.min+t.min,n.max=n.min+an(t)}function ZO(n,t,i){sE(n.x,t.x,i.x),sE(n.y,t.y,i.y)}function rE(n,t,i){n.min=t.min-i.min,n.max=n.min+an(t)}function Gl(n,t,i){rE(n.x,t.x,i.x),rE(n.y,t.y,i.y)}const aE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Za=()=>({x:aE(),y:aE()}),oE=()=>({min:0,max:0}),ge=()=>({x:oE(),y:oE()});function kn(n){return[n("x"),n("y")]}function wm(n){return n===void 0||n===1}function gp({scale:n,scaleX:t,scaleY:i}){return!wm(n)||!wm(t)||!wm(i)}function Lr(n){return gp(n)||yb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yb(n){return lE(n.x)||lE(n.y)}function lE(n){return n&&n!=="0%"}function Ch(n,t,i){const r=n-i,o=t*r;return i+o}function uE(n,t,i,r,o){return o!==void 0&&(n=Ch(n,o,r)),Ch(n,i,r)+t}function yp(n,t=0,i=1,r,o){n.min=uE(n.min,t,i,r,o),n.max=uE(n.max,t,i,r,o)}function vb(n,{x:t,y:i}){yp(n.x,t.translate,t.scale,t.originPoint),yp(n.y,i.translate,i.scale,i.originPoint)}const cE=.999999999999,hE=1.0000000000001;function WO(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let d=0;d<o;d++){u=i[d],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ja(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,vb(n,h)),r&&Lr(u.latestValues)&&Ja(n,u.latestValues))}t.x<hE&&t.x>cE&&(t.x=1),t.y<hE&&t.y>cE&&(t.y=1)}function Wa(n,t){n.min=n.min+t,n.max=n.max+t}function fE(n,t,i,r,o=.5){const u=ae(n.min,n.max,o);yp(n,t,i,u,r)}function Ja(n,t){fE(n.x,t.x,t.scaleX,t.scale,t.originX),fE(n.y,t.y,t.scaleY,t.scale,t.originY)}function _b(n,t){return mb(GO(n.getBoundingClientRect(),t))}function JO(n,t,i){const r=_b(n,i),{scroll:o}=t;return o&&(Wa(r.x,o.offset.x),Wa(r.y,o.offset.y)),r}const Tb=({current:n})=>n?n.ownerDocument.defaultView:null,dE=(n,t)=>Math.abs(n-t);function tN(n,t){const i=dE(n.x,t.x),r=dE(n.y,t.y);return Math.sqrt(i**2+r**2)}class Eb{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Cm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=tN(E.offset,{x:0,y:0})>=3;if(!S&&!R)return;const{point:U}=E,{timestamp:H}=Fe;this.history.push({...U,timestamp:H});const{onStart:z,onMove:et}=this.handlers;S||(z&&z(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),et&&et(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Rm(S,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:R,onSessionEnd:U,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Cm(E.type==="pointercancel"?this.lastMoveEventInfo:Rm(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(E,z),U&&U(E,z)},!Lg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const h=vu(t),d=Rm(h,this.transformPagePoint),{point:p}=d,{timestamp:g}=Fe;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,Cm(d,this.history)),this.removeListeners=pu(Fl(this.contextWindow,"pointermove",this.handlePointerMove),Fl(this.contextWindow,"pointerup",this.handlePointerUp),Fl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Rm(n,t){return t?{point:t(n.point)}:n}function mE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Cm({point:n},t){return{point:n,delta:mE(n,Ab(t)),offset:mE(n,eN(t)),velocity:nN(t,.1)}}function eN(n){return n[0]}function Ab(n){return n[n.length-1]}function nN(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=Ab(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>vi(t)));)i--;if(!r)return{x:0,y:0};const u=_i(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function iN(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?ae(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?ae(i,n,r.max):Math.min(n,i)),n}function pE(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function sN(n,{top:t,left:i,bottom:r,right:o}){return{x:pE(n.x,i,o),y:pE(n.y,t,r)}}function gE(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function rN(n,t){return{x:gE(n.x,t.x),y:gE(n.y,t.y)}}function aN(n,t){let i=.5;const r=an(n),o=an(t);return o>r?i=nu(t.min,t.max-r,n.min):r>o&&(i=nu(n.min,n.max-o,t.min)),ts(0,1,i)}function oN(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const vp=.35;function lN(n=vp){return n===!1?n=0:n===!0&&(n=vp),{x:yE(n,"left","right"),y:yE(n,"top","bottom")}}function yE(n,t,i){return{min:vE(n,t),max:vE(n,i)}}function vE(n,t){return typeof n=="number"?n:n[t]||0}const uN=new WeakMap;class cN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(vu(v).point)},u=(v,E)=>{const{drag:S,dragPropagation:R,onDragStart:U}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C4(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(z=>{let et=this.getAxisMotionValue(z).get()||0;if(Ti.test(et)){const{projection:ot}=this.visualElement;if(ot&&ot.layout){const X=ot.layout.layoutBox[z];X&&(et=an(X)*(parseFloat(et)/100))}}this.originPoint[z]=et}),U&&oe.postRender(()=>U(v,E)),mp(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},h=(v,E)=>{const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:U,onDrag:H}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=E;if(R&&this.currentDirection===null){this.currentDirection=hN(z),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,z),this.updateAxis("y",E.point,z),this.visualElement.render(),H&&H(v,E)},d=(v,E)=>this.stop(v,E),p=()=>kn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Eb(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Tb(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&oe.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!$c(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=iN(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&$a(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=sN(r.layoutBox,t):this.constraints=!1,this.elastic=lN(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=oN(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!$a(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=JO(r,o.root,this.visualElement.getTransformPagePoint());let h=rN(o.layout.layoutBox,u);if(i){const d=i(HO(h));this.hasMutatedConstraints=!!d,d&&(h=mb(d))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=kn(v=>{if(!$c(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const S=o?200:1e6,R=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return mp(this.visualElement,t),r.start(Gg(t,r,0,i,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kn(i=>{const{drag:r}=this.getProps();if(!$c(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];u.set(t[i]-ae(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!$a(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const p=d.get();o[h]=aN({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(h=>{if(!$c(h,t,null))return;const d=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];d.set(ae(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;uN.set(this.visualElement,this);const t=this.visualElement.current,i=Fl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();$a(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(r);const h=uu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(kn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{h(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=vp,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function $c(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function hN(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class fN extends $s{constructor(t){super(t),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new cN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const _E=n=>(t,i)=>{n&&oe.postRender(()=>n(t,i))};class dN extends $s{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(t){this.session=new Eb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:_E(t),onStart:_E(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&oe.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Fl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const xl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(bt.test(n))n=parseFloat(n);else return n;const i=TE(n,t.target.x),r=TE(n,t.target.y);return`${i}% ${r}%`}},mN={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Ys.parse(n);if(o.length>5)return r;const u=Ys.createTransformer(n),h=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=d,o[1+h]/=p;const g=ae(d,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};class pN extends dt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;J4(gN),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||oe.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sb(n){const[t,i]=zI(),r=dt.useContext(o1);return it.jsx(pN,{...n,layoutGroup:r,switchLayoutGroup:dt.useContext(eb),isPresent:t,safeToRemove:i})}const gN={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:mN};function yN(n,t,i){const r=tn(n)?n:ru(n);return r.start(Gg("",r,t,i)),r.animation}function vN(n){return n instanceof SVGElement&&n.tagName!=="svg"}const _N=(n,t)=>n.depth-t.depth;class TN{constructor(){this.children=[],this.isDirty=!1}add(t){yg(this.children,t),this.isDirty=!0}remove(t){vg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_N),this.isDirty=!1,this.children.forEach(t)}}function EN(n,t){const i=hn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Ks(r),n(u-t))};return oe.setup(r,!0),()=>Ks(r)}const bb=["TopLeft","TopRight","BottomLeft","BottomRight"],AN=bb.length,EE=n=>typeof n=="string"?parseFloat(n):n,AE=n=>typeof n=="number"||bt.test(n);function SN(n,t,i,r,o,u){o?(n.opacity=ae(0,i.opacity??1,bN(r)),n.opacityExit=ae(t.opacity??1,0,wN(r))):u&&(n.opacity=ae(t.opacity??1,i.opacity??1,r));for(let h=0;h<AN;h++){const d=`border${bb[h]}Radius`;let p=SE(t,d),g=SE(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||AE(p)===AE(g)?(n[d]=Math.max(ae(EE(p),EE(g),r),0),(Ti.test(g)||Ti.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=ae(t.rotate||0,i.rotate||0,r))}function SE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const bN=wb(0,.5,v1),wN=wb(.5,.95,jn);function wb(n,t,i){return r=>r<n?0:r>t?1:i(nu(n,t,r))}function bE(n,t){n.min=t.min,n.max=t.max}function Bn(n,t){bE(n.x,t.x),bE(n.y,t.y)}function wE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function RE(n,t,i,r,o){return n-=t,n=Ch(n,1/i,r),o!==void 0&&(n=Ch(n,1/o,r)),n}function RN(n,t=0,i=1,r=.5,o,u=n,h=n){if(Ti.test(t)&&(t=parseFloat(t),t=ae(h.min,h.max,t/100)-h.min),typeof t!="number")return;let d=ae(u.min,u.max,r);n===u&&(d-=t),n.min=RE(n.min,t,i,d,o),n.max=RE(n.max,t,i,d,o)}function CE(n,t,[i,r,o],u,h){RN(n,t[i],t[r],t[o],t.scale,u,h)}const CN=["x","scaleX","originX"],DN=["y","scaleY","originY"];function DE(n,t,i,r){CE(n.x,t,CN,i?i.x:void 0,r?r.x:void 0),CE(n.y,t,DN,i?i.y:void 0,r?r.y:void 0)}function VE(n){return n.translate===0&&n.scale===1}function Rb(n){return VE(n.x)&&VE(n.y)}function xE(n,t){return n.min===t.min&&n.max===t.max}function VN(n,t){return xE(n.x,t.x)&&xE(n.y,t.y)}function IE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Cb(n,t){return IE(n.x,t.x)&&IE(n.y,t.y)}function ME(n){return an(n.x)/an(n.y)}function OE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class xN{constructor(){this.members=[]}add(t){yg(this.members,t),t.scheduleRender()}remove(t){if(vg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IN(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=(i==null?void 0:i.z)||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:R,skewY:U}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),R&&(r+=`skewX(${R}deg) `),U&&(r+=`skewY(${U}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const Dm=["","X","Y","Z"],MN={visibility:"hidden"},NE=1e3;let ON=0;function Vm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Db(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=cb(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",oe,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Db(r)}function Vb({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},d=t==null?void 0:t()){this.id=ON++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LN),this.nodes.forEach(zN),this.nodes.forEach(qN),this.nodes.forEach(UN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new TN)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Eg),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const p=this.eventHandlers.get(h);p&&p.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=vN(h),this.instance=h;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const E=()=>this.root.updateBlockedByResize=!1;n(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=EN(E,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(LE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||g.getDefaultTransition()||YN,{onLayoutAnimationStart:H,onLayoutAnimationComplete:z}=g.getProps(),et=!this.targetLayout||!Cb(this.targetLayout,R),ot=!E&&S;if(this.options.layoutRoot||this.resumeFrom||ot||E&&(et||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,ot);const X={...Og(U,"layout"),onPlay:H,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else E||LE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FN),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PE);return}this.isUpdating||this.nodes.forEach(kN),this.isUpdating=!1,this.nodes.forEach(jN),this.nodes.forEach(NN),this.nodes.forEach(PN),this.clearAllSnapshots();const d=hn.now();Fe.delta=ts(0,1e3/60,d-Fe.timestamp),Fe.timestamp=d,Fe.isProcessing=!0,Tm.update.process(Fe),Tm.preRender.process(Fe),Tm.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BN),this.sharedNodes.forEach(HN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Rb(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&this.instance&&(d||Lr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return h&&(p=this.removeTransform(p)),QN(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:h}=this.options;if(!h)return ge();const d=h.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(XN))){const{scroll:v}=this.root;v&&(Wa(d.x,v.offset.x),Wa(d.y,v.offset.y))}return d}removeElementScroll(h){var p;const d=ge();if(Bn(d,h),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:S}=v;v!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&Bn(d,h),Wa(d.x,E.offset.x),Wa(d.y,E.offset.y))}return d}applyTransform(h,d=!1){const p=ge();Bn(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ja(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Lr(v.latestValues)&&Ja(p,v.latestValues)}return Lr(this.latestValues)&&Ja(p,this.latestValues),p}removeTransform(h){const d=ge();Bn(d,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Lr(g.latestValues))continue;gp(g.latestValues)&&g.updateSnapshot();const v=ge(),E=g.measurePageBox();Bn(v,E),DE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Lr(this.latestValues)&&DE(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Gl(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),vb(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Gl(this.relativeTargetOrigin,this.target,R.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gp(this.parent.latestValues)||yb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var U;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||(U=this.parent)!=null&&U.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;WO(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ge());const{target:R}=h;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wE(this.prevProjectionDelta.x,this.projectionDelta.x),wE(this.prevProjectionDelta.y,this.projectionDelta.y)),Hl(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!OE(this.projectionDelta.x,this.prevProjectionDelta.x)||!OE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Za(),this.projectionDelta=Za(),this.projectionDeltaWithTransform=Za()}setAnimationOrigin(h,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=Za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ge(),R=p?p.source:void 0,U=this.layout?this.layout.source:void 0,H=R!==U,z=this.getStack(),et=!z||z.members.length<=1,ot=!!(H&&!et&&this.options.crossfade===!0&&!this.path.some(KN));this.animationProgress=0;let X;this.mixTargetDelta=ft=>{const nt=ft/1e3;UE(E.x,h.x,nt),UE(E.y,h.y,nt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GN(this.relativeTarget,this.relativeTargetOrigin,S,nt),X&&VN(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=ge()),Bn(X,this.relativeTarget)),H&&(this.animationValues=v,SN(v,g,this.latestValues,nt,ot,et)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{rh.hasAnimatedSinceResize=!0,this.currentAnimation=yN(0,NE,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=h;if(!(!d||!p||!g)){if(this!==h&&this.layout&&g&&xb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ge();const E=an(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const S=an(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+S}Bn(d,p),Ja(d,v),Hl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new xN),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Vm("z",h,g,this.animationValues);for(let v=0;v<Dm.length;v++)Vm(`rotate${Dm[v]}`,h,g,this.animationValues),Vm(`skew${Dm[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}getProjectionStyles(h){if(!this.instance||this.isSVG)return;if(!this.isVisible)return MN;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sh(h==null?void 0:h.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=sh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Lr(this.latestValues)&&(R.transform=p?p({},""):"none",this.hasProjected=!1),R}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=IN(this.projectionDeltaWithTransform,this.treeScale,v),p&&(d.transform=p(v,d.transform));const{x:E,y:S}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in ou){if(v[R]===void 0)continue;const{correct:U,applyTo:H,isCSSVariable:z}=ou[R],et=d.transform==="none"?v[R]:U(v[R],g);if(H){const ot=H.length;for(let X=0;X<ot;X++)d[H[X]]=et}else z?this.options.visualElement.renderState.vars[R]=et:d[R]=et}return this.options.layoutId&&(d.pointerEvents=g===this?sh(h==null?void 0:h.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(PE),this.root.sharedNodes.clear()}}}function NN(n){n.updateLayout()}function PN(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,h=t.source!==n.layout.source;u==="size"?kn(E=>{const S=h?t.measuredBox[E]:t.layoutBox[E],R=an(S);S.min=r[E].min,S.max=S.min+R}):xb(u,t.layoutBox,r)&&kn(E=>{const S=h?t.measuredBox[E]:t.layoutBox[E],R=an(r[E]);S.max=S.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+R)});const d=Za();Hl(d,r,t.layoutBox);const p=Za();h?Hl(p,n.applyTransform(o,!0),t.measuredBox):Hl(p,r,t.layoutBox);const g=!Rb(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:R}=E;if(S&&R){const U=ge();Gl(U,t.layoutBox,S.layoutBox);const H=ge();Gl(H,r,R.layoutBox),Cb(U,H)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=H,n.relativeTargetOrigin=U,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function LN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function UN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function BN(n){n.clearSnapshot()}function PE(n){n.clearMeasurements()}function kN(n){n.isLayoutDirty=!1}function jN(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function LE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function zN(n){n.resolveTargetDelta()}function qN(n){n.calcProjection()}function FN(n){n.resetSkewAndRotation()}function HN(n){n.removeLeadSnapshot()}function UE(n,t,i){n.translate=ae(t.translate,0,i),n.scale=ae(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function BE(n,t,i,r){n.min=ae(t.min,i.min,r),n.max=ae(t.max,i.max,r)}function GN(n,t,i,r){BE(n.x,t.x,i.x,r),BE(n.y,t.y,i.y,r)}function KN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const YN={duration:.45,ease:[.4,0,.1,1]},kE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),jE=kE("applewebkit/")&&!kE("chrome/")?Math.round:jn;function zE(n){n.min=jE(n.min),n.max=jE(n.max)}function QN(n){zE(n.x),zE(n.y)}function xb(n,t,i){return n==="position"||n==="preserve-aspect"&&!$O(ME(t),ME(i),.2)}function XN(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const $N=Vb({attachResizeListener:(n,t)=>uu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xm={current:void 0},Ib=Vb({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xm.current){const n=new $N({});n.mount(window),n.setOptions({layoutScroll:!0}),xm.current=n}return xm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ZN={pan:{Feature:dN},drag:{Feature:fN,ProjectionNode:Ib,MeasureLayout:Sb}};function qE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&oe.postRender(()=>u(t,vu(t)))}class WN extends $s{mount(){const{current:t}=this.node;t&&(this.unmount=D4(t,(i,r)=>(qE(this.node,r,"Start"),o=>qE(this.node,o,"End"))))}unmount(){}}class JN extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pu(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&oe.postRender(()=>u(t,vu(t)))}class t3 extends $s{mount(){const{current:t}=this.node;t&&(this.unmount=M4(t,(i,r)=>(FE(this.node,r,"Start"),(o,{success:u})=>FE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _p=new WeakMap,Im=new WeakMap,e3=n=>{const t=_p.get(n.target);t&&t(n)},n3=n=>{n.forEach(e3)};function i3({root:n,...t}){const i=n||document;Im.has(i)||Im.set(i,{});const r=Im.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(n3,{root:n,...t})),r[o]}function s3(n,t,i){const r=i3(t);return _p.set(n,i),r.observe(n),()=>{_p.delete(n),r.unobserve(n)}}const r3={some:0,all:1};class a3 extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:r3[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return s3(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(o3(t,i))&&this.startObserver()}unmount(){}}function o3({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const l3={inView:{Feature:a3},tap:{Feature:t3},focus:{Feature:JN},hover:{Feature:WN}},u3={layout:{ProjectionNode:Ib,MeasureLayout:Sb}},Tp={current:null},Mb={current:!1};function c3(){if(Mb.current=!0,!!pg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tp.current=n.matches;n.addListener(t),t()}else Tp.current=!1}const h3=new WeakMap;function f3(n,t,i){for(const r in t){const o=t[r],u=i[r];if(tn(o))n.addValue(r,o);else if(tn(u))n.addValue(r,ru(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,ru(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const HE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d3{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=hn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=ef(i),this.isVariantNode=J1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in E){const R=E[S];p[S]!==void 0&&tn(R)&&R.set(p[S],!1)}}mount(t){this.current=t,h3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),Mb.current||c3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in co){const i=co[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<HE.length;r++){const o=HE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=f3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=ru(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(u1(r)||c1(r))?r=parseFloat(r):!L4(r)&&Ys.test(i)&&(r=K1(t,i)),this.setBaseTarget(t,tn(r)?r.get():r)),tn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const h=Fg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);h&&(r=h[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!tn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Eg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class Ob extends d3{constructor(){super(...arguments),this.KeyframeResolver=w4}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function Nb(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const u in i)n.style.setProperty(u,i[u])}function m3(n){return window.getComputedStyle(n)}class p3 extends Ob{constructor(){super(...arguments),this.type="html",this.renderInstance=Nb}readValueFromInstance(t,i){if(vo.has(i))return HM(t,i);{const r=m3(t),o=(bg(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return _b(t,i)}build(t,i,r){jg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Hg(t,i,r)}}const Pb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g3(n,t,i,r){Nb(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Pb.has(o)?o:kg(o),t.attrs[o])}class y3 extends Ob{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(vo.has(i)){const r=G1(i);return r&&r.default||0}return i=Pb.has(i)?i:kg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return ub(t,i,r)}build(t,i,r){rb(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){g3(t,i,r,o)}mount(t){this.isSVGTag=ob(t.tagName),super.mount(t)}}const v3=(n,t)=>qg(n)?new y3(t):new p3(t,{allowProjection:n!==dt.Fragment}),_3=gO({...qO,...l3,...ZN,...u3},v3),Dh=z4(_3);var Lb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GE=zr.createContext&&zr.createContext(Lb),T3=["attr","size","title"];function E3(n,t){if(n==null)return{};var i=A3(n,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function A3(n,t){if(n==null)return{};var i={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;i[r]=n[r]}return i}function Vh(){return Vh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Vh.apply(this,arguments)}function KE(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function xh(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(i),!0).forEach(function(r){S3(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):KE(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function S3(n,t,i){return t=b3(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function b3(n){var t=w3(n,"string");return typeof t=="symbol"?t:t+""}function w3(n,t){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ub(n){return n&&n.map((t,i)=>zr.createElement(t.tag,xh({key:i},t.attr),Ub(t.child)))}function _o(n){return t=>zr.createElement(R3,Vh({attr:xh({},n.attr)},t),Ub(n.child))}function R3(n){var t=i=>{var{attr:r,size:o,title:u}=n,h=E3(n,T3),d=o||i.size||"1em",p;return i.className&&(p=i.className),n.className&&(p=(p?p+" ":"")+n.className),zr.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,h,{className:p,style:xh(xh({color:n.color||i.color},i.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&zr.createElement("title",null,u),n.children)};return GE!==void 0?zr.createElement(GE.Consumer,null,i=>t(i)):t(Lb)}function C3(n){return _o({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function D3(n){return _o({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function Bb(n){return _o({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function V3(n){return _o({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function x3(n){return _o({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function kb(n){return _o({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(n)}const YE=({vinyl:n,artistName:t,genreName:i,onFavoriteChange:r})=>{const[o,u]=dt.useState(n.isLiked||!1),h=n["release-date"]?n["release-date"].split("-"):[],d=async p=>{p.stopPropagation();try{const g=eu(Ns,"vinyl",n.id),v=!o;await mx(g,{isLiked:v}),u(v),r&&r(n.id,v)}catch(g){console.error("Error al actualizar el estado de favorito:",g)}};return it.jsxs(Dh.div,{layout:!0,className:`bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex ${n.expanded?"flex-row":"flex-col"} ${n.expanded?"h-full":""}`,style:{fontFamily:"Roboto Condensed, sans-serif"},children:[it.jsx("div",{className:`aspect-square ${n.expanded?"w-1/2":"w-full"} overflow-hidden`,children:it.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),it.jsx("div",{className:`p-4 ${n.expanded?"w-1/2":"w-full"} flex flex-col text-gray-800`,children:n.expanded?it.jsxs(it.Fragment,{children:[it.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),it.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),it.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripcin no disponible."}),it.jsxs("div",{className:"mt-auto text-sm text-gray-500 flex flex-wrap justify-between items-center",children:[it.jsxs("div",{className:"mb-2 sm:mb-0",children:[it.jsxs("p",{children:[it.jsx("strong",{children:"Gnero:"})," ",i||"Gnero no disponible"]}),it.jsxs("p",{children:[it.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",h.length===3?`${h[0]}/${h[1]}/${h[2]}`:"Fecha no disponible"]})]}),it.jsxs("div",{className:"flex gap-4 items-center",children:[n["apple-music"]&&it.jsx("a",{href:n["apple-music"],target:"_blank",rel:"noopener noreferrer",children:it.jsx("img",{src:"./apple-music.svg",alt:"Apple Music",className:"w-6 h-6"})}),n.spotify&&it.jsx("a",{href:n.spotify,target:"_blank",rel:"noopener noreferrer",children:it.jsx("img",{src:"./spotify-icon.svg",alt:"Spotify",className:"w-6 h-6"})}),it.jsx("button",{onClick:p=>d(p),className:"text-red-500 text-xl focus:outline-none",children:o?it.jsx(Bb,{}):it.jsx(kb,{})})]})]})]}):it.jsxs(it.Fragment,{children:[it.jsx("h3",{className:"text-xl font-semibold",children:n.name}),it.jsx("p",{className:"text-sm mt-2",children:t||"Cargando artista..."}),it.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[i||"Cargando gnero...","  ",h[2]||"Fecha no disponible"]})]})})]})},I3=({searchTerm:n="",selectedGenreId:t="",sortOption:i="name",sortOrder:r="asc",showFavorites:o=!1})=>{const[u,h]=dt.useState([]),[d,p]=dt.useState({}),[g,v]=dt.useState({}),[E,S]=dt.useState(!0),[R,U]=dt.useState(null),[H,z]=dt.useState(4),[et,ot]=dt.useState(null),[X,ft]=dt.useState(!0),nt=dt.useRef(null),ut=12;dt.useEffect(()=>{const pt=()=>{const F=window.innerWidth;F<640?z(1):F<768?z(2):F<1024?z(3):z(4)};return pt(),window.addEventListener("resize",pt),()=>window.removeEventListener("resize",pt)},[]);const I=async(pt,F)=>{try{if(!d[pt]){const Y=await Th(eu(Ns,"artist",pt));Y.exists()&&p(rt=>({...rt,[pt]:Y.data().name}))}if(!g[F]){const Y=await Th(eu(Ns,"genere",F));Y.exists()&&v(rt=>({...rt,[F]:Y.data().name}))}}catch(Y){console.error("Error al obtener datos de artista o gnero:",Y)}},w=async(pt=!1)=>{try{S(!0);const F=Jm(Ns,"vinyl");let Y=ax(F,ox("name"),ux(et||0),lx(ut));const rt=await tp(Y),At=rt.docs.map(x=>({id:x.id,...x.data()}));At.forEach(x=>{const{"artist-id":$,"genre-id":at}=x;$&&at&&I($,at)}),rt.docs.length<ut&&ft(!1),ot(rt.docs[rt.docs.length-1]),h(x=>pt?At:[...x,...At]),S(!1)}catch(F){console.error("Error al obtener vinilos:",F),S(!1)}};dt.useEffect(()=>{w(!0)},[]);const C=pt=>{pt[0].isIntersecting&&X&&!E&&w()};dt.useEffect(()=>{const pt={root:null,rootMargin:"0px",threshold:1};nt.current=new IntersectionObserver(C,pt);const F=document.querySelector("#load-more-trigger");return F&&nt.current.observe(F),()=>nt.current&&nt.current.disconnect()},[X,E]);const M=(pt,F)=>{h(Y=>Y.map(rt=>rt.id===pt?{...rt,isLiked:F}:rt))};if(E&&u.length===0)return it.jsx("div",{className:"text-center mt-10 text-lg",children:"Cargando vinilos..."});const N=pt=>{const[F,Y,rt]=pt.split("-").map(Number);return{year:rt,month:Y,day:F}},V=u.filter(pt=>{var at,st;const F=((at=d[pt["artist-id"]])==null?void 0:at.toLowerCase())||"",Y=((st=pt.name)==null?void 0:st.toLowerCase())||"",rt=pt["genre-id"],At=Y.includes(n.toLowerCase())||F.includes(n.toLowerCase()),x=!t||rt===t,$=!o||pt.isLiked;return At&&x&&$}).sort((pt,F)=>{var At,x;let Y="",rt="";switch(i){case"year":const $=N(pt["release-date"]),at=N(F["release-date"]);return $.year!==at.year?r==="asc"?$.year-at.year:at.year-$.year:$.month!==at.month?r==="asc"?$.month-at.month:at.month-$.month:r==="asc"?$.day-at.day:at.day-$.day;case"name":Y=pt.name.toLowerCase(),rt=F.name.toLowerCase();break;case"artist":Y=((At=d[pt["artist-id"]])==null?void 0:At.toLowerCase())||"",rt=((x=d[F["artist-id"]])==null?void 0:x.toLowerCase())||"";break}return r==="asc"?Y<rt?-1:Y>rt?1:0:Y>rt?-1:Y<rt?1:0}),ne=[];for(let pt=0;pt<V.length;pt+=H){const F=V.slice(pt,pt+H);if(R!==null&&R>=pt&&R<pt+H){const Y=V[R];ne.push(it.jsx(Dh.div,{layout:!0,className:"col-span-full",onClick:()=>U(null),children:it.jsx(YE,{vinyl:{...Y,expanded:!0},artistName:d[Y["artist-id"]],genreName:g[Y["genre-id"]],onFavoriteChange:M})},"expanded-"+R))}F.forEach((Y,rt)=>{const At=pt+rt;At!==R&&ne.push(it.jsx(Dh.div,{layout:!0,onClick:()=>U(At),children:it.jsx(YE,{vinyl:{...Y,expanded:!1},artistName:d[Y["artist-id"]],genreName:g[Y["genre-id"]],onFavoriteChange:M})},At))})}return it.jsxs("div",{children:[it.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:ne}),X&&it.jsx("div",{id:"load-more-trigger",className:"text-center mt-10",children:E?"Cargando ms vinilos...":""})]})},M3=({vinyl:n,artistName:t,genreName:i,onClose:r})=>{const o=n["release-date"]?n["release-date"].split("-"):[];return it.jsxs(Dh.div,{layout:!0,className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-row h-full",style:{fontFamily:"Roboto Condensed, sans-serif"},children:[it.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white bg-gray-800 rounded-full p-2",children:it.jsx(x3,{})}),it.jsx("div",{className:"aspect-square w-1/2 overflow-hidden",children:it.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),it.jsxs("div",{className:"p-4 w-1/2 flex flex-col text-gray-800",children:[it.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),it.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),it.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripcin no disponible."}),it.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[it.jsxs("p",{children:[it.jsx("strong",{children:"Gnero:"})," ",i||"Gnero no disponible"]}),it.jsxs("p",{children:[it.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",o.length===3?`${o[0]}/${o[1]}/${o[2]}`:"Fecha no disponible"]})]})]})]})},O3=({searchTerm:n,setSearchTerm:t})=>it.jsxs("div",{className:"relative mb-8",children:[it.jsx(V3,{className:"absolute top-1/2 left-4 transform -translate-y-1/2 text-gray-500"}),it.jsx("input",{type:"text",placeholder:"Buscar por nombre o artista...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-800 text-white text-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:i=>t(i.target.value),"aria-label":"Buscar vinilos"})]}),N3=({sortOption:n,sortOrder:t,handleSortChange:i,showFavorites:r,setShowFavorites:o})=>it.jsxs("div",{className:"flex items-center gap-4 w-full h-full",children:[it.jsxs("select",{value:n,onChange:u=>i(u.target.value),className:"w-full h-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg","aria-label":"Ordenar por",children:[it.jsx("option",{value:"name",children:"Nombre"}),it.jsx("option",{value:"year",children:"Ao"}),it.jsx("option",{value:"artist",children:"Artista"})]}),it.jsx("button",{onClick:()=>i(n),className:"h-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center justify-center","aria-label":"Cambiar orden",style:{minWidth:"48px"},children:t==="asc"?it.jsx(C3,{}):it.jsx(D3,{})}),it.jsxs("button",{onClick:()=>o(!r),className:`h-full w-32 py-3 px-4 rounded-xl shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg flex items-center gap-2 overflow-hidden truncate ${r?"bg-indigo-500 text-white":"bg-gray-800 text-white"}`,"aria-label":"Mostrar favoritos",style:{minWidth:"140px"},children:[r?it.jsx(Bb,{className:"text-red-400"}):it.jsx(kb,{}),it.jsx("span",{className:"truncate",children:"Favoritos"})]})]}),P3=({selectedGenreId:n,setSelectedGenreId:t,genres:i})=>it.jsx("div",{className:"w-full h-full flex items-center",children:it.jsxs("select",{value:n,onChange:r=>t(r.target.value),className:"w-full h-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg","aria-label":"Filtrar por gnero",children:[it.jsx("option",{value:"",children:"Todos los gneros"}),i.map(r=>it.jsx("option",{value:r.id,children:r.name},r.id))]})}),L3=({onClick:n})=>it.jsx("div",{className:"text-center mt-4",children:it.jsxs("button",{onClick:n,className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg flex justify-between items-center","aria-label":"Escuchar vinilo aleatorio",children:[it.jsx("span",{children:"Escuchar Vinilo Aleatorio"}),it.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1.2em",width:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:it.jsx("path",{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"})})]})}),U3=()=>{const[n,t]=dt.useState(""),[i,r]=dt.useState([]),[o,u]=dt.useState(""),[h,d]=dt.useState("name"),[p,g]=dt.useState("asc"),[v,E]=dt.useState(null),[S,R]=dt.useState({}),[U,H]=dt.useState(!1);dt.useEffect(()=>{(async()=>{try{const nt=(await tp(Jm(Ns,"genere"))).docs.map(ut=>({id:ut.id,name:ut.data().name}));r(nt)}catch(ft){console.error("Error al obtener gneros:",ft)}})()},[]);const z=X=>{h===X?g(p==="asc"?"desc":"asc"):(d(X),g("asc"))},et=async()=>{try{const nt=(await tp(Jm(Ns,"vinyl"))).docs.map(ut=>({id:ut.id,...ut.data()})).filter(ut=>{var P,V;const I=((P=S[ut["artist-id"]])==null?void 0:P.toLowerCase())||"",w=((V=ut.name)==null?void 0:V.toLowerCase())||"",C=ut["genre-id"];return(w.includes(n.toLowerCase())||I.includes(n.toLowerCase()))&&(!o||C===o)});if(nt.length>0){const ut=nt[Math.floor(Math.random()*nt.length)],[I,w]=await Promise.all([Th(eu(Ns,"artist",ut["artist-id"])),Th(eu(Ns,"genere",ut["genre-id"]))]),C=I.exists()?I.data().name:"Artista desconocido",M=w.exists()?w.data().name:"Gnero desconocido";E({...ut,artistName:C,genreName:M})}else alert("No hay vinilos que coincidan con los filtros aplicados.")}catch(X){console.error("Error al obtener vinilo aleatorio:",X)}},ot=()=>E(null);return it.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-serif px-8 py-12",children:[it.jsx("div",{className:"text-center mb-16",children:it.jsxs("div",{className:"flex items-center justify-center mb-4",children:[it.jsx("h1",{className:"text-6xl font-bold text-white mr-4",style:{fontFamily:"Oswald, sans-serif"},children:"COLECCIN DE VINILOS"}),it.jsx("img",{src:"./vinyl.png",alt:"Vinyl Record",className:"w-24 h-24"})]})}),it.jsxs("div",{className:"max-w-4xl mx-auto mb-12",children:[it.jsx(O3,{searchTerm:n,setSearchTerm:t}),it.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[it.jsx(P3,{selectedGenreId:o,setSelectedGenreId:u,genres:i}),it.jsx(N3,{sortOption:h,sortOrder:p,handleSortChange:z,showFavorites:U,setShowFavorites:H})]}),it.jsx(L3,{onClick:et})]}),v&&it.jsx("div",{className:"max-w-7xl mx-auto mb-12 relative",children:it.jsx(M3,{vinyl:v,artistName:v.artistName,genreName:v.genreName,onClose:ot})}),it.jsx("div",{className:"max-w-7xl mx-auto mb-16",children:it.jsx(I3,{searchTerm:n,selectedGenreId:o,sortOption:h,sortOrder:p,showFavorites:U})}),it.jsx("p",{className:"text-xl font-light text-gray-400 text-center",children:"by Facundin"})]})};T2.createRoot(document.getElementById("root")).render(it.jsx(dt.StrictMode,{children:it.jsx(U3,{})}));
