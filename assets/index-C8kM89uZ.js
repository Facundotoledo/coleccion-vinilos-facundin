(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function uw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function cw(){if(_0)return pl;_0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var T0;function hw(){return T0||(T0=1,Nd.exports=cw()),Nd.exports}var ut=hw(),Pd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function fw(){if(E0)return wt;E0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=E&&I[E]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function F(I,tt,lt){this.props=I,this.context=tt,this.refs=G,this.updater=lt||x}F.prototype.isReactComponent={},F.prototype.setState=function(I,tt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,tt,"setState")},F.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function X(){}X.prototype=F.prototype;function rt(I,tt,lt){this.props=I,this.context=tt,this.refs=G,this.updater=lt||x}var $=rt.prototype=new X;$.constructor=rt,q($,F.prototype),$.isPureReactComponent=!0;var et=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},it=Object.prototype.hasOwnProperty;function D(I,tt,lt,st,gt,Ct){return lt=Ct.ref,{$$typeof:n,type:I,key:tt,ref:lt!==void 0?lt:null,props:Ct}}function b(I,tt){return D(I.type,tt,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function M(I){var tt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return tt[lt]})}var O=/\/+/g;function L(I,tt){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):tt.toString(36)}function V(){}function ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(V,V):(I.status="pending",I.then(function(tt){I.status==="pending"&&(I.status="fulfilled",I.value=tt)},function(tt){I.status==="pending"&&(I.status="rejected",I.reason=tt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ne(I,tt,lt,st,gt){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var At=!1;if(I===null)At=!0;else switch(Ct){case"bigint":case"string":case"number":At=!0;break;case"object":switch(I.$$typeof){case n:case t:At=!0;break;case v:return At=I._init,ne(At(I._payload),tt,lt,st,gt)}}if(At)return gt=gt(I),At=st===""?"."+L(I,0):st,et(gt)?(lt="",At!=null&&(lt=At.replace(O,"$&/")+"/"),ne(gt,tt,lt,"",function(Kn){return Kn})):gt!=null&&(R(gt)&&(gt=b(gt,lt+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+At)),tt.push(gt)),1;At=0;var Ve=st===""?".":st+":";if(et(I))for(var Zt=0;Zt<I.length;Zt++)st=I[Zt],Ct=Ve+L(st,Zt),At+=ne(st,tt,lt,Ct,gt);else if(Zt=w(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(st=I.next()).done;)st=st.value,Ct=Ve+L(st,Zt++),At+=ne(st,tt,lt,Ct,gt);else if(Ct==="object"){if(typeof I.then=="function")return ne(ye(I),tt,lt,st,gt);throw tt=String(I),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return At}function K(I,tt,lt){if(I==null)return I;var st=[],gt=0;return ne(I,st,"","",function(Ct){return tt.call(lt,Ct,gt++)}),st}function nt(I){if(I._status===-1){var tt=I._result;tt=tt(),tt.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=tt)}if(I._status===1)return I._result.default;throw I._result}var ht=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function It(){}return wt.Children={map:K,forEach:function(I,tt,lt){K(I,function(){tt.apply(this,arguments)},lt)},count:function(I){var tt=0;return K(I,function(){tt++}),tt},toArray:function(I){return K(I,function(tt){return tt})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},wt.Component=F,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=rt,wt.StrictMode=r,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,wt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return W.H.useMemoCache(I)}},wt.cache=function(I){return function(){return I.apply(null,arguments)}},wt.cloneElement=function(I,tt,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var st=q({},I.props),gt=I.key,Ct=void 0;if(tt!=null)for(At in tt.ref!==void 0&&(Ct=void 0),tt.key!==void 0&&(gt=""+tt.key),tt)!it.call(tt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&tt.ref===void 0||(st[At]=tt[At]);var At=arguments.length-2;if(At===1)st.children=lt;else if(1<At){for(var Ve=Array(At),Zt=0;Zt<At;Zt++)Ve[Zt]=arguments[Zt+2];st.children=Ve}return D(I.type,gt,void 0,void 0,Ct,st)},wt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},wt.createElement=function(I,tt,lt){var st,gt={},Ct=null;if(tt!=null)for(st in tt.key!==void 0&&(Ct=""+tt.key),tt)it.call(tt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=tt[st]);var At=arguments.length-2;if(At===1)gt.children=lt;else if(1<At){for(var Ve=Array(At),Zt=0;Zt<At;Zt++)Ve[Zt]=arguments[Zt+2];gt.children=Ve}if(I&&I.defaultProps)for(st in At=I.defaultProps,At)gt[st]===void 0&&(gt[st]=At[st]);return D(I,Ct,void 0,void 0,null,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(I){return{$$typeof:d,render:I}},wt.isValidElement=R,wt.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:nt}},wt.memo=function(I,tt){return{$$typeof:g,type:I,compare:tt===void 0?null:tt}},wt.startTransition=function(I){var tt=W.T,lt={};W.T=lt;try{var st=I(),gt=W.S;gt!==null&&gt(lt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,ht)}catch(Ct){ht(Ct)}finally{W.T=tt}},wt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},wt.use=function(I){return W.H.use(I)},wt.useActionState=function(I,tt,lt){return W.H.useActionState(I,tt,lt)},wt.useCallback=function(I,tt){return W.H.useCallback(I,tt)},wt.useContext=function(I){return W.H.useContext(I)},wt.useDebugValue=function(){},wt.useDeferredValue=function(I,tt){return W.H.useDeferredValue(I,tt)},wt.useEffect=function(I,tt,lt){var st=W.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(I,tt)},wt.useId=function(){return W.H.useId()},wt.useImperativeHandle=function(I,tt,lt){return W.H.useImperativeHandle(I,tt,lt)},wt.useInsertionEffect=function(I,tt){return W.H.useInsertionEffect(I,tt)},wt.useLayoutEffect=function(I,tt){return W.H.useLayoutEffect(I,tt)},wt.useMemo=function(I,tt){return W.H.useMemo(I,tt)},wt.useOptimistic=function(I,tt){return W.H.useOptimistic(I,tt)},wt.useReducer=function(I,tt,lt){return W.H.useReducer(I,tt,lt)},wt.useRef=function(I){return W.H.useRef(I)},wt.useState=function(I){return W.H.useState(I)},wt.useSyncExternalStore=function(I,tt,lt){return W.H.useSyncExternalStore(I,tt,lt)},wt.useTransition=function(){return W.H.useTransition()},wt.version="19.1.0",wt}var A0;function ep(){return A0||(A0=1,Pd.exports=fw()),Pd.exports}var dt=ep();const Pr=uw(dt);var Ld={exports:{}},gl={},Ud={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function dw(){return S0||(S0=1,function(n){function t(K,nt){var ht=K.length;K.push(nt);t:for(;0<ht;){var It=ht-1>>>1,I=K[It];if(0<o(I,nt))K[It]=nt,K[ht]=I,ht=It;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var nt=K[0],ht=K.pop();if(ht!==nt){K[0]=ht;t:for(var It=0,I=K.length,tt=I>>>1;It<tt;){var lt=2*(It+1)-1,st=K[lt],gt=lt+1,Ct=K[gt];if(0>o(st,ht))gt<I&&0>o(Ct,st)?(K[It]=Ct,K[gt]=ht,It=gt):(K[It]=st,K[lt]=ht,It=lt);else if(gt<I&&0>o(Ct,ht))K[It]=Ct,K[gt]=ht,It=gt;else break t}}return nt}function o(K,nt){var ht=K.sortIndex-nt.sortIndex;return ht!==0?ht:K.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();n.unstable_now=function(){return f.now()-d}}var p=[],g=[],v=1,E=null,w=3,x=!1,q=!1,G=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function et(K){for(var nt=i(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=K)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(g)}}function W(K){if(G=!1,et(K),!q)if(i(p)!==null)q=!0,it||(it=!0,L());else{var nt=i(g);nt!==null&&ne(W,nt.startTime-K)}}var it=!1,D=-1,b=5,R=-1;function M(){return F?!0:!(n.unstable_now()-R<b)}function O(){if(F=!1,it){var K=n.unstable_now();R=K;var nt=!0;try{t:{q=!1,G&&(G=!1,rt(D),D=-1),x=!0;var ht=w;try{e:{for(et(K),E=i(p);E!==null&&!(E.expirationTime>K&&M());){var It=E.callback;if(typeof It=="function"){E.callback=null,w=E.priorityLevel;var I=It(E.expirationTime<=K);if(K=n.unstable_now(),typeof I=="function"){E.callback=I,et(K),nt=!0;break e}E===i(p)&&r(p),et(K)}else r(p);E=i(p)}if(E!==null)nt=!0;else{var tt=i(g);tt!==null&&ne(W,tt.startTime-K),nt=!1}}break t}finally{E=null,w=ht,x=!1}nt=void 0}}finally{nt?L():it=!1}}}var L;if(typeof $=="function")L=function(){$(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ye=V.port2;V.port1.onmessage=O,L=function(){ye.postMessage(null)}}else L=function(){X(O,0)};function ne(K,nt){D=X(function(){K(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var nt=3;break;default:nt=w}var ht=w;w=nt;try{return K()}finally{w=ht}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(K,nt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=w;w=K;try{return nt()}finally{w=ht}},n.unstable_scheduleCallback=function(K,nt,ht){var It=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?It+ht:It):ht=It,K){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ht+I,K={id:v++,callback:nt,priorityLevel:K,startTime:ht,expirationTime:I,sortIndex:-1},ht>It?(K.sortIndex=ht,t(g,K),i(p)===null&&K===i(g)&&(G?(rt(D),D=-1):G=!0,ne(W,ht-It))):(K.sortIndex=I,t(p,K),q||x||(q=!0,it||(it=!0,L()))),K},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(K){var nt=w;return function(){var ht=w;w=nt;try{return K.apply(this,arguments)}finally{w=ht}}}}(Bd)),Bd}var b0;function mw(){return b0||(b0=1,Ud.exports=dw()),Ud.exports}var zd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function pw(){if(w0)return Ye;w0=1;var n=ep();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ye.flushSync=function(p){var g=f.T,v=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=g,r.p=v,r.d.f()}},Ye.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Ye.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ye.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:x}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ye.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Ye.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ye.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Ye.requestFormReset=function(p){r.d.r(p)},Ye.unstable_batchedUpdates=function(p,g){return p(g)},Ye.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var R0;function gw(){if(R0)return zd.exports;R0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zd.exports=pw(),zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function yw(){if(C0)return gl;C0=1;var n=mw(),t=ep(),i=gw();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function f(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),e;if(m===l)return d(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var T=!1,A=h.child;A;){if(A===a){T=!0,a=h,l=m;break}if(A===l){T=!0,l=h,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=h;break}if(A===l){T=!0,l=m,a=h;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case W:return"Suspense";case it:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case $:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case et:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return s=e.displayName||null,s!==null?s:ye(e.type)||"Memo";case b:s=e._payload,e=e._init;try{return ye(e(s))}catch{}}return null}var ne=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},It=[],I=-1;function tt(e){return{current:e}}function lt(e){0>I||(e.current=It[I],It[I]=null,I--)}function st(e,s){I++,It[I]=e.current,e.current=s}var gt=tt(null),Ct=tt(null),At=tt(null),Ve=tt(null);function Zt(e,s){switch(st(At,s),st(Ct,e),st(gt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Yv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Yv(s),e=Qv(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(gt),st(gt,e)}function Kn(){lt(gt),lt(Ct),lt(At)}function $i(e){e.memoizedState!==null&&st(Ve,e);var s=gt.current,a=Qv(s,e.type);s!==a&&(st(Ct,e),st(gt,a))}function _i(e){Ct.current===e&&(lt(gt),lt(Ct)),Ve.current===e&&(lt(Ve),cl._currentValue=ht)}var Fs=Object.prototype.hasOwnProperty,Gs=n.unstable_scheduleCallback,Ks=n.unstable_cancelCallback,ao=n.unstable_shouldYield,su=n.unstable_requestPaint,Sn=n.unstable_now,Oh=n.unstable_getCurrentPriorityLevel,oo=n.unstable_ImmediatePriority,Hr=n.unstable_UserBlockingPriority,Ys=n.unstable_NormalPriority,Nh=n.unstable_LowPriority,Fr=n.unstable_IdlePriority,lo=n.log,ru=n.unstable_setDisableYieldValue,oe=null,Ht=null;function dn(e){if(typeof lo=="function"&&ru(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(oe,e)}catch{}}var Ge=Math.clz32?Math.clz32:Qs,au=Math.log,Ph=Math.LN2;function Qs(e){return e>>>=0,e===0?32:31-(au(e)/Ph|0)|0}var Xs=256,$s=4194304;function zn(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gr(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?h=zn(l):(T&=A,T!==0?h=zn(T):a||(a=A&~e,a!==0&&(h=zn(a))))):(A=l&~m,A!==0?h=zn(A):T!==0?h=zn(T):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Zs(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function uo(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=Xs;return Xs<<=1,(Xs&4194048)===0&&(Xs=256),e}function ho(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function Ti(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ei(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,s,a,l,h,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-Ge(a),Z=1<<Y;A[Y]=0,C[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var k=j[Y];k!==null&&(k.lane&=-536870913)}a&=~Z}l!==0&&Yn(e,l,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function Yn(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Ge(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function mo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&s|e[l]&s&&(e[l]|=s),a&=~h}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ji(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function ou(e,s){var a=nt.p;try{return nt.p=e,s()}finally{nt.p=a}}var Wt=Math.random().toString(36).slice(2),Se="__reactFiber$"+Wt,ve="__reactProps$"+Wt,bn="__reactContainer$"+Wt,po="__reactEvents$"+Wt,Lh="__reactListeners$"+Wt,Wi="__reactHandles$"+Wt,lu="__reactResources$"+Wt,Js="__reactMarker$"+Wt;function ts(e){delete e[Se],delete e[ve],delete e[po],delete e[Lh],delete e[Wi]}function Ai(e){var s=e[Se];if(s)return s;for(var a=e.parentNode;a;){if(s=a[bn]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Jv(e);e!==null;){if(a=e[Se])return a;e=Jv(e)}return s}e=a,a=e.parentNode}return null}function Qn(e){if(e=e[Se]||e[bn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function Xn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function We(e){var s=e[lu];return s||(s=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function he(e){e[Js]=!0}var go=new Set,Yr={};function jn(e,s){Si(e,s),Si(e+"Capture",s)}function Si(e,s){for(Yr[e]=s,e=0;e<s.length;e++)go.add(s[e])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},Ws={};function hu(e){return Fs.call(Ws,e)?!0:Fs.call(cu,e)?!1:uu.test(e)?Ws[e]=!0:(cu[e]=!0,!1)}function es(e,s,a){if(hu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function $n(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ue(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var tr,fu;function bi(e){if(tr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);tr=s&&s[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+e+fu}var Qr=!1;function Xr(e,s){if(!e||Qr)return"";Qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(k){var j=k}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(k){j=k}e.call(Z.prototype)}}else{try{throw Error()}catch(k){j=k}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var C=T.split(`
`),z=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Qr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Xr(e.type,!1);case 11:return Xr(e.type.render,!1);case 1:return Xr(e.type,!0);case 31:return bi("Activity");default:return""}}function $r(e){try{var s="";do s+=yo(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Uh(e){var s=vo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Zr(e){e._valueTracker||(e._valueTracker=Uh(e))}function _o(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=vo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bh=/[\n"\\]/g;function _e(e){return e.replace(Bh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mn(e,s,a,l,h,m,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+tn(s)):e.value!==""+tn(s)&&(e.value=""+tn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?ns(e,T,tn(s)):a!=null?ns(e,T,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+tn(A):e.removeAttribute("name")}function nr(e,s,a,l,h,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+tn(a):"",s=s!=null?""+tn(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function ns(e,s,a){s==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wi(e,s,a,l){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function Kt(e,s,a){if(s!=null&&(s=""+tn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+tn(a):""}function ir(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=tn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function wn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||sr.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function To(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&du(e,h,l)}else for(var m in s)s.hasOwnProperty(m)&&du(e,m,s[m])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Di=null;function Ao(e){var s=Qn(e);if(s&&(e=s.stateNode)){var a=e[ve]||null;t:switch(e=s.stateNode,s.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(r(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&_o(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&wi(e,!!a.multiple,s,!1)}}}var Zn=!1;function mu(e,s,a){if(Zn)return e(s,a);Zn=!0;try{var l=e(s);return l}finally{if(Zn=!1,(Ci!==null||Di!==null)&&(oc(),Ci&&(s=Ci,e=Di,Di=Ci=null,Ao(s),e)))for(s=0;s<e.length;s++)Ao(e[s])}}function rr(e,s){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(kn)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Cn=!1}var Jn=null,is=null,xi=null;function So(){if(xi)return xi;var e,s=is,a=s.length,l,h="value"in Jn?Jn.value:Jn.textContent,m=h.length;for(e=0;e<a&&s[e]===h[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===h[m-l];l++);return xi=h.slice(e,1<l?1-l:void 0)}function Wn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function bo(){return!1}function Me(e){function s(a,l,h,m,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ti:bo,this.isPropagationStopped=bo,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),s}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Me(qt),or=v({},qt,{view:0,detail:0}),pu=Me(or),ta,ea,ei,lr=v({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(ta=e.screenX-ei.screenX,ea=e.screenY-ei.screenY):ea=ta=0,ei=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Dn=Me(lr),gu=v({},lr,{dataTransfer:0}),kh=Me(gu),ur=v({},or,{relatedTarget:0}),na=Me(ur),wo=v({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Me(wo),yu=v({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sa=Me(yu),qh=v({},qt,{data:0}),Ro=Me(qh),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=_u[e])?!!s[e]:!1}function hr(){return Co}var Tu=v({},or,{key:function(e){if(e.key){var s=cr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Me(Tu),Eu=v({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=Me(Eu),Vi=v({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),Au=Me(Vi),Su=v({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Me(Su),wu=v({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Me(wu),en=v({},qt,{newState:0,oldState:0}),Ru=Me(en),Cu=[9,13,27,32],ni=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var y=kn&&"TextEvent"in window&&!c,_=kn&&(!ni||c&&8<c&&11>=c),S=" ",U=!1;function H(e,s){switch(e){case"keyup":return Cu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function be(e,s){switch(e){case"compositionend":return at(s);case"keypress":return s.which!==32?null:(U=!0,S);case"textInput":return e=s.data,e===S&&U?null:e;default:return null}}function Nt(e,s){if(Ot)return e==="compositionend"||!ni&&H(e,s)?(e=So(),xi=is=Jn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Ie[e.type]:s==="textarea"}function Mi(e,s,a,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,s=dc(s,"onChange"),0<s.length&&(a=new Wr("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Be=null,ii=null;function xo(e){qv(e,0)}function Du(e){var s=Xn(e);if(_o(s))return e}function ug(e,s){if(e==="change")return s}var cg=!1;if(kn){var Hh;if(kn){var Fh="oninput"in document;if(!Fh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Fh=typeof hg.oninput=="function"}Hh=Fh}else Hh=!1;cg=Hh&&(!document.documentMode||9<document.documentMode)}function fg(){Be&&(Be.detachEvent("onpropertychange",dg),ii=Be=null)}function dg(e){if(e.propertyName==="value"&&Du(ii)){var s=[];Mi(s,ii,e,Rn(e)),mu(xo,s)}}function z1(e,s,a){e==="focusin"?(fg(),Be=s,ii=a,Be.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(ii)}function k1(e,s){if(e==="click")return Du(s)}function q1(e,s){if(e==="input"||e==="change")return Du(s)}function H1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var pn=typeof Object.is=="function"?Object.is:H1;function Vo(e,s){if(pn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Fs.call(s,h)||!pn(e[h],s[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,s){var a=mg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=mg(a)}}function gg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?gg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=er(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=er(e.document)}return s}function Gh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var F1=kn&&"documentMode"in document&&11>=document.documentMode,oa=null,Kh=null,Mo=null,Yh=!1;function vg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||oa==null||oa!==er(l)||(l=oa,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mo&&Vo(Mo,l)||(Mo=l,l=dc(Kh,"onSelect"),0<l.length&&(s=new Wr("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=oa)))}function fr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var la={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},Qh={},_g={};kn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function dr(e){if(Qh[e])return Qh[e];if(!la[e])return e;var s=la[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in _g)return Qh[e]=s[a];return e}var Tg=dr("animationend"),Eg=dr("animationiteration"),Ag=dr("animationstart"),G1=dr("transitionrun"),K1=dr("transitionstart"),Y1=dr("transitioncancel"),Sg=dr("transitionend"),bg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function qn(e,s){bg.set(e,s),jn(s,[e])}var wg=new WeakMap;function xn(e,s){if(typeof e=="object"&&e!==null){var a=wg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:$r(s)},wg.set(e,s),s)}return{value:e,source:s,stack:$r(s)}}var Vn=[],ua=0,$h=0;function xu(){for(var e=ua,s=$h=ua=0;s<e;){var a=Vn[s];Vn[s++]=null;var l=Vn[s];Vn[s++]=null;var h=Vn[s];Vn[s++]=null;var m=Vn[s];if(Vn[s++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}m!==0&&Rg(a,h,m)}}function Vu(e,s,a,l){Vn[ua++]=e,Vn[ua++]=s,Vn[ua++]=a,Vn[ua++]=l,$h|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Zh(e,s,a,l){return Vu(e,s,a,l),Mu(e)}function ca(e,s){return Vu(e,null,null,s),Mu(e)}function Rg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&s!==null&&(h=31-Ge(a),e=m.hiddenUpdates,l=e[h],l===null?e[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function Mu(e){if(50<nl)throw nl=0,sd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ha={};function Q1(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,s,a,l){return new Q1(e,s,a,l)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,s){var a=e.alternate;return a===null?(a=gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cg(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Iu(e,s,a,l,h,m){var T=0;if(l=e,typeof e=="function")Jh(e)&&(T=1);else if(typeof e=="string")T=$b(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,s,h),e.elementType=R,e.lanes=m,e;case q:return mr(a.children,h,m,s);case G:T=8,h|=24;break;case F:return e=gn(12,a,s,h|2),e.elementType=F,e.lanes=m,e;case W:return e=gn(13,a,s,h),e.elementType=W,e.lanes=m,e;case it:return e=gn(19,a,s,h),e.elementType=it,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case $:T=10;break t;case rt:T=9;break t;case et:T=11;break t;case D:T=14;break t;case b:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=gn(T,a,s,h),s.elementType=e,s.type=l,s.lanes=m,s}function mr(e,s,a,l){return e=gn(7,e,l,s),e.lanes=a,e}function Wh(e,s,a){return e=gn(6,e,null,s),e.lanes=a,e}function tf(e,s,a){return s=gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var fa=[],da=0,Ou=null,Nu=0,Mn=[],In=0,pr=null,Oi=1,Ni="";function gr(e,s){fa[da++]=Nu,fa[da++]=Ou,Ou=e,Nu=s}function Dg(e,s,a){Mn[In++]=Oi,Mn[In++]=Ni,Mn[In++]=pr,pr=e;var l=Oi;e=Ni;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var m=32-Ge(s)+h;if(30<m){var T=h-h%5;m=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Oi=1<<32-Ge(s)+h|a<<h|l,Ni=m+e}else Oi=1<<m|a<<h|l,Ni=e}function ef(e){e.return!==null&&(gr(e,1),Dg(e,1,0))}function nf(e){for(;e===Ou;)Ou=fa[--da],fa[da]=null,Nu=fa[--da],fa[da]=null;for(;e===pr;)pr=Mn[--In],Mn[In]=null,Ni=Mn[--In],Mn[In]=null,Oi=Mn[--In],Mn[In]=null}var nn=null,le=null,kt=!1,yr=null,si=!1,sf=Error(r(519));function vr(e){var s=Error(r(418,""));throw No(xn(s,e)),sf}function xg(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Se]=e,s[ve]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<sl.length;a++)Mt(sl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),nr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zr(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),ir(s,l.value,l.defaultValue,l.children),Zr(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Kv(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=mc),s=!0):s=!1,s||vr(e)}function Vg(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:nn=nn.return}}function Io(e){if(e!==nn)return!1;if(!kt)return Vg(e),kt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&le&&vr(e),Vg(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){le=Fn(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}le=null}}else s===27?(s=le,_s(e.type)?(e=bd,bd=null,le=e):le=s):le=nn?Fn(e.stateNode.nextSibling):null;return!0}function Oo(){le=nn=null,kt=!1}function Mg(){var e=yr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),yr=null),e}function No(e){yr===null?yr=[e]:yr.push(e)}var rf=tt(null),_r=null,Pi=null;function ss(e,s,a){st(rf,s._currentValue),s._currentValue=a}function Li(e){e._currentValue=rf.current,lt(rf)}function af(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function of(e,s,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=h;for(var C=0;C<s.length;C++)if(A.context===s[C]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),af(m.return,a,e),l||(T=null);break t}m=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),af(T,a,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Po(e,s,a,l){e=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=h.type;pn(h.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(h===Ve.current){if(T=h.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&of(s,e,a,l),s.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tr(e){_r=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Ig(_r,e)}function Lu(e,s){return _r===null&&Tr(e),Ig(e,s)}function Ig(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(r(308));Pi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Pi=Pi.next=s;return a}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},$1=n.unstable_scheduleCallback,Z1=n.unstable_NormalPriority,Re={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new X1,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&$1(Z1,function(){e.controller.abort()})}var Uo=null,uf=0,ma=0,pa=null;function J1(e,s){if(Uo===null){var a=Uo=[];uf=0,ma=hd(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uf++,s.then(Og,Og),s}function Og(){if(--uf===0&&Uo!==null){pa!==null&&(pa.status="fulfilled");var e=Uo;Uo=null,ma=0,pa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function W1(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=K.S;K.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&J1(e,s),Ng!==null&&Ng(e,s)};var Er=tt(null);function cf(){var e=Er.current;return e!==null?e:Jt.pooledCache}function Uu(e,s){s===null?st(Er,Er.current):st(Er,s.pool)}function Pg(){var e=cf();return e===null?null:{parent:Re._currentValue,pool:e}}var Bo=Error(r(460)),Lg=Error(r(474)),Bu=Error(r(542)),hf={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function Bg(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(zu,zu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,jg(e),e;default:if(typeof s.status=="string")s.then(zu,zu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,jg(e),e}throw zo=s,Bo}}var zo=null;function zg(){if(zo===null)throw Error(r(459));var e=zo;return zo=null,e}function jg(e){if(e===Bo||e===Bu)throw Error(r(483))}var rs=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function os(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Mu(e),Rg(e,null,a),s}return Vu(e,l,s,a),Mu(e)}function jo(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,mo(e,a)}}function mf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var pf=!1;function ko(){if(pf){var e=pa;if(e!==null)throw e}}function qo(e,s,a,l){pf=!1;var h=e.updateQueue;rs=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,z=C.next;C.next=null,T===null?m=z:T.next=z,T=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==T&&(A===null?Y.firstBaseUpdate=z:A.next=z,Y.lastBaseUpdate=C))}if(m!==null){var Z=h.baseState;T=0,Y=z=C=null,A=m;do{var j=A.lane&-536870913,k=j!==A.lane;if(k?(Pt&j)===j:(l&j)===j){j!==0&&j===ma&&(pf=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Tt=e,yt=A;j=s;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Z=Tt.call(Xt,Z,j);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,j=typeof Tt=="function"?Tt.call(Xt,Z,j):Tt,j==null)break t;Z=v({},Z,j);break t;case 2:rs=!0}}j=A.callback,j!==null&&(e.flags|=64,k&&(e.flags|=8192),k=h.callbacks,k===null?h.callbacks=[j]:k.push(j))}else k={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(z=Y=k,C=Z):Y=Y.next=k,T|=j;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;k=A,A=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);Y===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),ps|=T,e.lanes=T,e.memoizedState=Z}}function kg(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function qg(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kg(a[e],s)}var ga=tt(null),ju=tt(0);function Hg(e,s){e=Hi,st(ju,e),st(ga,s),Hi=e|s.baseLanes}function gf(){st(ju,Hi),st(ga,ga.current)}function yf(){Hi=ju.current,lt(ga),lt(ju)}var ls=0,Rt=null,Yt=null,Te=null,ku=!1,ya=!1,Ar=!1,qu=0,Ho=0,va=null,tb=0;function fe(){throw Error(r(321))}function vf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!pn(e[a],s[a]))return!1;return!0}function _f(e,s,a,l,h,m){return ls=m,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=e===null||e.memoizedState===null?Ry:Cy,Ar=!1,m=a(l,h),Ar=!1,ya&&(m=Gg(s,a,l,h)),Fg(e),m}function Fg(e){K.H=Qu;var s=Yt!==null&&Yt.next!==null;if(ls=0,Te=Yt=Rt=null,ku=!1,Ho=0,va=null,s)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&Pu(e)&&(Oe=!0))}function Gg(e,s,a,l){Rt=e;var h=0;do{if(ya&&(va=null),Ho=0,ya=!1,25<=h)throw Error(r(301));if(h+=1,Te=Yt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=ob,m=s(a,l)}while(ya);return m}function eb(){var e=K.H,s=e.useState()[0];return s=typeof s.then=="function"?Fo(s):s,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Rt.flags|=1024),s}function Tf(){var e=qu!==0;return qu=0,e}function Ef(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Af(e){if(ku){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}ku=!1}ls=0,Te=Yt=Rt=null,ya=!1,Ho=qu=0,va=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Rt.memoizedState=Te=e:Te=Te.next=e,Te}function Ee(){if(Yt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var s=Te===null?Rt.memoizedState:Te.next;if(s!==null)Te=s,Yt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Rt.memoizedState=Te=e:Te=Te.next=e}return Te}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var s=Ho;return Ho+=1,va===null&&(va=[]),e=Bg(va,e,s),s=Rt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?Ry:Cy),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===$)return Ke(e)}throw Error(r(438,String(e)))}function bf(e){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Sf(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=M;return s.index++,a}function Ui(e,s){return typeof s=="function"?s(e):s}function Fu(e){var s=Ee();return wf(s,Yt,e)}function wf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,m=l.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}s.baseQueue=h=m,l.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{s=h.next;var A=T=null,C=null,z=s,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Pt&Z)===Z:(ls&Z)===Z){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===ma&&(Y=!0);else if((ls&j)===j){z=z.next,j===ma&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=Z,T=m):C=C.next=Z,Rt.lanes|=j,ps|=j;Z=z.action,Ar&&a(m,Z),m=z.hasEagerState?z.eagerState:a(m,Z)}else j={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=j,T=m):C=C.next=j,Rt.lanes|=Z,ps|=Z;z=z.next}while(z!==null&&z!==s);if(C===null?T=m:C.next=A,!pn(m,e.memoizedState)&&(Oe=!0,Y&&(a=pa,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=C,l.lastRenderedState=m}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rf(e){var s=Ee(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=e(m,T.action),T=T.next;while(T!==h);pn(m,s.memoizedState)||(Oe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Kg(e,s,a){var l=Rt,h=Ee(),m=kt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!pn((Yt||h).memoizedState,a);T&&(h.memoizedState=a,Oe=!0),h=h.queue;var A=Xg.bind(null,l,h,e);if(Go(2048,8,A,[e]),h.getSnapshot!==s||T||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,_a(9,Gu(),Qg.bind(null,l,h,a,s),null),Jt===null)throw Error(r(349));m||(ls&124)!==0||Yg(l,s,a)}return a}function Yg(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=Sf(),Rt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Qg(e,s,a,l){s.value=a,s.getSnapshot=l,$g(s)&&Zg(e)}function Xg(e,s,a){return a(function(){$g(s)&&Zg(e)})}function $g(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!pn(e,a)}catch{return!0}}function Zg(e){var s=ca(e,2);s!==null&&En(s,e,2)}function Cf(e){var s=an();if(typeof e=="function"){var a=e;if(e=a(),Ar){dn(!0);try{a()}finally{dn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},s}function Jg(e,s,a,l){return e.baseState=a,wf(e,Yt,typeof l=="function"?l:Ui)}function nb(e,s,a,l,h){if(Yu(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Wg(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Wg(e,s){var a=s.action,l=s.payload,h=e.state;if(s.isTransition){var m=K.T,T={};K.T=T;try{var A=a(h,l),C=K.S;C!==null&&C(T,A),ty(e,s,A)}catch(z){Df(e,s,z)}finally{K.T=m}}else try{m=a(h,l),ty(e,s,m)}catch(z){Df(e,s,z)}}function ty(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(e,s,l)},function(l){return Df(e,s,l)}):ey(e,s,a)}function ey(e,s,a){s.status="fulfilled",s.value=a,ny(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Wg(e,a)))}function Df(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,ny(s),s=s.next;while(s!==l)}e.action=null}function ny(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function iy(e,s){return s}function sy(e,s){if(kt){var a=Jt.formState;if(a!==null){t:{var l=Rt;if(kt){if(le){e:{for(var h=le,m=si;h.nodeType!==8;){if(!m){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){le=Fn(h.nextSibling),l=h.data==="F!";break t}}vr(l)}l=!1}l&&(s=a[0])}}return a=an(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:s},a.queue=l,a=Sy.bind(null,Rt,l),l.dispatch=a,l=Cf(!1),m=Of.bind(null,Rt,!1,l.queue),l=an(),h={state:s,dispatch:null,action:e,pending:null},l.queue=h,a=nb.bind(null,Rt,h,m,a),h.dispatch=a,l.memoizedState=e,[s,a,!1]}function ry(e){var s=Ee();return ay(s,Yt,e)}function ay(e,s,a){if(s=wf(e,s,iy)[0],e=Fu(Ui)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Fo(s)}catch(T){throw T===Bo?Bu:T}else l=s;s=Ee();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,_a(9,Gu(),ib.bind(null,h,a),null)),[l,m,e]}function ib(e,s){e.action=s}function oy(e){var s=Ee(),a=Yt;if(a!==null)return ay(s,a,e);Ee(),s=s.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function _a(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Sf(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function ly(){return Ee().memoizedState}function Ku(e,s,a,l){var h=an();l=l===void 0?null:l,Rt.flags|=e,h.memoizedState=_a(1|s,Gu(),a,l)}function Go(e,s,a,l){var h=Ee();l=l===void 0?null:l;var m=h.memoizedState.inst;Yt!==null&&l!==null&&vf(l,Yt.memoizedState.deps)?h.memoizedState=_a(s,m,a,l):(Rt.flags|=e,h.memoizedState=_a(1|s,m,a,l))}function uy(e,s){Ku(8390656,8,e,s)}function cy(e,s){Go(2048,8,e,s)}function hy(e,s){return Go(4,2,e,s)}function fy(e,s){return Go(4,4,e,s)}function dy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function my(e,s,a){a=a!=null?a.concat([e]):null,Go(4,4,dy.bind(null,s,e),a)}function xf(){}function py(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&vf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function gy(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&vf(s,l[1]))return l[0];if(l=e(),Ar){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,s],l}function Vf(e,s,a){return a===void 0||(ls&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=_v(),Rt.lanes|=e,ps|=e,a)}function yy(e,s,a,l){return pn(a,s)?a:ga.current!==null?(e=Vf(e,a,l),pn(e,s)||(Oe=!0),e):(ls&42)===0?(Oe=!0,e.memoizedState=a):(e=_v(),Rt.lanes|=e,ps|=e,s)}function vy(e,s,a,l,h){var m=nt.p;nt.p=m!==0&&8>m?m:8;var T=K.T,A={};K.T=A,Of(e,!1,s,a);try{var C=h(),z=K.S;if(z!==null&&z(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=W1(C,l);Ko(e,s,Y,Tn(e))}else Ko(e,s,l,Tn(e))}catch(Z){Ko(e,s,{then:function(){},status:"rejected",reason:Z},Tn())}finally{nt.p=m,K.T=T}}function sb(){}function Mf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var h=_y(e).queue;vy(e,h,s,ht,a===null?sb:function(){return Ty(e),a(l)})}function _y(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Ty(e){var s=_y(e).next.queue;Ko(e,s,{},Tn())}function If(){return Ke(cl)}function Ey(){return Ee().memoizedState}function Ay(){return Ee().memoizedState}function rb(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Tn();e=as(a);var l=os(s,e,a);l!==null&&(En(l,s,a),jo(l,s,a)),s={cache:lf()},e.payload=s;return}s=s.return}}function ab(e,s,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?by(s,a):(a=Zh(e,s,a,l),a!==null&&(En(a,e,l),wy(a,s,l)))}function Sy(e,s,a){var l=Tn();Ko(e,s,a,l)}function Ko(e,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))by(s,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,A=m(T,a);if(h.hasEagerState=!0,h.eagerState=A,pn(A,T))return Vu(e,s,h,0),Jt===null&&xu(),!1}catch{}finally{}if(a=Zh(e,s,h,l),a!==null)return En(a,e,l),wy(a,s,l),!0}return!1}function Of(e,s,a,l){if(l={lane:2,revertLane:hd(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(s)throw Error(r(479))}else s=Zh(e,a,l,2),s!==null&&En(s,e,2)}function Yu(e){var s=e.alternate;return e===Rt||s!==null&&s===Rt}function by(e,s){ya=ku=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function wy(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,mo(e,a)}}var Qu={readContext:Ke,use:Hu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Ry={readContext:Ke,use:Hu,useCallback:function(e,s){return an().memoizedState=[e,s===void 0?null:s],e},useContext:Ke,useEffect:uy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,dy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Ku(4194308,4,e,s)},useInsertionEffect:function(e,s){Ku(4,2,e,s)},useMemo:function(e,s){var a=an();s=s===void 0?null:s;var l=e();if(Ar){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=an();if(a!==void 0){var h=a(s);if(Ar){dn(!0);try{a(s)}finally{dn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=ab.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var s=an();return e={current:e},s.memoizedState=e},useState:function(e){e=Cf(e);var s=e.queue,a=Sy.bind(null,Rt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,s){var a=an();return Vf(a,e,s)},useTransition:function(){var e=Cf(!1);return e=vy.bind(null,Rt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Rt,h=an();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Jt===null)throw Error(r(349));(Pt&124)!==0||Yg(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,uy(Xg.bind(null,l,m,e),[e]),l.flags|=2048,_a(9,Gu(),Qg.bind(null,l,m,a,s),null),a},useId:function(){var e=an(),s=Jt.identifierPrefix;if(kt){var a=Ni,l=Oi;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=qu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=tb++,s="«"+s+"r"+a.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:If,useFormState:sy,useActionState:sy,useOptimistic:function(e){var s=an();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Of.bind(null,Rt,!0,a),a.dispatch=s,[e,s]},useMemoCache:bf,useCacheRefresh:function(){return an().memoizedState=rb.bind(null,Rt)}},Cy={readContext:Ke,use:Hu,useCallback:py,useContext:Ke,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:Fu,useRef:ly,useState:function(){return Fu(Ui)},useDebugValue:xf,useDeferredValue:function(e,s){var a=Ee();return yy(a,Yt.memoizedState,e,s)},useTransition:function(){var e=Fu(Ui)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:Fo(e),s]},useSyncExternalStore:Kg,useId:Ey,useHostTransitionStatus:If,useFormState:ry,useActionState:ry,useOptimistic:function(e,s){var a=Ee();return Jg(a,Yt,e,s)},useMemoCache:bf,useCacheRefresh:Ay},ob={readContext:Ke,use:Hu,useCallback:py,useContext:Ke,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:Rf,useRef:ly,useState:function(){return Rf(Ui)},useDebugValue:xf,useDeferredValue:function(e,s){var a=Ee();return Yt===null?Vf(a,e,s):yy(a,Yt.memoizedState,e,s)},useTransition:function(){var e=Rf(Ui)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:Fo(e),s]},useSyncExternalStore:Kg,useId:Ey,useHostTransitionStatus:If,useFormState:oy,useActionState:oy,useOptimistic:function(e,s){var a=Ee();return Yt!==null?Jg(a,Yt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Ay},Ta=null,Yo=0;function Xu(e){var s=Yo;return Yo+=1,Ta===null&&(Ta=[]),Bg(Ta,e,s)}function Qo(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function $u(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Dy(e){var s=e._init;return s(e._payload)}function xy(e){function s(P,N){if(e){var B=P.deletions;B===null?(P.deletions=[N],P.flags|=16):B.push(N)}}function a(P,N){if(!e)return null;for(;N!==null;)s(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Ii(P,N),P.index=0,P.sibling=null,P}function m(P,N,B){return P.index=B,e?(B=P.alternate,B!==null?(B=B.index,B<N?(P.flags|=67108866,N):B):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function T(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function A(P,N,B,Q){return N===null||N.tag!==6?(N=Wh(B,P.mode,Q),N.return=P,N):(N=h(N,B),N.return=P,N)}function C(P,N,B,Q){var ft=B.type;return ft===q?Y(P,N,B.props.children,Q,B.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Dy(ft)===N.type)?(N=h(N,B.props),Qo(N,B),N.return=P,N):(N=Iu(B.type,B.key,B.props,null,P.mode,Q),Qo(N,B),N.return=P,N)}function z(P,N,B,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=tf(B,P.mode,Q),N.return=P,N):(N=h(N,B.children||[]),N.return=P,N)}function Y(P,N,B,Q,ft){return N===null||N.tag!==7?(N=mr(B,P.mode,Q,ft),N.return=P,N):(N=h(N,B),N.return=P,N)}function Z(P,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wh(""+N,P.mode,B),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return B=Iu(N.type,N.key,N.props,null,P.mode,B),Qo(B,N),B.return=P,B;case x:return N=tf(N,P.mode,B),N.return=P,N;case b:var Q=N._init;return N=Q(N._payload),Z(P,N,B)}if(ne(N)||L(N))return N=mr(N,P.mode,B,null),N.return=P,N;if(typeof N.then=="function")return Z(P,Xu(N),B);if(N.$$typeof===$)return Z(P,Lu(P,N),B);$u(P,N)}return null}function j(P,N,B,Q){var ft=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:A(P,N,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ft?C(P,N,B,Q):null;case x:return B.key===ft?z(P,N,B,Q):null;case b:return ft=B._init,B=ft(B._payload),j(P,N,B,Q)}if(ne(B)||L(B))return ft!==null?null:Y(P,N,B,Q,null);if(typeof B.then=="function")return j(P,N,Xu(B),Q);if(B.$$typeof===$)return j(P,N,Lu(P,B),Q);$u(P,B)}return null}function k(P,N,B,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(B)||null,A(N,P,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return P=P.get(Q.key===null?B:Q.key)||null,C(N,P,Q,ft);case x:return P=P.get(Q.key===null?B:Q.key)||null,z(N,P,Q,ft);case b:var Dt=Q._init;return Q=Dt(Q._payload),k(P,N,B,Q,ft)}if(ne(Q)||L(Q))return P=P.get(B)||null,Y(N,P,Q,ft,null);if(typeof Q.then=="function")return k(P,N,B,Xu(Q),ft);if(Q.$$typeof===$)return k(P,N,B,Lu(N,Q),ft);$u(N,Q)}return null}function Tt(P,N,B,Q){for(var ft=null,Dt=null,mt=N,_t=N=0,Pe=null;mt!==null&&_t<B.length;_t++){mt.index>_t?(Pe=mt,mt=null):Pe=mt.sibling;var jt=j(P,mt,B[_t],Q);if(jt===null){mt===null&&(mt=Pe);break}e&&mt&&jt.alternate===null&&s(P,mt),N=m(jt,N,_t),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt,mt=Pe}if(_t===B.length)return a(P,mt),kt&&gr(P,_t),ft;if(mt===null){for(;_t<B.length;_t++)mt=Z(P,B[_t],Q),mt!==null&&(N=m(mt,N,_t),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return kt&&gr(P,_t),ft}for(mt=l(mt);_t<B.length;_t++)Pe=k(mt,P,_t,B[_t],Q),Pe!==null&&(e&&Pe.alternate!==null&&mt.delete(Pe.key===null?_t:Pe.key),N=m(Pe,N,_t),Dt===null?ft=Pe:Dt.sibling=Pe,Dt=Pe);return e&&mt.forEach(function(bs){return s(P,bs)}),kt&&gr(P,_t),ft}function yt(P,N,B,Q){if(B==null)throw Error(r(151));for(var ft=null,Dt=null,mt=N,_t=N=0,Pe=null,jt=B.next();mt!==null&&!jt.done;_t++,jt=B.next()){mt.index>_t?(Pe=mt,mt=null):Pe=mt.sibling;var bs=j(P,mt,jt.value,Q);if(bs===null){mt===null&&(mt=Pe);break}e&&mt&&bs.alternate===null&&s(P,mt),N=m(bs,N,_t),Dt===null?ft=bs:Dt.sibling=bs,Dt=bs,mt=Pe}if(jt.done)return a(P,mt),kt&&gr(P,_t),ft;if(mt===null){for(;!jt.done;_t++,jt=B.next())jt=Z(P,jt.value,Q),jt!==null&&(N=m(jt,N,_t),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt);return kt&&gr(P,_t),ft}for(mt=l(mt);!jt.done;_t++,jt=B.next())jt=k(mt,P,_t,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&mt.delete(jt.key===null?_t:jt.key),N=m(jt,N,_t),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt);return e&&mt.forEach(function(lw){return s(P,lw)}),kt&&gr(P,_t),ft}function Xt(P,N,B,Q){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:t:{for(var ft=B.key;N!==null;){if(N.key===ft){if(ft=B.type,ft===q){if(N.tag===7){a(P,N.sibling),Q=h(N,B.props.children),Q.return=P,P=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Dy(ft)===N.type){a(P,N.sibling),Q=h(N,B.props),Qo(Q,B),Q.return=P,P=Q;break t}a(P,N);break}else s(P,N);N=N.sibling}B.type===q?(Q=mr(B.props.children,P.mode,Q,B.key),Q.return=P,P=Q):(Q=Iu(B.type,B.key,B.props,null,P.mode,Q),Qo(Q,B),Q.return=P,P=Q)}return T(P);case x:t:{for(ft=B.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(P,N.sibling),Q=h(N,B.children||[]),Q.return=P,P=Q;break t}else{a(P,N);break}else s(P,N);N=N.sibling}Q=tf(B,P.mode,Q),Q.return=P,P=Q}return T(P);case b:return ft=B._init,B=ft(B._payload),Xt(P,N,B,Q)}if(ne(B))return Tt(P,N,B,Q);if(L(B)){if(ft=L(B),typeof ft!="function")throw Error(r(150));return B=ft.call(B),yt(P,N,B,Q)}if(typeof B.then=="function")return Xt(P,N,Xu(B),Q);if(B.$$typeof===$)return Xt(P,N,Lu(P,B),Q);$u(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(P,N.sibling),Q=h(N,B),Q.return=P,P=Q):(a(P,N),Q=Wh(B,P.mode,Q),Q.return=P,P=Q),T(P)):a(P,N)}return function(P,N,B,Q){try{Yo=0;var ft=Xt(P,N,B,Q);return Ta=null,ft}catch(mt){if(mt===Bo||mt===Bu)throw mt;var Dt=gn(29,mt,null,P.mode);return Dt.lanes=Q,Dt.return=P,Dt}finally{}}}var Ea=xy(!0),Vy=xy(!1),On=tt(null),ri=null;function us(e){var s=e.alternate;st(Ce,Ce.current&1),st(On,e),ri===null&&(s===null||ga.current!==null||s.memoizedState!==null)&&(ri=e)}function My(e){if(e.tag===22){if(st(Ce,Ce.current),st(On,e),ri===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(ri=e)}}else cs()}function cs(){st(Ce,Ce.current),st(On,On.current)}function Bi(e){lt(On),ri===e&&(ri=null),lt(Ce)}var Ce=tt(0);function Zu(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Nf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pf={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Tn(),h=as(l);h.payload=s,a!=null&&(h.callback=a),s=os(e,h,l),s!==null&&(En(s,e,l),jo(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Tn(),h=as(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=os(e,h,l),s!==null&&(En(s,e,l),jo(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Tn(),l=as(a);l.tag=2,s!=null&&(l.callback=s),s=os(e,l,a),s!==null&&(En(s,e,a),jo(s,e,a))}};function Iy(e,s,a,l,h,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Vo(a,l)||!Vo(h,m):!0}function Oy(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Pf.enqueueReplaceState(s,s.state,null)}function Sr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ny(e){Ju(e)}function Py(e){console.error(e)}function Ly(e){Ju(e)}function Wu(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,s,a){return a=as(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,s)},a}function By(e){return e=as(e),e.tag=3,e}function zy(e,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;e.payload=function(){return h(m)},e.callback=function(){Uy(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Uy(s,a,l),typeof h!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function lb(e,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Po(s,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ri===null?ad():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ld(e,l,h)),!1;case 22:return a.flags|=65536,l===hf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ld(e,l,h)),!1}throw Error(r(435,a.tag))}return ld(e,l,h),ad(),!1}if(kt)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==sf&&(e=Error(r(422),{cause:l}),No(xn(e,a)))):(l!==sf&&(s=Error(r(423),{cause:l}),No(xn(s,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=xn(l,a),h=Lf(e.stateNode,l,h),mf(e,h),ue!==4&&(ue=2)),!1;var m=Error(r(520),{cause:l});if(m=xn(m,a),el===null?el=[m]:el.push(m),ue!==4&&(ue=2),s===null)return!0;l=xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lf(a.stateNode,l,e),mf(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(gs===null||!gs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),zy(h,e,a,l),mf(a,h),!1}a=a.return}while(a!==null);return!1}var jy=Error(r(461)),Oe=!1;function ze(e,s,a,l){s.child=e===null?Vy(s,null,a,l):Ea(s,e.child,a,l)}function ky(e,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Tr(s),l=_f(e,s,a,T,m,h),A=Tf(),e!==null&&!Oe?(Ef(e,s,h),zi(e,s,h)):(kt&&A&&ef(s),s.flags|=1,ze(e,s,l,h),s.child)}function qy(e,s,a,l,h){if(e===null){var m=a.type;return typeof m=="function"&&!Jh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Hy(e,s,m,l,h)):(e=Iu(a.type,null,l,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Ff(e,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(T,l)&&e.ref===s.ref)return zi(e,s,h)}return s.flags|=1,e=Ii(m,l),e.ref=s.ref,e.return=s,s.child=e}function Hy(e,s,a,l,h){if(e!==null){var m=e.memoizedProps;if(Vo(m,l)&&e.ref===s.ref)if(Oe=!1,s.pendingProps=l=m,Ff(e,h))(e.flags&131072)!==0&&(Oe=!0);else return s.lanes=e.lanes,zi(e,s,h)}return Uf(e,s,a,l,h)}function Fy(e,s,a){var l=s.pendingProps,h=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,e!==null){for(h=s.child=e.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Gy(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(s,m!==null?m.cachePool:null),m!==null?Hg(s,m):gf(),My(s);else return s.lanes=s.childLanes=536870912,Gy(e,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Uu(s,m.cachePool),Hg(s,m),cs(),s.memoizedState=null):(e!==null&&Uu(s,null),gf(),cs());return ze(e,s,h,a),s.child}function Gy(e,s,a,l){var h=cf();return h=h===null?null:{parent:Re._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},e!==null&&Uu(s,null),gf(),My(s),e!==null&&Po(e,s,l,!0),null}function tc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Uf(e,s,a,l,h){return Tr(s),a=_f(e,s,a,l,void 0,h),l=Tf(),e!==null&&!Oe?(Ef(e,s,h),zi(e,s,h)):(kt&&l&&ef(s),s.flags|=1,ze(e,s,a,h),s.child)}function Ky(e,s,a,l,h,m){return Tr(s),s.updateQueue=null,a=Gg(s,l,a,h),Fg(e),l=Tf(),e!==null&&!Oe?(Ef(e,s,m),zi(e,s,m)):(kt&&l&&ef(s),s.flags|=1,ze(e,s,a,m),s.child)}function Yy(e,s,a,l,h){if(Tr(s),s.stateNode===null){var m=ha,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ke(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Pf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},ff(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ke(T):ha,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Nf(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Pf.enqueueReplaceState(m,m.state,null),qo(s,l,m,h),ko(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var A=s.memoizedProps,C=Sr(a,A);m.props=C;var z=m.context,Y=a.contextType;T=ha,typeof Y=="object"&&Y!==null&&(T=Ke(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||z!==T)&&Oy(s,m,l,T),rs=!1;var j=s.memoizedState;m.state=j,qo(s,l,m,h),ko(),z=s.memoizedState,A||j!==z||rs?(typeof Z=="function"&&(Nf(s,a,Z,l),z=s.memoizedState),(C=rs||Iy(s,a,C,l,j,z,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),m.props=l,m.state=z,m.context=T,l=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,df(e,s),T=s.memoizedProps,Y=Sr(a,T),m.props=Y,Z=s.pendingProps,j=m.context,z=a.contextType,C=ha,typeof z=="object"&&z!==null&&(C=Ke(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Z||j!==C)&&Oy(s,m,l,C),rs=!1,j=s.memoizedState,m.state=j,qo(s,l,m,h),ko();var k=s.memoizedState;T!==Z||j!==k||rs||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof A=="function"&&(Nf(s,a,A,l),k=s.memoizedState),(Y=rs||Iy(s,a,Y,l,j,k,C)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,k,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,k,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=k),m.props=l,m.state=k,m.context=C,l=Y):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,tc(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Ea(s,e.child,null,h),s.child=Ea(s,null,a,h)):ze(e,s,a,h),s.memoizedState=m.state,e=s.child):e=zi(e,s,h),e}function Qy(e,s,a,l){return Oo(),s.flags|=256,ze(e,s,a,l),s.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Pg()}}function jf(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Nn),e}function Xy(e,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(kt){if(h?us(s):cs(),kt){var A=le,C;if(C=A){t:{for(C=A,A=si;C.nodeType!==8;){if(!A){A=null;break t}if(C=Fn(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(s.memoizedState={dehydrated:A,treeContext:pr!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=A,C.return=s,s.child=C,nn=s,le=null,C=!0):C=!1}C||vr(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Sd(A)?s.lanes=32:s.lanes=536870912,null;Bi(s)}return A=l.children,l=l.fallback,h?(cs(),h=s.mode,A=ec({mode:"hidden",children:A},h),l=mr(l,h,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,h=s.child,h.memoizedState=zf(a),h.childLanes=jf(e,T,a),s.memoizedState=Bf,l):(us(s),kf(s,A))}if(C=e.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(m)s.flags&256?(us(s),s.flags&=-257,s=qf(e,s,a)):s.memoizedState!==null?(cs(),s.child=e.child,s.flags|=128,s=null):(cs(),h=l.fallback,A=s.mode,l=ec({mode:"visible",children:l.children},A),h=mr(h,A,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,Ea(s,e.child,null,a),l=s.child,l.memoizedState=zf(a),l.childLanes=jf(e,T,a),s.memoizedState=Bf,s=h);else if(us(s),Sd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(r(419)),l.stack="",l.digest=T,No({value:l,source:null,stack:null}),s=qf(e,s,a)}else if(Oe||Po(e,s,a,!1),T=(a&e.childLanes)!==0,Oe||T){if(T=Jt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ca(e,l),En(T,e,l),jy;A.data==="$?"||ad(),s=qf(e,s,a)}else A.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=C.treeContext,le=Fn(A.nextSibling),nn=s,kt=!0,yr=null,si=!1,e!==null&&(Mn[In++]=Oi,Mn[In++]=Ni,Mn[In++]=pr,Oi=e.id,Ni=e.overflow,pr=s),s=kf(s,l.children),s.flags|=4096);return s}return h?(cs(),h=l.fallback,A=s.mode,C=e.child,z=C.sibling,l=Ii(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Ii(z,h):(h=mr(h,A,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,A=e.child.memoizedState,A===null?A=zf(a):(C=A.cachePool,C!==null?(z=Re._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Pg(),A={baseLanes:A.baseLanes|a,cachePool:C}),h.memoizedState=A,h.childLanes=jf(e,T,a),s.memoizedState=Bf,l):(us(s),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function kf(e,s){return s=ec({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function ec(e,s){return e=gn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qf(e,s,a){return Ea(s,e.child,null,a),e=kf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function $y(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),af(e.return,s,a)}function Hf(e,s,a,l,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Zy(e,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;if(ze(e,s,l.children,a),l=Ce.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,a,s);else if(e.tag===19)$y(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(st(Ce,l),h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Hf(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Hf(s,!0,a,null,m);break;case"together":Hf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),ps|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Po(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ii(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Ff(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function ub(e,s,a){switch(s.tag){case 3:Zt(s,s.stateNode.containerInfo),ss(s,Re,e.memoizedState.cache),Oo();break;case 27:case 5:$i(s);break;case 4:Zt(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(us(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Xy(e,s,a):(us(s),e=zi(e,s,a),e!==null?e.sibling:null);us(s);break;case 19:var h=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Po(e,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Zy(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ce,Ce.current),l)break;return null;case 22:case 23:return s.lanes=0,Fy(e,s,a);case 24:ss(s,Re,e.memoizedState.cache)}return zi(e,s,a)}function Jy(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Oe=!0;else{if(!Ff(e,a)&&(s.flags&128)===0)return Oe=!1,ub(e,s,a);Oe=(e.flags&131072)!==0}else Oe=!1,kt&&(s.flags&1048576)!==0&&Dg(s,Nu,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")Jh(l)?(e=Sr(l,e),s.tag=1,s=Yy(null,s,l,e,a)):(s.tag=0,s=Uf(null,s,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===et){s.tag=11,s=ky(null,s,l,e,a);break t}else if(h===D){s.tag=14,s=qy(null,s,l,e,a);break t}}throw s=ye(l)||l,Error(r(306,s,""))}}return s;case 0:return Uf(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Sr(l,s.pendingProps),Yy(e,s,l,h,a);case 3:t:{if(Zt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,df(e,s),qo(s,l,null,a);var T=s.memoizedState;if(l=T.cache,ss(s,Re,l),l!==m.cache&&of(s,[Re],a,!0),ko(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Qy(e,s,l,a);break t}else if(l!==h){h=xn(Error(r(424)),s),No(h),s=Qy(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Fn(e.firstChild),nn=s,kt=!0,yr=null,si=!0,a=Vy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oo(),l===h){s=zi(e,s,a);break t}ze(e,s,l,a)}s=s.child}return s;case 26:return tc(e,s),e===null?(a=n0(s.type,null,s.pendingProps,null))?s.memoizedState=a:kt||(a=s.type,e=s.pendingProps,l=pc(At.current).createElement(a),l[Se]=s,l[ve]=e,ke(l,a,e),he(l),s.stateNode=l):s.memoizedState=n0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return $i(s),e===null&&kt&&(l=s.stateNode=Wv(s.type,s.pendingProps,At.current),nn=s,si=!0,h=le,_s(s.type)?(bd=h,le=Fn(l.firstChild)):le=h),ze(e,s,s.pendingProps.children,a),tc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&kt&&((h=l=le)&&(l=Ub(l,s.type,s.pendingProps,si),l!==null?(s.stateNode=l,nn=s,le=Fn(l.firstChild),si=!1,h=!0):h=!1),h||vr(s)),$i(s),h=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,Td(h,m)?l=null:T!==null&&Td(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=_f(e,s,eb,null,null,a),cl._currentValue=h),tc(e,s),ze(e,s,l,a),s.child;case 6:return e===null&&kt&&((e=a=le)&&(a=Bb(a,s.pendingProps,si),a!==null?(s.stateNode=a,nn=s,le=null,e=!0):e=!1),e||vr(s)),null;case 13:return Xy(e,s,a);case 4:return Zt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Ea(s,null,l,a):ze(e,s,l,a),s.child;case 11:return ky(e,s,s.type,s.pendingProps,a);case 7:return ze(e,s,s.pendingProps,a),s.child;case 8:return ze(e,s,s.pendingProps.children,a),s.child;case 12:return ze(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ss(s,s.type,l.value),ze(e,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Tr(s),h=Ke(h),l=l(h),s.flags|=1,ze(e,s,l,a),s.child;case 14:return qy(e,s,s.type,s.pendingProps,a);case 15:return Hy(e,s,s.type,s.pendingProps,a);case 19:return Zy(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=ec(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Ii(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Fy(e,s,a);case 24:return Tr(s),l=Ke(Re),e===null?(h=cf(),h===null&&(h=Jt,m=lf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},ff(s),ss(s,Re,h)):((e.lanes&a)!==0&&(df(e,s),qo(s,null,null,a),ko()),h=e.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ss(s,Re,l)):(l=m.cache,ss(s,Re,l),l!==h.cache&&of(s,[Re],a,!0))),ze(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ji(e){e.flags|=4}function Wy(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o0(s)){if(s=On.current,s!==null&&((Pt&4194048)===Pt?ri!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||s!==ri))throw zo=hf,Lg;e.flags|=8192}}function nc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?ho():536870912,e.lanes|=s,wa|=s)}function Xo(e,s){if(!kt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function cb(e,s,a){var l=s.pendingProps;switch(nf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(s),null;case 1:return ie(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Li(Re),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Io(s)?ji(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mg())),ie(s),null;case 26:return a=s.memoizedState,e===null?(ji(s),a!==null?(ie(s),Wy(s,a)):(ie(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ji(s),ie(s),Wy(s,a)):(ie(s),s.flags&=-16777217):(e.memoizedProps!==l&&ji(s),ie(s),s.flags&=-16777217),null;case 27:_i(s),a=At.current;var h=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}e=gt.current,Io(s)?xg(s):(e=Wv(h,l,a),s.stateNode=e,ji(s))}return ie(s),null;case 5:if(_i(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ie(s),null}if(e=gt.current,Io(s))xg(s);else{switch(h=pc(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=s,e[ve]=l;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(s)}}return ie(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ji(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=At.current,Io(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Kv(e.nodeValue,a)),e||vr(s)}else e=pc(e).createTextNode(l),e[Se]=s,s.stateNode=e}return ie(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(s),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=s}else Oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ie(s),h=!1}else h=Mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Bi(s),s):(Bi(s),null)}if(Bi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),nc(s,s.updateQueue),ie(s),null;case 4:return Kn(),e===null&&pd(s.stateNode.containerInfo),ie(s),null;case 10:return Li(s.type),ie(s),null;case 19:if(lt(Ce),h=s.memoizedState,h===null)return ie(s),null;if(l=(s.flags&128)!==0,m=h.rendering,m===null)if(l)Xo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=Zu(e),m!==null){for(s.flags|=128,Xo(h,!1),e=m.updateQueue,s.updateQueue=e,nc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Cg(a,e),a=a.sibling;return st(Ce,Ce.current&1|2),s.child}e=e.sibling}h.tail!==null&&Sn()>rc&&(s.flags|=128,l=!0,Xo(h,!1),s.lanes=4194304)}else{if(!l)if(e=Zu(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,nc(s,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!kt)return ie(s),null}else 2*Sn()-h.renderingStartTime>rc&&a!==536870912&&(s.flags|=128,l=!0,Xo(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(e=h.last,e!==null?e.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Sn(),s.sibling=null,e=Ce.current,st(Ce,l?e&1|2:e&1),s):(ie(s),null);case 22:case 23:return Bi(s),yf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ie(s),s.subtreeFlags&6&&(s.flags|=8192)):ie(s),a=s.updateQueue,a!==null&&nc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&lt(Er),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Li(Re),ie(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function hb(e,s){switch(nf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Li(Re),Kn(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return _i(s),null;case 13:if(Bi(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Oo()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return lt(Ce),null;case 4:return Kn(),null;case 10:return Li(s.type),null;case 22:case 23:return Bi(s),yf(),e!==null&&lt(Er),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Li(Re),null;case 25:return null;default:return null}}function tv(e,s){switch(nf(s),s.tag){case 3:Li(Re),Kn();break;case 26:case 27:case 5:_i(s);break;case 4:Kn();break;case 13:Bi(s);break;case 19:lt(Ce);break;case 10:Li(s.type);break;case 22:case 23:Bi(s),yf(),e!==null&&lt(Er);break;case 24:Li(Re)}}function $o(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==h)}}catch(A){$t(s,s.return,A)}}function hs(e,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&e)===e){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=s;var C=a,z=A;try{z()}catch(Y){$t(h,C,Y)}}}l=l.next}while(l!==m)}}catch(Y){$t(s,s.return,Y)}}function ev(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{qg(s,a)}catch(l){$t(e,e.return,l)}}}function nv(e,s,a){a.props=Sr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,s,l)}}function Zo(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,s,h)}}function ai(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,s,h)}else a.current=null}function iv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Gf(e,s,a){try{var l=e.stateNode;Ib(l,e.type,a,s),l[ve]=s}catch(h){$t(e,e.return,h)}}function sv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_s(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_s(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=mc));else if(l!==4&&(l===27&&_s(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Yf(e,s,a),e=e.sibling;e!==null;)Yf(e,s,a),e=e.sibling}function ic(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&_s(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,s,a),e=e.sibling;e!==null;)ic(e,s,a),e=e.sibling}function rv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ke(s,l,a),s[Se]=e,s[ve]=a}catch(m){$t(e,e.return,m)}}var ki=!1,de=!1,Qf=!1,av=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function fb(e,s){if(e=e.containerInfo,vd=Ec,e=yg(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,C=-1,z=0,Y=0,Z=e,j=null;e:for(;;){for(var k;Z!==a||h!==0&&Z.nodeType!==3||(A=T+h),Z!==m||l!==0&&Z.nodeType!==3||(C=T+l),Z.nodeType===3&&(T+=Z.nodeValue.length),(k=Z.firstChild)!==null;)j=Z,Z=k;for(;;){if(Z===e)break e;if(j===a&&++z===h&&(A=T),j===m&&++Y===l&&(C=T),(k=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=k}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:e,selectionRange:a},Ec=!1,Ne=s;Ne!==null;)if(s=Ne,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Ne=e;else for(;Ne!==null;){switch(s=Ne,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Tt=Sr(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Tt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Ad(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Ne=e;break}Ne=s.return}}function ov(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fs(e,a),l&4&&$o(5,a);break;case 1:if(fs(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){$t(a,a.return,T)}else{var h=Sr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){$t(a,a.return,T)}}l&64&&ev(a),l&512&&Zo(a,a.return);break;case 3:if(fs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{qg(e,s)}catch(T){$t(a,a.return,T)}}break;case 27:s===null&&l&4&&rv(a);case 26:case 5:fs(e,a),s===null&&l&4&&iv(a),l&512&&Zo(a,a.return);break;case 12:fs(e,a);break;case 13:fs(e,a),l&4&&cv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Eb.bind(null,a),zb(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){s=s!==null&&s.memoizedState!==null||de,h=ki;var m=de;ki=l,(de=s)&&!m?ds(e,a,(a.subtreeFlags&8772)!==0):fs(e,a),ki=h,de=m}break;case 30:break;default:fs(e,a)}}function lv(e){var s=e.alternate;s!==null&&(e.alternate=null,lv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ts(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,on=!1;function qi(e,s,a){for(a=a.child;a!==null;)uv(e,s,a),a=a.sibling}function uv(e,s,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||ai(a,s),qi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ai(a,s);var l=te,h=on;_s(a.type)&&(te=a.stateNode,on=!1),qi(e,s,a),al(a.stateNode),te=l,on=h;break;case 5:de||ai(a,s);case 6:if(l=te,h=on,te=null,qi(e,s,a),te=l,on=h,te!==null)if(on)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(m){$t(a,s,m)}else try{te.removeChild(a.stateNode)}catch(m){$t(a,s,m)}break;case 18:te!==null&&(on?(e=te,Zv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):Zv(te,a.stateNode));break;case 4:l=te,h=on,te=a.stateNode.containerInfo,on=!0,qi(e,s,a),te=l,on=h;break;case 0:case 11:case 14:case 15:de||hs(2,a,s),de||hs(4,a,s),qi(e,s,a);break;case 1:de||(ai(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&nv(a,s,l)),qi(e,s,a);break;case 21:qi(e,s,a);break;case 22:de=(l=de)||a.memoizedState!==null,qi(e,s,a),de=l;break;default:qi(e,s,a)}}function cv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){$t(s,s.return,a)}}function db(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new av),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new av),s;default:throw Error(r(435,e.tag))}}function Xf(e,s){var a=db(e);s.forEach(function(l){var h=Ab.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=e,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(_s(A.type)){te=A.stateNode,on=!1;break t}break;case 5:te=A.stateNode,on=!1;break t;case 3:case 4:te=A.stateNode.containerInfo,on=!0;break t}A=A.return}if(te===null)throw Error(r(160));uv(m,T,h),te=null,on=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)hv(s,e),s=s.sibling}var Hn=null;function hv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(s,e),vn(e),l&4&&(hs(3,e,e.return),$o(3,e),hs(5,e,e.return));break;case 1:yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Js]||m[Se]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),ke(m,l,a),m[Se]=e,he(m),l=m;break t;case"link":var T=r0("link","href",h).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=h.createElement(l),ke(m,l,a),h.head.appendChild(m);break;case"meta":if(T=r0("meta","content",h).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=h.createElement(l),ke(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[Se]=e,he(m),l=m}e.stateNode=l}else a0(h,e.type,e.stateNode);else e.stateNode=s0(h,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?a0(h,e.type,e.stateNode):s0(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),a!==null&&l&4&&Gf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,e),vn(e),l&512&&(de||a===null||ai(a,a.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(k){$t(e,e.return,k)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(yn(s,e),vn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(k){$t(e,e.return,k)}}break;case 3:if(vc=null,h=Hn,Hn=gc(s.containerInfo),yn(s,e),Hn=h,vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(s.containerInfo)}catch(k){$t(e,e.return,k)}Qf&&(Qf=!1,fv(e));break;case 4:l=Hn,Hn=gc(e.stateNode.containerInfo),yn(s,e),vn(e),Hn=l;break;case 12:yn(s,e),vn(e);break;case 13:yn(s,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ed=Sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xf(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ki,Y=de;if(ki=z||h,de=Y||C,yn(s,e),de=Y,ki=z,vn(e),l&8192)t:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||ki||de||br(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(m=C.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=C.stateNode;var Z=C.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(k){$t(C,C.return,k)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(k){$t(C,C.return,k)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xf(e,a))));break;case 19:yn(s,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xf(e,l)));break;case 30:break;case 21:break;default:yn(s,e),vn(e)}}function vn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(sv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=Kf(e);ic(e,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(wn(T,""),a.flags&=-33);var A=Kf(e);ic(e,A,T);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Kf(e);Yf(e,z,C);break;default:throw Error(r(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function fv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;fv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function fs(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ov(e,s.alternate,s),s=s.sibling}function br(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),br(s);break;case 1:ai(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&nv(s,s.return,a),br(s);break;case 27:al(s.stateNode);case 26:case 5:ai(s,s.return),br(s);break;case 22:s.memoizedState===null&&br(s);break;case 30:br(s);break;default:br(s)}e=e.sibling}}function ds(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:ds(h,m,a),$o(4,m);break;case 1:if(ds(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=m,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)kg(C[h],A)}catch(z){$t(l,l.return,z)}}a&&T&64&&ev(m),Zo(m,m.return);break;case 27:rv(m);case 26:case 5:ds(h,m,a),a&&l===null&&T&4&&iv(m),Zo(m,m.return);break;case 12:ds(h,m,a);break;case 13:ds(h,m,a),a&&T&4&&cv(h,m);break;case 22:m.memoizedState===null&&ds(h,m,a),Zo(m,m.return);break;case 30:break;default:ds(h,m,a)}s=s.sibling}}function $f(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Zf(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Lo(e))}function oi(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dv(e,s,a,l),s=s.sibling}function dv(e,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:oi(e,s,a,l),h&2048&&$o(9,s);break;case 1:oi(e,s,a,l);break;case 3:oi(e,s,a,l),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){oi(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(s,s.return,C)}}else oi(e,s,a,l);break;case 13:oi(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?oi(e,s,a,l):Jo(e,s):m._visibility&2?oi(e,s,a,l):(m._visibility|=2,Aa(e,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&$f(T,s);break;case 24:oi(e,s,a,l),h&2048&&Zf(s.alternate,s);break;default:oi(e,s,a,l)}}function Aa(e,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,A=a,C=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:Aa(m,T,A,C,h),$o(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?Aa(m,T,A,C,h):Jo(m,T):(Y._visibility|=2,Aa(m,T,A,C,h)),h&&z&2048&&$f(T.alternate,T);break;case 24:Aa(m,T,A,C,h),h&&z&2048&&Zf(T.alternate,T);break;default:Aa(m,T,A,C,h)}s=s.sibling}}function Jo(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&$f(l.alternate,l);break;case 24:Jo(a,l),h&2048&&Zf(l.alternate,l);break;default:Jo(a,l)}s=s.sibling}}var Wo=8192;function Sa(e){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)mv(e),e=e.sibling}function mv(e){switch(e.tag){case 26:Sa(e),e.flags&Wo&&e.memoizedState!==null&&Jb(Hn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var s=Hn;Hn=gc(e.stateNode.containerInfo),Sa(e),Hn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Wo,Wo=16777216,Sa(e),Wo=s):Sa(e));break;default:Sa(e)}}function pv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function tl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ne=l,yv(l,e)}pv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gv(e),e=e.sibling}function gv(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&hs(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,sc(e)):tl(e);break;default:tl(e)}}function sc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ne=l,yv(l,e)}pv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:hs(8,s,s.return),sc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,sc(s));break;default:sc(s)}e=e.sibling}}function yv(e,s){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:hs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,m=l.return;if(lv(l),l===a){Ne=null;break t}if(h!==null){h.return=m,Ne=h;break t}Ne=m}}}var mb={getCacheForType:function(e){var s=Ke(Re),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},pb=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,Vt=null,Pt=0,Gt=0,_n=null,ms=!1,ba=!1,Jf=!1,Hi=0,ue=0,ps=0,wr=0,Wf=0,Nn=0,wa=0,el=null,ln=null,td=!1,ed=0,rc=1/0,ac=null,gs=null,je=0,ys=null,Ra=null,Ca=0,nd=0,id=null,vv=null,nl=0,sd=null;function Tn(){if((Ft&2)!==0&&Pt!==0)return Pt&-Pt;if(K.T!==null){var e=ma;return e!==0?e:hd()}return Ji()}function _v(){Nn===0&&(Nn=(Pt&536870912)===0||kt?co():536870912);var e=On.current;return e!==null&&(e.flags|=32),Nn}function En(e,s,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),vs(e,Pt,Nn,!1)),Ei(e,a),((Ft&2)===0||e!==Jt)&&(e===Jt&&((Ft&2)===0&&(wr|=a),ue===4&&vs(e,Pt,Nn,!1)),li(e))}function Tv(e,s,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||Zs(e,s),h=l?vb(e,s):od(e,s,!0),m=l;do{if(h===0){ba&&!l&&vs(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!gb(a)){h=od(e,s,!1),m=!1;continue}if(h===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=e;h=el;var C=A.current.memoizedState.isDehydrated;if(C&&(Da(A,T).flags|=256),T=od(A,T,!1),T!==2){if(Jf&&!C){A.errorRecoveryDisabledLanes|=m,wr|=m,h=4;break t}m=ln,ln=h,m!==null&&(ln===null?ln=m:ln.push.apply(ln,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Da(e,0),vs(e,s,0,!0);break}t:{switch(l=e,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vs(l,s,Nn,!ms);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=ed+300-Sn(),10<h)){if(vs(l,s,Nn,!ms),Gr(l,0,!0)!==0)break t;l.timeoutHandle=Xv(Ev.bind(null,l,a,ln,ac,td,s,Nn,wr,wa,ms,m,2,-0,0),h);break t}Ev(l,a,ln,ac,td,s,Nn,wr,wa,ms,m,0,-0,0)}}break}while(!0);li(e)}function Ev(e,s,a,l,h,m,T,A,C,z,Y,Z,j,k){if(e.timeoutHandle=-1,Z=s.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:Zb},mv(s),Z=Wb(),Z!==null)){e.cancelPendingCommit=Z(Dv.bind(null,e,s,m,a,l,h,T,A,C,Y,1,j,k)),vs(e,m,T,!z);return}Dv(e,s,m,a,l,h,T,A,C)}function gb(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!pn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(e,s,a,l){s&=~Wf,s&=~wr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var h=s;0<h;){var m=31-Ge(h),T=1<<m;l[m]=-1,h&=~T}a!==0&&Yn(e,a,s)}function oc(){return(Ft&6)===0?(il(0),!1):!0}function rd(){if(Vt!==null){if(Gt===0)var e=Vt.return;else e=Vt,Pi=_r=null,Af(e),Ta=null,Yo=0,e=Vt;for(;e!==null;)tv(e.alternate,e),e=e.return;Vt=null}}function Da(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Nb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),rd(),Jt=e,Vt=a=Ii(e.current,null),Pt=s,Gt=0,_n=null,ms=!1,ba=Zs(e,s),Jf=!1,wa=Nn=Wf=wr=ps=ue=0,ln=el=null,td=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var h=31-Ge(l),m=1<<h;s|=e[h],l&=~m}return Hi=s,xu(),a}function Av(e,s){Rt=null,K.H=Qu,s===Bo||s===Bu?(s=zg(),Gt=3):s===Lg?(s=zg(),Gt=4):Gt=s===jy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,_n=s,Vt===null&&(ue=1,Wu(e,xn(s,e.current)))}function Sv(){var e=K.H;return K.H=Qu,e===null?Qu:e}function bv(){var e=K.A;return K.A=mb,e}function ad(){ue=4,ms||(Pt&4194048)!==Pt&&On.current!==null||(ba=!0),(ps&134217727)===0&&(wr&134217727)===0||Jt===null||vs(Jt,Pt,Nn,!1)}function od(e,s,a){var l=Ft;Ft|=2;var h=Sv(),m=bv();(Jt!==e||Pt!==s)&&(ac=null,Da(e,s)),s=!1;var T=ue;t:do try{if(Gt!==0&&Vt!==null){var A=Vt,C=_n;switch(Gt){case 8:rd(),T=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var z=Gt;if(Gt=0,_n=null,xa(e,A,C,z),a&&ba){T=0;break t}break;default:z=Gt,Gt=0,_n=null,xa(e,A,C,z)}}yb(),T=ue;break}catch(Y){Av(e,Y)}while(!0);return s&&e.shellSuspendCounter++,Pi=_r=null,Ft=l,K.H=h,K.A=m,Vt===null&&(Jt=null,Pt=0,xu()),T}function yb(){for(;Vt!==null;)wv(Vt)}function vb(e,s){var a=Ft;Ft|=2;var l=Sv(),h=bv();Jt!==e||Pt!==s?(ac=null,rc=Sn()+500,Da(e,s)):ba=Zs(e,s);t:do try{if(Gt!==0&&Vt!==null){s=Vt;var m=_n;e:switch(Gt){case 1:Gt=0,_n=null,xa(e,s,m,1);break;case 2:case 9:if(Ug(m)){Gt=0,_n=null,Rv(s);break}s=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),li(e)},m.then(s,s);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Ug(m)?(Gt=0,_n=null,Rv(s)):(Gt=0,_n=null,xa(e,s,m,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var A=Vt;if(!T||o0(T)){Gt=0,_n=null;var C=A.sibling;if(C!==null)Vt=C;else{var z=A.return;z!==null?(Vt=z,lc(z)):Vt=null}break e}}Gt=0,_n=null,xa(e,s,m,5);break;case 6:Gt=0,_n=null,xa(e,s,m,6);break;case 8:rd(),ue=6;break t;default:throw Error(r(462))}}_b();break}catch(Y){Av(e,Y)}while(!0);return Pi=_r=null,K.H=l,K.A=h,Ft=a,Vt!==null?0:(Jt=null,Pt=0,xu(),ue)}function _b(){for(;Vt!==null&&!ao();)wv(Vt)}function wv(e){var s=Jy(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,s===null?lc(e):Vt=s}function Rv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Ky(a,s,s.pendingProps,s.type,void 0,Pt);break;case 11:s=Ky(a,s,s.pendingProps,s.type.render,s.ref,Pt);break;case 5:Af(s);default:tv(a,s),s=Vt=Cg(s,Hi),s=Jy(a,s,Hi)}e.memoizedProps=e.pendingProps,s===null?lc(e):Vt=s}function xa(e,s,a,l){Pi=_r=null,Af(s),Ta=null,Yo=0;var h=s.return;try{if(lb(e,h,s,a,Pt)){ue=1,Wu(e,xn(a,e.current)),Vt=null;return}}catch(m){if(h!==null)throw Vt=h,m;ue=1,Wu(e,xn(a,e.current)),Vt=null;return}s.flags&32768?(kt||l===1?e=!0:ba||(Pt&536870912)!==0?e=!1:(ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cv(s,e)):lc(s)}function lc(e){var s=e;do{if((s.flags&32768)!==0){Cv(s,ms);return}e=s.return;var a=cb(s.alternate,s,Hi);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=e}while(s!==null);ue===0&&(ue=5)}function Cv(e,s){do{var a=hb(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);ue=6,Vt=null}function Dv(e,s,a,l,h,m,T,A,C){e.cancelPendingCommit=null;do uc();while(je!==0);if((Ft&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=$h,fo(e,a,m,T,A,C),e===Jt&&(Vt=Jt=null,Pt=0),Ra=s,ys=e,Ca=a,nd=m,id=h,vv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sb(Ys,function(){return Ov(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=nt.p,nt.p=2,T=Ft,Ft|=4;try{fb(e,s,a)}finally{Ft=T,nt.p=h,K.T=l}}je=1,xv(),Vv(),Mv()}}function xv(){if(je===1){je=0;var e=ys,s=Ra,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{hv(s,e);var m=_d,T=yg(e.containerInfo),A=m.focusedElem,C=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&gg(A.ownerDocument.documentElement,A)){if(C!==null&&Gh(A)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Y,A.value.length);else{var Z=A.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var k=j.getSelection(),Tt=A.textContent.length,yt=Math.min(C.start,Tt),Xt=C.end===void 0?yt:Math.min(C.end,Tt);!k.extend&&yt>Xt&&(T=Xt,Xt=yt,yt=T);var P=pg(A,yt),N=pg(A,Xt);if(P&&N&&(k.rangeCount!==1||k.anchorNode!==P.node||k.anchorOffset!==P.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var B=Z.createRange();B.setStart(P.node,P.offset),k.removeAllRanges(),yt>Xt?(k.addRange(B),k.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),k.addRange(B))}}}}for(Z=[],k=A;k=k.parentNode;)k.nodeType===1&&Z.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var Q=Z[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!vd,_d=vd=null}finally{Ft=h,nt.p=l,K.T=a}}e.current=s,je=2}}function Vv(){if(je===2){je=0;var e=ys,s=Ra,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{ov(e,s.alternate,s)}finally{Ft=h,nt.p=l,K.T=a}}je=3}}function Mv(){if(je===4||je===3){je=0,su();var e=ys,s=Ra,a=Ca,l=vv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?je=5:(je=0,Ra=ys=null,Iv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gs=null),Kr(a),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(oe,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,h=nt.p,nt.p=2,K.T=null;try{for(var m=e.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{K.T=s,nt.p=h}}(Ca&3)!==0&&uc(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===sd?nl++:(nl=0,sd=e):nl=0,il(0)}}function Iv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Lo(s)))}function uc(e){return xv(),Vv(),Mv(),Ov()}function Ov(){if(je!==5)return!1;var e=ys,s=nd;nd=0;var a=Kr(Ca),l=K.T,h=nt.p;try{nt.p=32>a?32:a,K.T=null,a=id,id=null;var m=ys,T=Ca;if(je=0,Ra=ys=null,Ca=0,(Ft&6)!==0)throw Error(r(331));var A=Ft;if(Ft|=4,gv(m.current),dv(m,m.current,T,a),Ft=A,il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(oe,m)}catch{}return!0}finally{nt.p=h,K.T=l,Iv(e,s)}}function Nv(e,s,a){s=xn(a,s),s=Lf(e.stateNode,s,2),e=os(e,s,2),e!==null&&(Ei(e,2),li(e))}function $t(e,s,a){if(e.tag===3)Nv(e,e,a);else for(;s!==null;){if(s.tag===3){Nv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gs===null||!gs.has(l))){e=xn(a,e),a=By(2),l=os(s,a,2),l!==null&&(zy(a,l,s,e),Ei(l,2),li(l));break}}s=s.return}}function ld(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new pb;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(Jf=!0,h.add(a),e=Tb.bind(null,e,s,a),s.then(e,e))}function Tb(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Pt&a)===a&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>Sn()-ed?(Ft&2)===0&&Da(e,0):Wf|=a,wa===Pt&&(wa=0)),li(e)}function Pv(e,s){s===0&&(s=ho()),e=ca(e,s),e!==null&&(Ei(e,s),li(e))}function Eb(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Pv(e,a)}function Ab(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Pv(e,a)}function Sb(e,s){return Gs(e,s)}var cc=null,Va=null,ud=!1,hc=!1,cd=!1,Rr=0;function li(e){e!==Va&&e.next===null&&(Va===null?cc=Va=e:Va=Va.next=e),hc=!0,ud||(ud=!0,wb())}function il(e,s){if(!cd&&hc){cd=!0;do for(var a=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-Ge(42|e)+1)-1,m&=h&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zv(l,m))}else m=Pt,m=Gr(l,l===Jt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Zs(l,m)||(a=!0,zv(l,m));l=l.next}while(a);cd=!1}}function bb(){Lv()}function Lv(){hc=ud=!1;var e=0;Rr!==0&&(Ob()&&(e=Rr),Rr=0);for(var s=Sn(),a=null,l=cc;l!==null;){var h=l.next,m=Uv(l,s);m===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(Va=a)):(a=l,(e!==0||(m&3)!==0)&&(hc=!0)),l=h}il(e)}function Uv(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Ge(m),A=1<<T,C=h[T];C===-1?((A&a)===0||(A&l)!==0)&&(h[T]=uo(A,s)):C<=s&&(e.expiredLanes|=A),m&=~A}if(s=Jt,a=Pt,a=Gr(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ks(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zs(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Ks(l),Kr(a)){case 2:case 8:a=Hr;break;case 32:a=Ys;break;case 268435456:a=Fr;break;default:a=Ys}return l=Bv.bind(null,e),a=Gs(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Ks(l),e.callbackPriority=2,e.callbackNode=null,2}function Bv(e,s){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var l=Pt;return l=Gr(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tv(e,l,s),Uv(e,Sn()),e.callbackNode!=null&&e.callbackNode===a?Bv.bind(null,e):null)}function zv(e,s){if(uc())return null;Tv(e,s,!0)}function wb(){Pb(function(){(Ft&6)!==0?Gs(oo,bb):Lv()})}function hd(){return Rr===0&&(Rr=co()),Rr}function jv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function kv(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Rb(e,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=jv((h[ve]||null).action),T=l.submitter;T&&(s=(s=T[ve]||null)?jv(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var A=new Wr("action","action",null,l,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rr!==0){var C=T?kv(h,T):new FormData(h);Mf(a,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(A.preventDefault(),C=T?kv(h,T):new FormData(h),Mf(a,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var fd=0;fd<Xh.length;fd++){var dd=Xh[fd],Cb=dd.toLowerCase(),Db=dd[0].toUpperCase()+dd.slice(1);qn(Cb,"on"+Db)}qn(Tg,"onAnimationEnd"),qn(Eg,"onAnimationIteration"),qn(Ag,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(G1,"onTransitionRun"),qn(K1,"onTransitionStart"),qn(Y1,"onTransitionCancel"),qn(Sg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function qv(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var A=l[T],C=A.instance,z=A.currentTarget;if(A=A.listener,C!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=z;try{m(h)}catch(Y){Ju(Y)}h.currentTarget=null,m=C}else for(T=0;T<l.length;T++){if(A=l[T],C=A.instance,z=A.currentTarget,A=A.listener,C!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=z;try{m(h)}catch(Y){Ju(Y)}h.currentTarget=null,m=C}}}}function Mt(e,s){var a=s[po];a===void 0&&(a=s[po]=new Set);var l=e+"__bubble";a.has(l)||(Hv(s,e,2,!1),a.add(l))}function md(e,s,a){var l=0;s&&(l|=4),Hv(a,e,l,s)}var fc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[fc]){e[fc]=!0,go.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||md(a,!1,e),md(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[fc]||(s[fc]=!0,md("selectionchange",!1,s))}}function Hv(e,s,a,l){switch(d0(s)){case 2:var h=nw;break;case 8:h=iw;break;default:h=xd}a=h.bind(null,s,a,e),h=void 0,!Cn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function gd(e,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=Ai(A),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=m=T;continue t}A=A.parentNode}}l=l.return}mu(function(){var z=m,Y=Rn(a),Z=[];t:{var j=bg.get(e);if(j!==void 0){var k=Wr,Tt=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":k=ra;break;case"focusin":Tt="focus",k=na;break;case"focusout":Tt="blur",k=na;break;case"beforeblur":case"afterblur":k=na;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Au;break;case Tg:case Eg:case Ag:k=ia;break;case Sg:k=bu;break;case"scroll":case"scrollend":k=pu;break;case"wheel":k=aa;break;case"copy":case"cut":case"paste":k=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Do;break;case"toggle":case"beforetoggle":k=Ru}var yt=(s&4)!==0,Xt=!yt&&(e==="scroll"||e==="scrollend"),P=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=z,B;N!==null;){var Q=N;if(B=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||B===null||P===null||(Q=rr(N,P),Q!=null&&yt.push(rl(N,Q,B))),Xt)break;N=N.return}0<yt.length&&(j=new k(j,Tt,null,a,Y),Z.push({event:j,listeners:yt}))}}if((s&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",j&&a!==Ri&&(Tt=a.relatedTarget||a.fromElement)&&(Ai(Tt)||Tt[bn]))break t;if((k||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,k?(Tt=a.relatedTarget||a.toElement,k=z,Tt=Tt?Ai(Tt):null,Tt!==null&&(Xt=u(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(k=null,Tt=z),k!==Tt)){if(yt=Dn,Q="onMouseLeave",P="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Do,Q="onPointerLeave",P="onPointerEnter",N="pointer"),Xt=k==null?j:Xn(k),B=Tt==null?j:Xn(Tt),j=new yt(Q,N+"leave",k,a,Y),j.target=Xt,j.relatedTarget=B,Q=null,Ai(Y)===z&&(yt=new yt(P,N+"enter",Tt,a,Y),yt.target=B,yt.relatedTarget=Xt,Q=yt),Xt=Q,k&&Tt)e:{for(yt=k,P=Tt,N=0,B=yt;B;B=Ma(B))N++;for(B=0,Q=P;Q;Q=Ma(Q))B++;for(;0<N-B;)yt=Ma(yt),N--;for(;0<B-N;)P=Ma(P),B--;for(;N--;){if(yt===P||P!==null&&yt===P.alternate)break e;yt=Ma(yt),P=Ma(P)}yt=null}else yt=null;k!==null&&Fv(Z,j,k,yt,!1),Tt!==null&&Xt!==null&&Fv(Z,Xt,Tt,yt,!0)}}t:{if(j=z?Xn(z):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var ft=ug;else if(we(j))if(cg)ft=q1;else{ft=j1;var Dt=z1}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Eo(z.elementType)&&(ft=ug):ft=k1;if(ft&&(ft=ft(e,z))){Mi(Z,ft,a,Y);break t}Dt&&Dt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ns(j,"number",j.value)}switch(Dt=z?Xn(z):window,e){case"focusin":(we(Dt)||Dt.contentEditable==="true")&&(oa=Dt,Kh=z,Mo=null);break;case"focusout":Mo=Kh=oa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,vg(Z,a,Y);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":vg(Z,a,Y)}var mt;if(ni)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?H(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(mt=So()):(Jn=Y,is="value"in Jn?Jn.value:Jn.textContent,Ot=!0)),Dt=dc(z,_t),0<Dt.length&&(_t=new Ro(_t,e,null,a,Y),Z.push({event:_t,listeners:Dt}),mt?_t.data=mt:(mt=at(a),mt!==null&&(_t.data=mt)))),(mt=y?be(e,a):Nt(e,a))&&(_t=dc(z,"onBeforeInput"),0<_t.length&&(Dt=new Ro("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Dt,listeners:_t}),Dt.data=mt)),Rb(Z,e,z,a,Y)}qv(Z,s)})}function rl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function dc(e,s){for(var a=s+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=rr(e,a),h!=null&&l.unshift(rl(e,h,m)),h=rr(e,s),h!=null&&l.push(rl(e,h,m))),e.tag===3)return l;e=e.return}return[]}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fv(e,s,a,l,h){for(var m=s._reactName,T=[];a!==null&&a!==l;){var A=a,C=A.alternate,z=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||z===null||(C=z,h?(z=rr(a,m),z!=null&&T.unshift(rl(a,z,C))):h||(z=rr(a,m),z!=null&&T.push(rl(a,z,C)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var Vb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Gv(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(Mb,"")}function Kv(e,s){return s=Gv(s),Gv(e)===s}function mc(){}function Qt(e,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&wn(e,""+l);break;case"className":$n(e,"class",l);break;case"tabIndex":$n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,l);break;case"style":To(e,l,m);break;case"data":if(s!=="object"){$n(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Qt(e,s,"name",h.name,h,null),Qt(e,s,"formEncType",h.formEncType,h,null),Qt(e,s,"formMethod",h.formMethod,h,null),Qt(e,s,"formTarget",h.formTarget,h,null)):(Qt(e,s,"encType",h.encType,h,null),Qt(e,s,"method",h.method,h,null),Qt(e,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=mc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Jr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),es(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":es(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zh.get(a)||a,es(e,a,l))}}function yd(e,s,a,l,h,m){switch(a){case"style":To(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=e[ve]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):es(e,a,l)}}}function ke(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qt(e,s,m,T,a,null)}}h&&Qt(e,s,"srcSet",a.srcSet,a,null),l&&Qt(e,s,"src",a.src,a,null);return;case"input":Mt("invalid",e);var A=m=T=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":T=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Qt(e,s,l,Y,a,null)}}nr(e,m,A,C,z,T,h,!1),Zr(e);return;case"select":Mt("invalid",e),l=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Qt(e,s,h,A,a,null)}s=m,a=T,e.multiple=!!l,s!=null?wi(e,!!l,s,!1):a!=null&&wi(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),m=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Qt(e,s,T,A,a,null)}ir(e,l,h,m),Zr(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(e,s,C,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<sl.length;l++)Mt(sl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qt(e,s,z,l,a,null)}return;default:if(Eo(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&yd(e,s,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Qt(e,s,A,l,a,null))}function Ib(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,A=null,C=null,z=null,Y=null;for(k in a){var Z=a[k];if(a.hasOwnProperty(k)&&Z!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(k)||Qt(e,s,k,null,l,Z)}}for(var j in l){var k=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(k!=null||Z!=null))switch(j){case"type":m=k;break;case"name":h=k;break;case"checked":z=k;break;case"defaultChecked":Y=k;break;case"value":T=k;break;case"defaultValue":A=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,s));break;default:k!==Z&&Qt(e,s,j,k,l,Z)}}mn(e,T,A,C,z,Y,m,h);return;case"select":k=T=A=j=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":k=C;default:l.hasOwnProperty(m)||Qt(e,s,m,null,l,C)}for(h in l)if(m=l[h],C=a[h],l.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":j=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==C&&Qt(e,s,h,m,l,C)}s=A,a=T,l=k,j!=null?wi(e,!!a,j,!1):!!l!=!!a&&(s!=null?wi(e,!!a,s,!0):wi(e,!!a,a?[]:"",!1));return;case"textarea":k=j=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qt(e,s,A,null,l,h)}for(T in l)if(h=l[T],m=a[T],l.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":j=h;break;case"defaultValue":k=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&Qt(e,s,T,h,l,m)}Kt(e,j,k);return;case"option":for(var Tt in a)if(j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Qt(e,s,Tt,null,l,j)}for(C in l)if(j=l[C],k=a[C],l.hasOwnProperty(C)&&j!==k&&(j!=null||k!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Qt(e,s,C,j,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Qt(e,s,yt,null,l,j);for(z in l)if(j=l[z],k=a[z],l.hasOwnProperty(z)&&j!==k&&(j!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Qt(e,s,z,j,l,k)}return;default:if(Eo(s)){for(var Xt in a)j=a[Xt],a.hasOwnProperty(Xt)&&j!==void 0&&!l.hasOwnProperty(Xt)&&yd(e,s,Xt,void 0,l,j);for(Y in l)j=l[Y],k=a[Y],!l.hasOwnProperty(Y)||j===k||j===void 0&&k===void 0||yd(e,s,Y,j,l,k);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Qt(e,s,P,null,l,j);for(Z in l)j=l[Z],k=a[Z],!l.hasOwnProperty(Z)||j===k||j==null&&k==null||Qt(e,s,Z,j,l,k)}var vd=null,_d=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function Yv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Td(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ed=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(Lb)}:Xv;function Lb(e){setTimeout(function(){throw e})}function _s(e){return e==="head"}function Zv(e,s){var a=s,l=0,h=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&al(T.documentElement),a&2&&al(T.body),a&4)for(a=T.head,al(a),T=a.firstChild;T;){var A=T.nextSibling,C=T.nodeName;T[Js]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(h===0){e.removeChild(m),ml(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);ml(s)}function Ad(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ub(e,s,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Js])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Bb(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zb(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var bd=null;function Jv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function Wv(e,s,a){switch(s=pc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function al(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ts(e)}var Pn=new Map,t0=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=nt.d;nt.d={f:jb,r:kb,D:qb,C:Hb,L:Fb,m:Gb,X:Yb,S:Kb,M:Qb};function jb(){var e=Fi.f(),s=oc();return e||s}function kb(e){var s=Qn(e);s!==null&&s.tag===5&&s.type==="form"?Ty(s):Fi.r(e)}var Ia=typeof document>"u"?null:document;function e0(e,s,a){var l=Ia;if(l&&typeof s=="string"&&s){var h=_e(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t0.has(h)||(t0.add(h),e={rel:e,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),ke(s,"link",e),he(s),l.head.appendChild(s)))}}function qb(e){Fi.D(e),e0("dns-prefetch",e,null)}function Hb(e,s){Fi.C(e,s),e0("preconnect",e,s)}function Fb(e,s,a){Fi.L(e,s,a);var l=Ia;if(l&&e&&s){var h='link[rel="preload"][as="'+_e(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_e(a.imageSizes)+'"]')):h+='[href="'+_e(e)+'"]';var m=h;switch(s){case"style":m=Oa(e);break;case"script":m=Na(e)}Pn.has(m)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Pn.set(m,e),l.querySelector(h)!==null||s==="style"&&l.querySelector(ol(m))||s==="script"&&l.querySelector(ll(m))||(s=l.createElement("link"),ke(s,"link",e),he(s),l.head.appendChild(s)))}}function Gb(e,s){Fi.m(e,s);var a=Ia;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Na(e)}if(!Pn.has(m)&&(e=v({rel:"modulepreload",href:e},s),Pn.set(m,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(m)))return}l=a.createElement("link"),ke(l,"link",e),he(l),a.head.appendChild(l)}}}function Kb(e,s,a){Fi.S(e,s,a);var l=Ia;if(l&&e){var h=We(l).hoistableStyles,m=Oa(e);s=s||"default";var T=h.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(ol(m)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Pn.get(m))&&wd(e,a);var C=T=l.createElement("link");he(C),ke(C,"link",e),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,yc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(m,T)}}}function Yb(e,s){Fi.X(e,s);var a=Ia;if(a&&e){var l=We(a).hoistableScripts,h=Na(e),m=l.get(h);m||(m=a.querySelector(ll(h)),m||(e=v({src:e,async:!0},s),(s=Pn.get(h))&&Rd(e,s),m=a.createElement("script"),he(m),ke(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Qb(e,s){Fi.M(e,s);var a=Ia;if(a&&e){var l=We(a).hoistableScripts,h=Na(e),m=l.get(h);m||(m=a.querySelector(ll(h)),m||(e=v({src:e,async:!0,type:"module"},s),(s=Pn.get(h))&&Rd(e,s),m=a.createElement("script"),he(m),ke(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function n0(e,s,a,l){var h=(h=At.current)?gc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Oa(a.href),a=We(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var m=We(h).hoistableStyles,T=m.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=h.querySelector(ol(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),m||Xb(h,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Na(a),a=We(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Oa(e){return'href="'+_e(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function i0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Xb(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ke(s,"link",a),he(s),e.head.appendChild(s))}function Na(e){return'[src="'+_e(e)+'"]'}function ll(e){return"script[async]"+e}function s0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return s.instance=l,he(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),ke(l,"style",h),yc(l,a.precedence,e),s.instance=l;case"stylesheet":h=Oa(a.href);var m=e.querySelector(ol(h));if(m)return s.state.loading|=4,s.instance=m,he(m),m;l=i0(a),(h=Pn.get(h))&&wd(l,h),m=(e.ownerDocument||e).createElement("link"),he(m);var T=m;return T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),ke(m,"link",l),s.state.loading|=4,yc(m,a.precedence,e),s.instance=m;case"script":return m=Na(a.src),(h=e.querySelector(ll(m)))?(s.instance=h,he(h),h):(l=a,(h=Pn.get(m))&&(l=v({},a),Rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),ke(h,"link",l),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,yc(l,a.precedence,e));return s.instance}function yc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===s)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function wd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Rd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var vc=null;function r0(e,s,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[Js]||m[Se]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function a0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function $b(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function o0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function Zb(){}function Jb(e,s,a){if(ul===null)throw Error(r(475));var l=ul;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Oa(a.href),m=e.querySelector(ol(h));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=_c.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,he(m);return}m=e.ownerDocument||e,a=i0(a),(h=Pn.get(h))&&wd(a,h),m=m.createElement("link"),he(m);var T=m;T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),ke(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=_c.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function Wb(){if(ul===null)throw Error(r(475));var e=ul;return e.stylesheets&&e.count===0&&Cd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Cd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Cd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,s.forEach(tw,e),Tc=null,_c.call(e))}function tw(e,s){if(!(s.state.loading&4)){var a=Tc.get(e);if(a)var l=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=s.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,h),a.set(T,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var cl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ew(e,s,a,l,h,m,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function l0(e,s,a,l,h,m,T,A,C,z,Y,Z){return e=new ew(e,s,a,T,A,C,z,Z),s=1,m===!0&&(s|=24),m=gn(3,null,null,s),e.current=m,m.stateNode=e,s=lf(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},ff(m),e}function u0(e){return e?(e=ha,e):ha}function c0(e,s,a,l,h,m){h=u0(h),l.context===null?l.context=h:l.pendingContext=h,l=as(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=os(e,l,s),a!==null&&(En(a,e,s),jo(a,e,s))}function h0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Dd(e,s){h0(e,s),(e=e.alternate)&&h0(e,s)}function f0(e){if(e.tag===13){var s=ca(e,67108864);s!==null&&En(s,e,67108864),Dd(e,67108864)}}var Ec=!0;function nw(e,s,a,l){var h=K.T;K.T=null;var m=nt.p;try{nt.p=2,xd(e,s,a,l)}finally{nt.p=m,K.T=h}}function iw(e,s,a,l){var h=K.T;K.T=null;var m=nt.p;try{nt.p=8,xd(e,s,a,l)}finally{nt.p=m,K.T=h}}function xd(e,s,a,l){if(Ec){var h=Vd(l);if(h===null)gd(e,s,l,Ac,a),m0(e,l);else if(rw(h,e,s,a,l))l.stopPropagation();else if(m0(e,l),s&4&&-1<sw.indexOf(e)){for(;h!==null;){var m=Qn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=zn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var C=1<<31-Ge(T);A.entanglements[1]|=C,T&=~C}li(m),(Ft&6)===0&&(rc=Sn()+500,il(0))}}break;case 13:A=ca(m,2),A!==null&&En(A,m,2),oc(),Dd(m,2)}if(m=Vd(l),m===null&&gd(e,s,l,Ac,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else gd(e,s,l,null,a)}}function Vd(e){return e=Rn(e),Md(e)}var Ac=null;function Md(e){if(Ac=null,e=Ai(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=f(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Ac=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oh()){case oo:return 2;case Hr:return 8;case Ys:case Nh:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Id=!1,Ts=null,Es=null,As=null,hl=new Map,fl=new Map,Ss=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(e,s){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(s.pointerId)}}function dl(e,s,a,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Qn(s),s!==null&&f0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function rw(e,s,a,l,h){switch(s){case"focusin":return Ts=dl(Ts,e,s,a,l,h),!0;case"dragenter":return Es=dl(Es,e,s,a,l,h),!0;case"mouseover":return As=dl(As,e,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return hl.set(m,dl(hl.get(m)||null,e,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,fl.set(m,dl(fl.get(m)||null,e,s,a,l,h)),!0}return!1}function p0(e){var s=Ai(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){e.blockedOn=s,ou(e.priority,function(){if(a.tag===13){var l=Tn();l=Zi(l);var h=ca(a,l);h!==null&&En(h,a,l),Dd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return s=Qn(a),s!==null&&f0(s),e.blockedOn=a,!1;s.shift()}return!0}function g0(e,s,a){Sc(e)&&a.delete(s)}function aw(){Id=!1,Ts!==null&&Sc(Ts)&&(Ts=null),Es!==null&&Sc(Es)&&(Es=null),As!==null&&Sc(As)&&(As=null),hl.forEach(g0),fl.forEach(g0)}function bc(e,s){e.blockedOn===s&&(e.blockedOn=null,Id||(Id=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aw)))}var wc=null;function y0(e){wc!==e&&(wc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],h=e[s+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var m=Qn(a);m!==null&&(e.splice(s,3),s-=3,Mf(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(e){function s(C){return bc(C,e)}Ts!==null&&bc(Ts,e),Es!==null&&bc(Es,e),As!==null&&bc(As,e),hl.forEach(s),fl.forEach(s);for(var a=0;a<Ss.length;a++){var l=Ss[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ss.length&&(a=Ss[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&Ss.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],T=h[ve]||null;if(typeof m=="function")T||y0(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[ve]||null)A=T.formAction;else if(Md(h)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),y0(a)}}}function Od(e){this._internalRoot=e}Rc.prototype.render=Od.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Tn();c0(a,l,e,s,null,null)},Rc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;c0(e.current,2,null,e,null,null),oc(),s[bn]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Ji();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ss.length&&s!==0&&s<Ss[a].priority;a++);Ss.splice(a,0,e),a===0&&p0(e)}};var v0=t.version;if(v0!=="19.1.0")throw Error(r(527,v0,"19.1.0"));nt.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var ow={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{oe=Cc.inject(ow),Ht=Cc}catch{}}return gl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",h=Ny,m=Py,T=Ly,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=l0(e,1,!1,null,null,a,l,h,m,T,A,null),e[bn]=s.current,pd(e),new Od(s)},gl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,h="",m=Ny,T=Py,A=Ly,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=l0(e,1,!0,s,a??null,l,h,m,T,A,C,z),s.context=u0(null),a=s.current,l=Tn(),l=Zi(l),h=as(l),h.callback=null,os(a,h,l),a=l,s.current.lanes=a,Ei(s,a),li(s),e[bn]=s.current,pd(e),new Rc(s)},gl.version="19.1.0",gl}var D0;function vw(){if(D0)return Ld.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ld.exports=yw(),Ld.exports}var _w=vw();const Tw=()=>{};var x0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ew=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],f=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],f=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,d=f?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,x=g&63;p||(x=64,f||(w=64)),r.push(i[v],i[E],i[w],i[x])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(cE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Ew(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new Aw;const w=u<<2|d>>4;if(r.push(w),g!==64){const x=d<<4&240|g>>2;if(r.push(x),E!==64){const q=g<<6&192|E;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sw=function(n){const t=cE(n);return hE.encodeByteArray(t,!0)},Fc=function(n){return Sw(n).replace(/\./g,"")},bw=function(n){try{return hE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=()=>ww().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof x0>"u")return;const n=x0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Dw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bw(n[1]);return t&&JSON.parse(t)},np=()=>{try{return Tw()||Rw()||Cw()||Dw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xw=n=>{var t,i;return(i=(t=np())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},Vw=n=>{const t=xw(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},fE=()=>{var n;return(n=np())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fc(JSON.stringify(i)),Fc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nw(){var n;const t=(n=np())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Lw(){return!Nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dE(){try{return typeof indexedDB=="object"}catch{return!1}}function mE(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function Uw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="FirebaseError";class qs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Bw,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fh.prototype.create)}}class fh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?zw(u,r):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new qs(o,d,r)}}function zw(n,t){return n.replace(jw,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const jw=/\{\$([^}]+)}/g;function Nl(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],f=t[o];if(V0(u)&&V0(f)){if(!Nl(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function V0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1e3,qw=2,Hw=4*60*60*1e3,Fw=.5;function M0(n,t=kw,i=qw){const r=t*Math.pow(i,n),o=Math.round(Fw*r*(Math.random()-.5)*2);return Math.min(Hw,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){return n&&n._delegate?n._delegate:n}class Gi{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Mw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yw(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kw(n){return n===Dr?void 0:n}function Yw(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Gw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const Xw={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},$w=Ut.INFO,Zw={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},Jw=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=Zw[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ip{constructor(t){this.name=t,this._logLevel=$w,this._logHandler=Jw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const Ww=(n,t)=>t.some(i=>n instanceof i);let I0,O0;function t2(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e2(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,cm=new WeakMap,gE=new WeakMap,jd=new WeakMap,sp=new WeakMap;function n2(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(Ds(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&pE.set(i,n)}).catch(()=>{}),sp.set(t,n),t}function i2(n){if(cm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});cm.set(n,t)}let hm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return cm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||gE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ds(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function s2(n){hm=n(hm)}function r2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(kd(this),t,...i);return gE.set(r,t.sort?t.sort():[t]),Ds(r)}:e2().includes(n)?function(...t){return n.apply(kd(this),t),Ds(pE.get(this))}:function(...t){return Ds(n.apply(kd(this),t))}}function a2(n){return typeof n=="function"?r2(n):(n instanceof IDBTransaction&&i2(n),Ww(n,t2())?new Proxy(n,hm):n)}function Ds(n){if(n instanceof IDBRequest)return n2(n);if(jd.has(n))return jd.get(n);const t=a2(n);return t!==n&&(jd.set(n,t),sp.set(t,n)),t}const kd=n=>sp.get(n);function yE(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),d=Ds(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ds(f.result),p.oldVersion,p.newVersion,Ds(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const o2=["get","getKey","getAll","getAllKeys","count"],l2=["put","add","delete","clear"],qd=new Map;function N0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=l2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||o2.includes(i)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return qd.set(t,u),u}s2(n=>({...n,get:(t,i,r)=>N0(t,i)||n.get(t,i,r),has:(t,i)=>!!N0(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(c2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function c2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fm="@firebase/app",P0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new ip("@firebase/app"),h2="@firebase/app-compat",f2="@firebase/analytics-compat",d2="@firebase/analytics",m2="@firebase/app-check-compat",p2="@firebase/app-check",g2="@firebase/auth",y2="@firebase/auth-compat",v2="@firebase/database",_2="@firebase/data-connect",T2="@firebase/database-compat",E2="@firebase/functions",A2="@firebase/functions-compat",S2="@firebase/installations",b2="@firebase/installations-compat",w2="@firebase/messaging",R2="@firebase/messaging-compat",C2="@firebase/performance",D2="@firebase/performance-compat",x2="@firebase/remote-config",V2="@firebase/remote-config-compat",M2="@firebase/storage",I2="@firebase/storage-compat",O2="@firebase/firestore",N2="@firebase/vertexai",P2="@firebase/firestore-compat",L2="firebase",U2="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",B2={[fm]:"fire-core",[h2]:"fire-core-compat",[d2]:"fire-analytics",[f2]:"fire-analytics-compat",[p2]:"fire-app-check",[m2]:"fire-app-check-compat",[g2]:"fire-auth",[y2]:"fire-auth-compat",[v2]:"fire-rtdb",[_2]:"fire-data-connect",[T2]:"fire-rtdb-compat",[E2]:"fire-fn",[A2]:"fire-fn-compat",[S2]:"fire-iid",[b2]:"fire-iid-compat",[w2]:"fire-fcm",[R2]:"fire-fcm-compat",[C2]:"fire-perf",[D2]:"fire-perf-compat",[x2]:"fire-rc",[V2]:"fire-rc-compat",[M2]:"fire-gcs",[I2]:"fire-gcs-compat",[O2]:"fire-fst",[P2]:"fire-fst-compat",[N2]:"fire-vertex","fire-js":"fire-js",[L2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,z2=new Map,mm=new Map;function L0(n,t){try{n.container.addComponent(t)}catch(i){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Os(n){const t=n.name;if(mm.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,n);for(const i of Gc.values())L0(i,n);for(const i of z2.values())L0(i,n);return!0}function Xl(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function j2(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new fh("app","Firebase",k2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=U2;function vE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:dm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw xs.create("bad-app-name",{appName:String(o)});if(i||(i=fE()),!i)throw xs.create("no-options");const u=Gc.get(o);if(u){if(Nl(i,u.options)&&Nl(r,u.config))return u;throw xs.create("duplicate-app",{appName:o})}const f=new Qw(o);for(const p of mm.values())f.addComponent(p);const d=new q2(i,r,f);return Gc.set(o,d),d}function _E(n=dm){const t=Gc.get(n);if(!t&&n===dm&&fE())return vE();if(!t)throw xs.create("no-app",{appName:n});return t}function hi(n,t,i){var r;let o=(r=B2[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}Os(new Gi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",G2=1,Pl="firebase-heartbeat-store";let Hd=null;function TE(){return Hd||(Hd=yE(F2,G2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Hd}async function K2(n){try{const i=(await TE()).transaction(Pl),r=await i.objectStore(Pl).get(EE(n));return await i.done,r}catch(t){if(t instanceof qs)Ki.warn(t.message);else{const i=xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ki.warn(i.message)}}}async function U0(n,t){try{const r=(await TE()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(t,EE(n)),await r.done}catch(i){if(i instanceof qs)Ki.warn(i.message);else{const r=xs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ki.warn(r.message)}}}function EE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1024,Q2=30;class X2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Z2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Q2){const f=J2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=B0(),{heartbeatsToSend:r,unsentEntries:o}=$2(this._heartbeatsCache.heartbeats),u=Fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Ki.warn(i),""}}}function B0(){return new Date().toISOString().substring(0,10)}function $2(n,t=Y2){const i=[];let r=n.slice();for(const o of n){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),z0(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),z0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Z2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dE()?mE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await K2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return U0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return U0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function z0(n){return Fc(JSON.stringify({version:2,heartbeats:n})).length}function J2(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){Os(new Gi("platform-logger",t=>new u2(t),"PRIVATE")),Os(new Gi("heartbeat",t=>new X2(t),"PRIVATE")),hi(fm,P0,n),hi(fm,P0,"esm2017"),hi("fire-js","")}W2("");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,AE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,b){function R(){}R.prototype=b.prototype,D.D=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(M,O,L){for(var V=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)V[ye-2]=arguments[ye];return b.prototype[O].apply(M,V)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)M[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;16>O;++O)M[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],O=D.g[2];var L=D.g[3],V=b+(L^R&(O^L))+M[0]+3614090360&4294967295;b=R+(V<<7&4294967295|V>>>25),V=L+(O^b&(R^O))+M[1]+3905402710&4294967295,L=b+(V<<12&4294967295|V>>>20),V=O+(R^L&(b^R))+M[2]+606105819&4294967295,O=L+(V<<17&4294967295|V>>>15),V=R+(b^O&(L^b))+M[3]+3250441966&4294967295,R=O+(V<<22&4294967295|V>>>10),V=b+(L^R&(O^L))+M[4]+4118548399&4294967295,b=R+(V<<7&4294967295|V>>>25),V=L+(O^b&(R^O))+M[5]+1200080426&4294967295,L=b+(V<<12&4294967295|V>>>20),V=O+(R^L&(b^R))+M[6]+2821735955&4294967295,O=L+(V<<17&4294967295|V>>>15),V=R+(b^O&(L^b))+M[7]+4249261313&4294967295,R=O+(V<<22&4294967295|V>>>10),V=b+(L^R&(O^L))+M[8]+1770035416&4294967295,b=R+(V<<7&4294967295|V>>>25),V=L+(O^b&(R^O))+M[9]+2336552879&4294967295,L=b+(V<<12&4294967295|V>>>20),V=O+(R^L&(b^R))+M[10]+4294925233&4294967295,O=L+(V<<17&4294967295|V>>>15),V=R+(b^O&(L^b))+M[11]+2304563134&4294967295,R=O+(V<<22&4294967295|V>>>10),V=b+(L^R&(O^L))+M[12]+1804603682&4294967295,b=R+(V<<7&4294967295|V>>>25),V=L+(O^b&(R^O))+M[13]+4254626195&4294967295,L=b+(V<<12&4294967295|V>>>20),V=O+(R^L&(b^R))+M[14]+2792965006&4294967295,O=L+(V<<17&4294967295|V>>>15),V=R+(b^O&(L^b))+M[15]+1236535329&4294967295,R=O+(V<<22&4294967295|V>>>10),V=b+(O^L&(R^O))+M[1]+4129170786&4294967295,b=R+(V<<5&4294967295|V>>>27),V=L+(R^O&(b^R))+M[6]+3225465664&4294967295,L=b+(V<<9&4294967295|V>>>23),V=O+(b^R&(L^b))+M[11]+643717713&4294967295,O=L+(V<<14&4294967295|V>>>18),V=R+(L^b&(O^L))+M[0]+3921069994&4294967295,R=O+(V<<20&4294967295|V>>>12),V=b+(O^L&(R^O))+M[5]+3593408605&4294967295,b=R+(V<<5&4294967295|V>>>27),V=L+(R^O&(b^R))+M[10]+38016083&4294967295,L=b+(V<<9&4294967295|V>>>23),V=O+(b^R&(L^b))+M[15]+3634488961&4294967295,O=L+(V<<14&4294967295|V>>>18),V=R+(L^b&(O^L))+M[4]+3889429448&4294967295,R=O+(V<<20&4294967295|V>>>12),V=b+(O^L&(R^O))+M[9]+568446438&4294967295,b=R+(V<<5&4294967295|V>>>27),V=L+(R^O&(b^R))+M[14]+3275163606&4294967295,L=b+(V<<9&4294967295|V>>>23),V=O+(b^R&(L^b))+M[3]+4107603335&4294967295,O=L+(V<<14&4294967295|V>>>18),V=R+(L^b&(O^L))+M[8]+1163531501&4294967295,R=O+(V<<20&4294967295|V>>>12),V=b+(O^L&(R^O))+M[13]+2850285829&4294967295,b=R+(V<<5&4294967295|V>>>27),V=L+(R^O&(b^R))+M[2]+4243563512&4294967295,L=b+(V<<9&4294967295|V>>>23),V=O+(b^R&(L^b))+M[7]+1735328473&4294967295,O=L+(V<<14&4294967295|V>>>18),V=R+(L^b&(O^L))+M[12]+2368359562&4294967295,R=O+(V<<20&4294967295|V>>>12),V=b+(R^O^L)+M[5]+4294588738&4294967295,b=R+(V<<4&4294967295|V>>>28),V=L+(b^R^O)+M[8]+2272392833&4294967295,L=b+(V<<11&4294967295|V>>>21),V=O+(L^b^R)+M[11]+1839030562&4294967295,O=L+(V<<16&4294967295|V>>>16),V=R+(O^L^b)+M[14]+4259657740&4294967295,R=O+(V<<23&4294967295|V>>>9),V=b+(R^O^L)+M[1]+2763975236&4294967295,b=R+(V<<4&4294967295|V>>>28),V=L+(b^R^O)+M[4]+1272893353&4294967295,L=b+(V<<11&4294967295|V>>>21),V=O+(L^b^R)+M[7]+4139469664&4294967295,O=L+(V<<16&4294967295|V>>>16),V=R+(O^L^b)+M[10]+3200236656&4294967295,R=O+(V<<23&4294967295|V>>>9),V=b+(R^O^L)+M[13]+681279174&4294967295,b=R+(V<<4&4294967295|V>>>28),V=L+(b^R^O)+M[0]+3936430074&4294967295,L=b+(V<<11&4294967295|V>>>21),V=O+(L^b^R)+M[3]+3572445317&4294967295,O=L+(V<<16&4294967295|V>>>16),V=R+(O^L^b)+M[6]+76029189&4294967295,R=O+(V<<23&4294967295|V>>>9),V=b+(R^O^L)+M[9]+3654602809&4294967295,b=R+(V<<4&4294967295|V>>>28),V=L+(b^R^O)+M[12]+3873151461&4294967295,L=b+(V<<11&4294967295|V>>>21),V=O+(L^b^R)+M[15]+530742520&4294967295,O=L+(V<<16&4294967295|V>>>16),V=R+(O^L^b)+M[2]+3299628645&4294967295,R=O+(V<<23&4294967295|V>>>9),V=b+(O^(R|~L))+M[0]+4096336452&4294967295,b=R+(V<<6&4294967295|V>>>26),V=L+(R^(b|~O))+M[7]+1126891415&4294967295,L=b+(V<<10&4294967295|V>>>22),V=O+(b^(L|~R))+M[14]+2878612391&4294967295,O=L+(V<<15&4294967295|V>>>17),V=R+(L^(O|~b))+M[5]+4237533241&4294967295,R=O+(V<<21&4294967295|V>>>11),V=b+(O^(R|~L))+M[12]+1700485571&4294967295,b=R+(V<<6&4294967295|V>>>26),V=L+(R^(b|~O))+M[3]+2399980690&4294967295,L=b+(V<<10&4294967295|V>>>22),V=O+(b^(L|~R))+M[10]+4293915773&4294967295,O=L+(V<<15&4294967295|V>>>17),V=R+(L^(O|~b))+M[1]+2240044497&4294967295,R=O+(V<<21&4294967295|V>>>11),V=b+(O^(R|~L))+M[8]+1873313359&4294967295,b=R+(V<<6&4294967295|V>>>26),V=L+(R^(b|~O))+M[15]+4264355552&4294967295,L=b+(V<<10&4294967295|V>>>22),V=O+(b^(L|~R))+M[6]+2734768916&4294967295,O=L+(V<<15&4294967295|V>>>17),V=R+(L^(O|~b))+M[13]+1309151649&4294967295,R=O+(V<<21&4294967295|V>>>11),V=b+(O^(R|~L))+M[4]+4149444226&4294967295,b=R+(V<<6&4294967295|V>>>26),V=L+(R^(b|~O))+M[11]+3174756917&4294967295,L=b+(V<<10&4294967295|V>>>22),V=O+(b^(L|~R))+M[2]+718787259&4294967295,O=L+(V<<15&4294967295|V>>>17),V=R+(L^(O|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var R=b-this.blockSize,M=this.B,O=this.h,L=0;L<b;){if(O==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(M[O++]=D.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<b;)if(M[O++]=D[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var R=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=R&255,R/=256;for(this.u(D),D=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)D[R++]=this.g[b]>>>M&255;return D};function u(D,b){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;for(var R=[],M=!0,O=D.length-1;0<=O;O--){var L=D[O]|0;M&&L==b||(R[O]=L,M=!1)}this.g=R}var d={};function p(D){return-128<=D&&128>D?u(D,function(b){return new f([b|0],0>b?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return F(g(-D));for(var b=[],R=1,M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new f(b,0)}function v(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return F(v(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),M=E,O=0;O<D.length;O+=8){var L=Math.min(8,D.length-O),V=parseInt(D.substring(O,O+L),b);8>L?(L=g(Math.pow(b,L)),M=M.j(L).add(g(V))):(M=M.j(R),M=M.add(g(V)))}return M}var E=p(0),w=p(1),x=p(16777216);n=f.prototype,n.m=function(){if(G(this))return-F(this).m();for(var D=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);D+=(0<=M?M:4294967296+M)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(q(this))return"0";if(G(this))return"-"+F(this).toString(D);for(var b=g(Math.pow(D,6)),R=this,M="";;){var O=et(R,b).g;R=X(R,O.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=O,q(R))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function q(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function G(D){return D.h==-1}n.l=function(D){return D=X(this,D),G(D)?-1:q(D)?0:1};function F(D){for(var b=D.g.length,R=[],M=0;M<b;M++)R[M]=~D.g[M];return new f(R,~D.h).add(w)}n.abs=function(){return G(this)?F(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0,O=0;O<=b;O++){var L=M+(this.i(O)&65535)+(D.i(O)&65535),V=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=V>>>16,L&=65535,V&=65535,R[O]=V<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(D,b){return D.add(F(b))}n.j=function(D){if(q(this)||q(D))return E;if(G(this))return G(D)?F(this).j(F(D)):F(F(this).j(D));if(G(D))return F(this.j(F(D)));if(0>this.l(x)&&0>D.l(x))return g(this.m()*D.m());for(var b=this.g.length+D.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<D.g.length;O++){var L=this.i(M)>>>16,V=this.i(M)&65535,ye=D.i(O)>>>16,ne=D.i(O)&65535;R[2*M+2*O]+=V*ne,rt(R,2*M+2*O),R[2*M+2*O+1]+=L*ne,rt(R,2*M+2*O+1),R[2*M+2*O+1]+=V*ye,rt(R,2*M+2*O+1),R[2*M+2*O+2]+=L*ye,rt(R,2*M+2*O+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function rt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function $(D,b){this.g=D,this.h=b}function et(D,b){if(q(b))throw Error("division by zero");if(q(D))return new $(E,E);if(G(D))return b=et(F(D),b),new $(F(b.g),F(b.h));if(G(b))return b=et(D,F(b)),new $(F(b.g),b.h);if(30<D.g.length){if(G(D)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;0>=M.l(D);)R=W(R),M=W(M);var O=it(R,1),L=it(M,1);for(M=it(M,2),R=it(R,2);!q(M);){var V=L.add(M);0>=V.l(D)&&(O=O.add(R),L=V),M=it(M,1),R=it(R,1)}return b=X(D,O.j(b)),new $(O,b)}for(O=E;0<=D.l(b);){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(R),V=L.j(b);G(V)||0<V.l(D);)R-=M,L=g(R),V=L.j(b);q(L)&&(L=w),O=O.add(L),D=X(D,V)}return new $(O,D)}n.A=function(D){return et(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function W(D){for(var b=D.g.length+1,R=[],M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function it(D,b){var R=b>>5;b%=32;for(var M=D.g.length-R,O=[],L=0;L<M;L++)O[L]=0<b?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new f(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Vs=f}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SE,vl,bE,Lc,pm,wE,RE,CE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break t;_=_[U]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var H=_++;return{value:y(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,w.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function q(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,H){for(var at=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)at[Ot-2]=arguments[Ot];return y.prototype[U].apply(S,at)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,H=S.length||0;c.length=U+H;for(let at=0;at<H;at++)c[U+at]=S[at]}else c.push(S)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function rt(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function et(c){return et[" "](c),c}et[" "]=function(){};var W=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function it(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let H=0;H<R.length;H++)_=R[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){d.setTimeout(()=>{throw c},0)}function V(){var c=It;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ye{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new X(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,It=new ye,I=()=>{const c=d.Promise.resolve(void 0);nt=()=>{c.then(tt)}};var tt=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(_){L(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ht=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Ct(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(W){t:{try{et(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}q(Ct,st);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Kn(c,y,_,S,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function $i(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _i(c){this.src=c,this.g={},this.h=0}_i.prototype.add=function(c,y,_,S,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var at=Gs(c,y,S,U);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new Kn(y,this.src,H,!!S,U),y.fa=_,c.push(y)),y};function Fs(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,y,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&($i(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Gs(c,y,_,S){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==y&&H.capture==!!_&&H.ha==S)return U}return-1}var Ks="closure_lm_"+(1e6*Math.random()|0),ao={};function su(c,y,_,S,U){if(Array.isArray(y)){for(var H=0;H<y.length;H++)su(c,y[H],_,S,U);return null}return _=ru(_),c&&c[Ve]?c.K(y,_,g(S)?!!S.capture:!1,U):Sn(c,y,_,!1,S,U)}function Sn(c,y,_,S,U,H){if(!y)throw Error("Invalid event type");var at=g(U)?!!U.capture:!!U,Ot=Fr(c);if(Ot||(c[Ks]=Ot=new _i(c)),_=Ot.add(y,_,S,at,H),_.proxy)return _;if(S=Oh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)gt||(U=at),U===void 0&&(U=!1),c.addEventListener(y.toString(),S,U);else if(c.attachEvent)c.attachEvent(Ys(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Oh(){function c(_){return y.call(c.src,c.listener,_)}const y=Nh;return c}function oo(c,y,_,S,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)oo(c,y[H],_,S,U);else S=g(S)?!!S.capture:!!S,_=ru(_),c&&c[Ve]?(c=c.i,y=String(y).toString(),y in c.g&&(H=c.g[y],_=Gs(H,_,S,U),-1<_&&($i(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[y],c.h--)))):c&&(c=Fr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Gs(y,_,S,U)),(_=-1<c?y[c]:null)&&Hr(_))}function Hr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ve])Fs(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Ys(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Fr(y))?(Fs(_,c),_.h==0&&(_.src=null,y[Ks]=null)):$i(c)}}}function Ys(c){return c in ao?ao[c]:ao[c]="on"+c}function Nh(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Hr(c),c=_.call(S,y)}return c}function Fr(c){return c=c[Ks],c instanceof _i?c:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(c){return typeof c=="function"?c:(c[lo]||(c[lo]=function(y){return c.handleEvent(y)}),c[lo])}function oe(){lt.call(this),this.i=new _i(this),this.M=this,this.F=null}q(oe,lt),oe.prototype[Ve]=!0,oe.prototype.removeEventListener=function(c,y,_,S){oo(this,c,y,_,S)};function Ht(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var U=y;y=new st(S,c),M(y,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var at=y.g=_[H];U=dn(at,S,!0,y)&&U}if(at=y.g=c,U=dn(at,S,!0,y)&&U,U=dn(at,S,!1,y)&&U,_)for(H=0;H<_.length;H++)at=y.g=_[H],U=dn(at,S,!1,y)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)$i(_[S]);delete c.g[y],c.h--}}this.F=null},oe.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},oe.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,H=0;H<y.length;++H){var at=y[H];if(at&&!at.da&&at.capture==_){var Ot=at.listener,be=at.ha||at.src;at.fa&&Fs(c.i,at),U=Ot.call(be,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ge(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function au(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ph extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(c){lt.call(this),this.h=c,this.g={}}q(Qs,lt);var Xs=[];function $s(c){it(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hr(y)},c),c.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),$s(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,Gr=d.JSON.parse,Zs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function co(c){return c.h||(c.h=c.i())}function ho(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){st.call(this,"d")}q(Ei,st);function fo(){st.call(this,"c")}q(fo,st);var Yn={},mo=null;function Zi(){return mo=mo||new oe}Yn.La="serverreachability";function Kr(c){st.call(this,Yn.La,c)}q(Kr,st);function Ji(c){const y=Zi();Ht(y,new Kr(y))}Yn.STAT_EVENT="statevent";function ou(c,y){st.call(this,Yn.STAT_EVENT,c),this.stat=y}q(ou,st);function Wt(c){const y=Zi();Ht(y,new ou(y,c))}Yn.Ma="timingevent";function Se(c,y){st.call(this,Yn.Ma,c),this.size=y}q(Se,st);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function po(c,y,_,S,U,H){c.info(function(){if(c.g)if(H)for(var at="",Ot=H.split("&"),be=0;be<Ot.length;be++){var Nt=Ot[be].split("=");if(1<Nt.length){var Ie=Nt[0];Nt=Nt[1];var we=Ie.split("_");at=2<=we.length&&we[1]=="type"?at+(Ie+"="+Nt+"&"):at+(Ie+"=redacted&")}}else at=null;else at=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+at})}function Lh(c,y,_,S,U,H,at){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+H+" "+at})}function Wi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Js(c,_)+(S?" "+S:"")})}function lu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function Js(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return zn(_)}catch{return y}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Xn(){}q(Xn,uo),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Qn=new Xn;function We(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var go={},Yr={};function jn(c,y,_){c.L=1,c.v=ir(mn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),Ws(c),c.A=mn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ao(_.i,"t",S),c.C=0,_=c.j.J,c.h=new he,c.g=bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ph(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Xs[0]=U.toString()),U=Xs);for(var H=0;H<U.length;H++){var at=su(_,U[H],S||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ji(),po(c.i,c.u,c.A,c.l,c.R,c.m)}We.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},We.prototype.Y=function(c){try{if(c==this.g)t:{const we=Dn(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||we!=4||y==7||(y==8||0>=Mi?Ji(3):Ji(2)),es(this);var _=this.g.Z();this.X=_;e:if(uu(this)){var S=gu(this.g);c="";var U=S.length,H=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),$n(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(H&&y==U-1)});S.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Lh(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,be=this.g;if((Ot=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Ot)){var Nt=Ot;break e}}Nt=null}if(_=Nt)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tr(this,_);else{this.o=!1,this.s=3,Wt(12),Ue(this),$n(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<at.length;)if(Be=cu(this,at),Be==Yr){we==4&&(this.s=4,Wt(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==go){this.s=4,Wt(15),Wi(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,Be,null),tr(this,Be);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||at.length!=0||this.h.h||(this.s=1,Wt(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,at,"[Invalid Chunked Response]"),Ue(this),$n(this);else if(0<at.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),hr(Ie),Ie.M=!0,Wt(11))}}else Wi(this.i,this.l,at,null),tr(this,at);we==4&&Ue(this),this.o&&!this.J&&(we==4?Eu(this.j,this):(this.o=!1,Ws(this)))}else kh(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ue(this),$n(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Yr:(_=Number(y.substring(_,S)),isNaN(_)?go:(S+=1,S+_>y.length?Yr:(y=y.slice(S,S+_),c.C=S+_,y)))}We.prototype.cancel=function(){this.J=!0,Ue(this)};function Ws(c){c.S=Date.now()+c.I,hu(c,c.I)}function hu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(w(c.ba,c),y)}function es(c){c.B&&(d.clearTimeout(c.B),c.B=null)}We.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lu(this.i,this.A),this.L!=2&&(Ji(),Wt(17)),Ue(this),this.s=2,$n(this)):hu(this,this.S-c)};function $n(c){c.j.G==0||c.J||Eu(c.j,c)}function Ue(c){es(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$s(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function tr(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||yo(_.h,c))){if(!c.K&&yo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ra(_),ia(_);else break t;Co(_),Wt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(w(_.Za,_),6e3));if(1>=Xr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&ra(_),!rt(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Nt=U[y];if(_.T=Nt[0],Nt=Nt[1],_.G==2)if(Nt[0]=="c"){_.K=Nt[1],_.ia=Nt[2];const Ie=Nt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const we=Nt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Mi=Nt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(S=1.5*Mi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Be=c.g;if(Be){const ii=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var H=S.h;H.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($r(H,H.h),H.h=null))}if(S.D){const xo=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(S.ya=xo,Kt(S.I,S.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var at=c;if(S.qa=Su(S,S.J?S.ia:null,S.W),at.K){tn(S.h,at);var Ot=at,be=S.L;be&&(Ot.I=be),Ot.B&&(es(Ot),Ws(Ot)),S.g=at}else _u(S);0<_.i.length&&sa(_)}else Nt[0]!="stop"&&Nt[0]!="close"||Vi(_,7);else _.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Vi(_,7):wo(_):Nt[0]!="noop"&&_.l&&_.l.ta(Nt),_.v=0)}}Ji(4)}catch{}}var fu=class{constructor(c,y){this.g=c,this.map=y}};function bi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xr(c){return c.h?1:c.g?c.g.size:0}function yo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $r(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bi.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Uh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Zr(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function _o(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Zr(c),S=Uh(c),U=S.length,H=0;H<U;H++)y.call(void 0,S[H],_&&_[H],c)}var er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var H=c[_].substring(0,S);U=c[_].substring(S+1)}else H=c[_];y(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _e(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _e){this.h=c.h,nr(this,c.j),this.o=c.o,this.g=c.g,ns(this,c.s),this.l=c.l;var y=c.i,_=new Ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),wi(this,_),this.m=c.m}else c&&(y=String(c).match(er))?(this.h=!1,nr(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),ns(this,y[4]),this.l=wn(y[5]||"",!0),wi(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}_e.prototype.toString=function(){var c=[],y=this.j;y&&c.push(sr(y,To,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(sr(y,To,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(sr(_,_.charAt(0)=="/"?zh:Eo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",sr(_,Jr)),c.join("")};function mn(c){return new _e(c)}function nr(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ns(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function wi(c,y,_){y instanceof Ri?(c.i=y,mu(c.i,c.h)):(_||(y=sr(y,jh)),c.i=new Ri(y,c.h))}function Kt(c,y,_){c.i.set(y,_)}function ir(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function sr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,Eo=/[#\?:]/g,zh=/[#\?]/g,jh=/[#\?@]/g,Jr=/#/g;function Ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Bh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Ri.prototype,n.add=function(c,y){Rn(this),this.i=null,c=Zn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){Rn(c),y=Zn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Rn(c),y=Zn(c,y),c.g.has(y)}n.forEach=function(c,y){Rn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(y,U,S,this)},this)},this)},n.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const U=c[S];for(let H=0;H<U.length;H++)_.push(y[S])}return _},n.V=function(c){Rn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Rn(this),this.i=null,c=Zn(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ao(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(Zn(c,y),G(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const H=encodeURIComponent(String(S)),at=this.V(S);for(S=0;S<at.length;S++){var U=H;at[S]!==""&&(U+="="+encodeURIComponent(String(at[S]))),c.push(U)}}return this.i=c.join("&")};function Zn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function mu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ci(this,S),Ao(this,U,_))},c)),c.j=y}function rr(c,y){const _=new bn;if(d.Image){const S=new Image;S.onload=x(Cn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=x(Cn,_,"TestLoadImage: error",!1,y,S),S.onabort=x(Cn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(Cn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function kn(c,y){const _=new bn,S=new AbortController,U=setTimeout(()=>{S.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function ar(){this.g=new Zs}function Jn(c,y,_){const S=_||"";try{_o(c,function(U,H){let at=U;g(U)&&(at=zn(U)),y.push(S+H+"="+encodeURIComponent(at))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function is(c){this.l=c.Ub||null,this.j=c.eb||!1}q(is,uo),is.prototype.g=function(){return new xi(this.l,this.j)},is.prototype.i=function(c){return function(){return c}}({});function xi(c,y){oe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(xi,oe),n=xi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ti(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wn(this):ti(this),this.readyState==3&&So(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},n.Qa=function(c){this.g&&(this.response=c,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let y="";return it(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Me(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,y,_))}function qt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(qt,oe);var Wr=/^https?$/i,or=["POST","PUT"];n=qt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?co(this.o):co(Qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){pu(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(or,y,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of _)this.g.setRequestHeader(H,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lr(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){pu(this,H)}};function pu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ta(c),ei(c)}function ta(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},n.bb=function(){ea(this)};function ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ge(c.Ea,0,c);else if(Ht(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=at===0){var U=String(c.D).match(er)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!Wr.test(U?U.toLowerCase():"")}_=S}if(_)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var H=2<Dn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ta(c)}}finally{ei(c)}}}}function ei(c,y){if(c.g){lr(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{_.onreadystatechange=S}catch{}}}function lr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Gr(y)}};function gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kh(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var _=O(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=y[U]||[];y[U]=H,H.push(_)}D(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function na(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,c),this.cb=ur("retryDelaySeedMs",1e4,c),this.Wa=ur("forwardChannelMaxRetries",2,c),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new ar,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=na.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,S){Wt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Su(this,null,this.W),sa(this)};function wo(c){if(yu(c),c.G==3){var y=c.U++,_=mn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),cr(c,_),y=new We(c,c.j,y),y.L=2,y.v=ir(mn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ws(y)}Au(c)}function ia(c){c.g&&(hr(c),c.g.cancel(),c.g=null)}function yu(c){ia(c),c.u&&(d.clearTimeout(c.u),c.u=null),ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function sa(c){if(!Qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;nt||I(),ht||(nt(),ht=!0),It.add(y,c),c.B=0}}function qh(c,y){return Xr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(w(c.Ga,c,y),Do(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new We(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=vu(this,U,y),_=mn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),cr(this,_),H&&(this.O?y="headers="+encodeURIComponent(String(bo(H)))+"&"+y:this.m&&Me(_,this.m,H)),$r(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",y),Kt(_,"SID","null"),U.T=!0,jn(U,_,null)):jn(U,_,y),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||Qr(this.h)||Ro(this))};function Ro(c,y){var _;y?_=y.l:_=c.U++;const S=mn(c.I);Kt(S,"SID",c.K),Kt(S,"RID",_),Kt(S,"AID",c.T),cr(c,S),c.m&&c.o&&Me(S,c.m,c.o),_=new We(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$r(c.h,_),jn(_,S,y)}function cr(c,y){c.H&&it(c.H,function(_,S){Kt(y,S,_)}),c.l&&_o({},function(_,S){Kt(y,S,_)})}function vu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;t:{var U=c.i;let H=-1;for(;;){const at=["count="+_];H==-1?0<_?(H=U[0].g,at.push("ofs="+H)):H=0:at.push("ofs="+H);let Ot=!0;for(let be=0;be<_;be++){let Nt=U[be].g;const Ie=U[be].map;if(Nt-=H,0>Nt)H=Math.max(0,U[be].g-100),Ot=!1;else try{Jn(Ie,at,"req"+Nt+"_")}catch{S&&S(Ie)}}if(Ot){S=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function _u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;nt||I(),ht||(nt(),ht=!0),It.add(y,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(w(c.Fa,c),Do(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ia(this),Tu(this))};function hr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new We(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),cr(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ir(mn(y)),_.m=null,_.P=!0,Si(_,c)}n.Za=function(){this.C!=null&&(this.C=null,ia(this),Co(this),Wt(19))};function ra(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Eu(c,y){var _=null;if(c.g==y){ra(c),hr(c),c.g=null;var S=2}else if(yo(c.h,y))_=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;S=Zi(),Ht(S,new Se(S,_)),sa(c)}else _u(c);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&qh(c,y)||S==2&&Co(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Do(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const U=!S;S=new _e(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nr(S,"https"),ir(S),U?rr(S.toString(),_):kn(S.toString(),_)}else Wt(2);c.G=0,c.l&&c.l.sa(y),Au(c),yu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const y=vo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Su(c,y,_){var S=_ instanceof _e?mn(_):new _e(_);if(S.g!="")y&&(S.g=y+"."+S.g),ns(S,S.s);else{var U=d.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var H=new _e(null);S&&nr(H,S),y&&(H.g=y),U&&ns(H,U),_&&(H.l=_),S=H}return _=c.D,y=c.ya,_&&y&&Kt(S,_,y),Kt(S,"VER",c.la),cr(c,S),S}function bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qt(new is({eb:_})):new qt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}n=wu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function aa(){}aa.prototype.g=function(c,y){return new en(c,y)};function en(c,y){oe.call(this),this.g=new na(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!rt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!rt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ni(this)}q(en,oe),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){wo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new fu(y.Ya++,c)),y.G==3&&sa(y)},en.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,en.aa.N.call(this)};function Ru(c){Ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}q(Ru,Ei);function Cu(){fo.call(this),this.status=1}q(Cu,fo);function ni(c){this.g=c}q(ni,wu),ni.prototype.ua=function(){Ht(this.g,"a")},ni.prototype.ta=function(c){Ht(this.g,new Ru(c))},ni.prototype.sa=function(c){Ht(this.g,new Cu)},ni.prototype.ra=function(){Ht(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,CE=function(){return new aa},RE=function(){return Zi()},wE=Yn,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Lc=ts,Ai.COMPLETE="complete",bE=Ai,ho.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",oe.prototype.listen=oe.prototype.K,vl=ho,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,SE=qt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",q0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new ip("@firebase/firestore");function Pa(){return zr.logLevel}function ct(n,...t){if(zr.logLevel<=Ut.DEBUG){const i=t.map(rp);zr.debug(`Firestore (${to}): ${n}`,...i)}}function Yi(n,...t){if(zr.logLevel<=Ut.ERROR){const i=t.map(rp);zr.error(`Firestore (${to}): ${n}`,...i)}}function Ka(n,...t){if(zr.logLevel<=Ut.WARN){const i=t.map(rp);zr.warn(`Firestore (${to}): ${n}`,...i)}}function rp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,DE(n,r,i)}function DE(n,t,i){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Yi(r),new Error(r)}function re(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||DE(t,o,r)}function Bt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends qs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class eR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class nR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ms,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ms)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new xE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class iR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new iR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new H0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=aR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function xt(n,t){return n<t?-1:n>t?1:0}function gm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return xt(r,o);{const u=VE(),f=oR(u.encode(F0(n,i)),u.encode(F0(t,i)));return f!==0?f:xt(r,o)}}i+=r>65535?2:1}return xt(n.length,t.length)}function F0(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function oR(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return xt(n[i],t[i]);return xt(n.length,t.length)}function Ya(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,K0=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(t){return hn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*K0);return new hn(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new pt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<G0)throw new pt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-G0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new hn(0,0))}static max(){return new St(new hn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class ui{constructor(t,i,r){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&bt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ui.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return xt(t.length,i.length)}static compareSegments(t,i){const r=ui.isNumericId(t),o=ui.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ui.extractNumericId(t).compare(ui.extractNumericId(i)):gm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vs.fromString(t.substring(4,t.length-2))}}class ee extends ui{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ui{construct(t,i,r){return new sn(t,i,r)}static isValidIdentifier(t){return lR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new sn([Y0])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(r+=d,o++):(u(),o++)}if(u(),f)throw new pt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ee.fromString(t))}static fromName(t){return new vt(ee.fromString(t).popFirst(5))}static empty(){return new vt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function uR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new hn(i+1,0):new hn(i,r));return new Ns(o,vt.empty(),t)}function cR(n){return new Ns(n.readTime,n.key,Ll)}class Ns{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ns(St.min(),vt.empty(),Ll)}static max(){return new Ns(St.max(),vt.empty(),Ll)}}function hR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:xt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==fR)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,r)=>{i(t)})}static reject(t){return new J((i,r)=>{r(t)})}static waitFor(t){return new J((i,r)=>{let o=0,u=0,f=!1;t.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&i()},p=>r(p))}),f=!0,u===o&&i()})}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next(o=>o?J.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new J((r,o)=>{const u=t.length,f=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{f[g]=v,++d,d===u&&r(f)},v=>o(v))}})}static doWhile(t,i){return new J((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function mR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=-1;function gh(n){return n==null}function ym(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="";function gR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=Q0(t)),t=yR(n.get(i),t);return Q0(t)}function yR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case IE:i+="";break;default:i+=u}}return i}function Q0(n){return n+IE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function $l(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function vR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new He(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(t){return new $0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class $0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Rs([])}unionWith(t){let i=new xe(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Rs(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new OE("Invalid base64 string: "+u):u}}(t);return new Fe(i)}static fromUint8Array(t){const i=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(re(!!n,39018),typeof n=="string"){let t=0;const i=_R.exec(n);if(re(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(n.seconds),nanos:pe(n.nanos)}}function pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Fe.fromBase64String(n):Fe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="server_timestamp",PE="__type__",LE="__previous_value__",UE="__local_write_time__";function ap(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[PE])===null||i===void 0?void 0:i.stringValue)===NE}function yh(n){const t=n.mapValue.fields[LE];return ap(t)?yh(t):t}function Ul(n){const t=Ps(n.mapValue.fields[UE].timestampValue);return new hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i,r,o,u,f,d,p,g){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Kc="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__type__",AR="__max__",Vc={mapValue:{}},SR="__vector__",vm="value";function Us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ap(n)?4:wR(n)?9007199254740991:bR(n)?10:11:bt(28295,{value:n})}function yi(n,t){if(n===t)return!0;const i=Us(n);if(i!==Us(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ul(n).isEqual(Ul(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ps(o.timestampValue),d=Ps(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return Ls(o.bytesValue).isEqual(Ls(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),d=pe(u.doubleValue);return f===d?ym(f)===ym(d):isNaN(f)&&isNaN(d)}return!1}(n,t);case 9:return Ya(n.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(X0(f)!==X0(d))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(d[p]===void 0||!yi(f[p],d[p])))return!1;return!0}(n,t);default:return bt(52216,{left:n})}}function zl(n,t){return(n.values||[]).find(i=>yi(i,t))!==void 0}function Qa(n,t){if(n===t)return 0;const i=Us(n),r=Us(t);if(i!==r)return xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,t.booleanValue);case 2:return function(u,f){const d=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return Z0(n.timestampValue,t.timestampValue);case 4:return Z0(Ul(n),Ul(t));case 5:return gm(n.stringValue,t.stringValue);case 6:return function(u,f){const d=Ls(u),p=Ls(f);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,f){const d=u.split("/"),p=f.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=xt(d[g],p[g]);if(v!==0)return v}return xt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,f){const d=xt(pe(u.latitude),pe(f.latitude));return d!==0?d:xt(pe(u.longitude),pe(f.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return J0(n.arrayValue,t.arrayValue);case 10:return function(u,f){var d,p,g,v;const E=u.fields||{},w=f.fields||{},x=(d=E[vm])===null||d===void 0?void 0:d.arrayValue,q=(p=w[vm])===null||p===void 0?void 0:p.arrayValue,G=xt(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:J0(x,q)}(n.mapValue,t.mapValue);case 11:return function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const w=gm(p[E],v[E]);if(w!==0)return w;const x=Qa(d[p[E]],g[v[E]]);if(x!==0)return x}return xt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw bt(23264,{Pe:i})}}function Z0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return xt(n,t);const i=Ps(n),r=Ps(t),o=xt(i.seconds,r.seconds);return o!==0?o:xt(i.nanos,r.nanos)}function J0(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Qa(i[o],r[o]);if(u)return u}return xt(i.length,r.length)}function Xa(n){return _m(n)}function _m(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ps(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Ls(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return vt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=_m(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${_m(i.fields[f])}`;return o+"}"}(n.mapValue):bt(61005,{value:n})}function Uc(n){switch(Us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(n);return t?16+Uc(t):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Uc(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return $l(r.fields,(u,f)=>{o+=u.length+Uc(f)}),o}(n.mapValue);default:throw bt(13486,{value:n})}}function Tm(n){return!!n&&"integerValue"in n}function op(n){return!!n&&"arrayValue"in n}function W0(n){return!!n&&"nullValue"in n}function t_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fd(n){return!!n&&"mapValue"in n}function bR(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ER])===null||i===void 0?void 0:i.stringValue)===SR}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return $l(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=bl(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(n.arrayValue.values[i]);return t}return Object.assign({},n)}function wR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.value=t}static empty(){return new ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Fd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=sn.emptyPath(),r={},o=[];t.forEach((f,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}f?r[d.lastSegment()]=bl(f):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Fd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Fd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){$l(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new ci(bl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,r,o,u,f,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new Ze(t,0,St.min(),St.min(),St.min(),ci.empty(),0)}static newFoundDocument(t,i,r,o){return new Ze(t,1,i,St.min(),r,o,0)}static newNoDocument(t,i){return new Ze(t,2,i,St.min(),St.min(),ci.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,St.min(),St.min(),ci.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function e_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(f.referenceValue),i.key):r=Qa(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!yi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function RR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{}class De extends BE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new DR(t,i,r):i==="array-contains"?new MR(t,r):i==="in"?new IR(t,r):i==="not-in"?new OR(t,r):i==="array-contains-any"?new NR(t,r):new De(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new xR(t,r):new VR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Us(this.value)===Us(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends BE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new vi(t,i)}matches(t){return zE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function zE(n){return n.op==="and"}function jE(n){return CR(n)&&zE(n)}function CR(n){for(const t of n.filters)if(t instanceof vi)return!1;return!0}function Em(n){if(n instanceof De)return n.field.canonicalString()+n.op.toString()+Xa(n.value);if(jE(n))return n.filters.map(t=>Em(t)).join(",");{const t=n.filters.map(i=>Em(i)).join(",");return`${n.op}(${t})`}}function kE(n,t){return n instanceof De?function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&yi(r.value,o.value)}(n,t):n instanceof vi?function(r,o){return o instanceof vi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,d)=>u&&kE(f,o.filters[d]),!0):!1}(n,t):void bt(19439)}function qE(n){return n instanceof De?function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`}(n):n instanceof vi?function(i){return i.op.toString()+" {"+i.getFilters().map(qE).join(" ,")+"}"}(n):"Filter"}class DR extends De{constructor(t,i,r){super(t,i,r),this.key=vt.fromName(r.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class xR extends De{constructor(t,i){super(t,"in",i),this.keys=HE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class VR extends De{constructor(t,i){super(t,"not-in",i),this.keys=HE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function HE(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>vt.fromName(r.referenceValue))}class MR extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return op(i)&&zl(i.arrayValue,this.value)}}class IR extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class OR extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class NR extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!op(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,i=null,r=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Ie=null}}function i_(n,t=null,i=[],r=[],o=null,u=null,f=null){return new PR(n,t,i,r,o,u,f)}function lp(n){const t=Bt(n);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Em(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Xa(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Xa(r)).join(",")),t.Ie=i}return t.Ie}function up(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!RR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!kE(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!n_(n.startAt,t.startAt)&&n_(n.endAt,t.endAt)}function Am(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i=null,r=[],o=[],u=null,f="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LR(n,t,i,r,o,u,f,d){return new vh(n,t,i,r,o,u,f,d)}function cp(n){return new vh(n)}function s_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UR(n){return n.collectionGroup!==null}function wl(n){const t=Bt(n);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new xe(sn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Qc(u,r))}),i.has(sn.keyField().canonicalString())||t.Ee.push(new Qc(sn.keyField(),r))}return t.Ee}function fi(n){const t=Bt(n);return t.de||(t.de=BR(t,wl(n))),t.de}function BR(n,t){if(n.limitType==="F")return i_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qc(o.field,u)});const i=n.endAt?new Yc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yc(n.startAt.position,n.startAt.inclusive):null;return i_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Sm(n,t,i){return new vh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function _h(n,t){return up(fi(n),fi(t))&&n.limitType===t.limitType}function FE(n){return`${lp(fi(n))}|lt:${n.limitType}`}function La(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>qE(o)).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>Xa(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>Xa(o)).join(",")),`Target(${r})`}(fi(n))}; limitType=${n.limitType})`}function Th(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of wl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(f,d,p){const g=e_(f,d,p);return f.inclusive?g<=0:g<0}(r.startAt,wl(r),o)||r.endAt&&!function(f,d,p){const g=e_(f,d,p);return f.inclusive?g>=0:g>0}(r.endAt,wl(r),o))}(n,t)}function zR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GE(n){return(t,i)=>{let r=!1;for(const o of wl(n)){const u=jR(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function jR(n,t,i){const r=n.field.isKeyField()?vt.comparator(t.key,i.key):function(u,f,d){const p=f.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Qa(p,g):bt(42886)}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$l(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return vR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new ge(vt.comparator);function Bs(){return kR}const KE=new ge(vt.comparator);function _l(...n){let t=KE;for(const i of n)t=t.insert(i.key,i);return t}function qR(n){let t=KE;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Vr(){return Rl()}function YE(){return Rl()}function Rl(){return new qr(n=>n.toString(),(n,t)=>n.isEqual(t))}const HR=new xe(vt.comparator);function zt(...n){let t=HR;for(const i of n)t=t.add(i);return t}const FR=new xe(xt);function GR(){return FR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ym(t)?"-0":t}}function YR(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function QR(n,t,i){return n instanceof bm?function(o,u){const f={fields:{[PE]:{stringValue:NE},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ap(u)&&(u=yh(u)),u&&(f.fields[LE]=u),{mapValue:f}}(i,t):n instanceof Xc?QE(n,t):n instanceof $c?XE(n,t):function(o,u){const f=$R(o,u),d=r_(f)+r_(o.Re);return Tm(f)&&Tm(o.Re)?YR(d):KR(o.serializer,d)}(n,t)}function XR(n,t,i){return n instanceof Xc?QE(n,t):n instanceof $c?XE(n,t):i}function $R(n,t){return n instanceof wm?function(r){return Tm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class bm extends Eh{}class Xc extends Eh{constructor(t){super(),this.elements=t}}function QE(n,t){const i=$E(t);for(const r of n.elements)i.some(o=>yi(o,r))||i.push(r);return{arrayValue:{values:i}}}class $c extends Eh{constructor(t){super(),this.elements=t}}function XE(n,t){let i=$E(t);for(const r of n.elements)i=i.filter(o=>!yi(o,r));return{arrayValue:{values:i}}}class wm extends Eh{constructor(t,i){super(),this.serializer=t,this.Re=i}}function r_(n){return pe(n.integerValue||n.doubleValue)}function $E(n){return op(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZR(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof Xc&&o instanceof Xc||r instanceof $c&&o instanceof $c?Ya(r.elements,o.elements,yi):r instanceof wm&&o instanceof wm?yi(r.Re,o.Re):r instanceof bm&&o instanceof bm}(n.transform,t.transform)}class Lr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Lr}static exists(t){return new Lr(void 0,t)}static updateTime(t){return new Lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class hp{}function ZE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new WR(n.key,Lr.none()):new fp(n.key,n.data,Lr.none());{const i=n.data,r=ci.empty();let o=new xe(sn.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Ah(n.key,r,new Rs(o.toArray()),Lr.none())}}function JR(n,t,i){n instanceof fp?function(o,u,f){const d=o.value.clone(),p=o_(o.fieldTransforms,u,f.transformResults);d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(n,t,i):n instanceof Ah?function(o,u,f){if(!Bc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=o_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(JE(o)),p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function Cl(n,t,i,r){return n instanceof fp?function(u,f,d,p){if(!Bc(u.precondition,f))return d;const g=u.value.clone(),v=l_(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof Ah?function(u,f,d,p){if(!Bc(u.precondition,f))return d;const g=l_(u.fieldTransforms,p,f),v=f.data;return v.setAll(JE(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,f,d){return Bc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(n,t,i)}function a_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ya(r,o,(u,f)=>ZR(u,f))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class fp extends hp{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ah extends hp{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JE(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function o_(n,t,i){const r=new Map;re(n.length===i.length,32656,{Ve:i.length,me:n.length});for(let o=0;o<i.length;o++){const u=n[o],f=u.transform,d=t.data.field(u.field);r.set(u.field,XR(f,d,i[o]))}return r}function l_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,f=i.data.field(o.field);r.set(o.field,QR(u,f,t))}return r}class WR extends hp{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&JR(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Cl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Cl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=YE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=i.has(o.key)?null:d;const p=ZE(f,d);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),zt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,(i,r)=>a_(i,r))&&Ya(this.baseMutations,t.baseMutations,(i,r)=>a_(i,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Lt;function WE(n){if(n===void 0)return Yi("GRPC error has no .code"),ot.UNKNOWN;switch(n){case Ae.OK:return ot.OK;case Ae.CANCELLED:return ot.CANCELLED;case Ae.UNKNOWN:return ot.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return ot.INTERNAL;case Ae.UNAVAILABLE:return ot.UNAVAILABLE;case Ae.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Ae.NOT_FOUND:return ot.NOT_FOUND;case Ae.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Ae.ABORTED:return ot.ABORTED;case Ae.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Ae.DATA_LOSS:return ot.DATA_LOSS;default:return bt(39323,{code:n})}}(Lt=Ae||(Ae={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Vs([4294967295,4294967295],0);function u_(n){const t=VE().encode(n),i=new AE;return i.update(t),new Uint8Array(i.digest())}function c_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Vs([i,r],0),new Vs([o,u],0)]}class dp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Vs.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(Vs.fromNumber(r)));return o.compare(iC)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=u_(t),[r,o]=c_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);if(!this.be(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new dp(u,o,i);return r.forEach(d=>f.insert(d)),f}insert(t){if(this.pe===0)return;const i=u_(t),[r,o]=c_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sh(St.min(),o,new ge(xt),Bs(),zt())}}class Zl{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Zl(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class tA{constructor(t,i){this.targetId=t,this.Ce=i}}class eA{constructor(t,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class h_{constructor(){this.Fe=0,this.Me=f_(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=zt(),i=zt(),r=zt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}}),new Zl(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=f_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,re(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sC{constructor(t){this.ze=t,this.je=new Map,this.He=Bs(),this.Je=Mc(),this.Ye=Mc(),this.Ze=new ge(xt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:bt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(Am(u))if(r===0){const f=new vt(u.path);this.tt(i,f,Ze.newNoDocument(f,St.min()))}else re(r===1,20013,{expectedCount:r});else{const f=this.ut(i);if(f!==r){const d=this.ct(t),p=d?this.lt(d,t,f):1;if(p!==0){this.st(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,d;try{f=Ls(r).toUint8Array()}catch(p){if(p instanceof OE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dp(f,o,u)}catch(p){return Ka(p instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const f=this.ze.Pt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,f)=>{const d=this._t(f);if(d){if(u.current&&Am(d.target)){const p=new vt(d.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ze.newNoDocument(p,t))}u.Le&&(i.set(f,u.qe()),u.Qe())}});let r=zt();this.Ye.forEach((u,f)=>{let d=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Sh(t,i,this.Ze,this.He,r);return this.He=Bs(),this.Je=Mc(),this.Ye=Mc(),this.Ze=new ge(xt),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new h_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new xe(xt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new h_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ge(vt.comparator)}function f_(){return new ge(vt.comparator)}const rC={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oC={and:"AND",or:"OR"};class lC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Rm(n,t){return n.useProto3Json||gh(t)?t:{value:t}}function uC(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Fa(n){return re(!!n,49232),St.fromTimestamp(function(i){const r=Ps(i);return new hn(r.seconds,r.nanos)}(n))}function hC(n,t){return Cm(n,t).canonicalString()}function Cm(n,t){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function nA(n){const t=ee.fromString(n);return re(oA(t),10190,{key:t.toString()}),t}function Gd(n,t){const i=nA(t);if(i.get(1)!==n.databaseId.projectId)throw new pt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new pt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(sA(i))}function iA(n,t){return hC(n.databaseId,t)}function fC(n){const t=nA(n);return t.length===4?ee.emptyPath():sA(t)}function d_(n){return new ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sA(n){return re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function dC(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(re(v===void 0||typeof v=="string",58123),Fe.fromBase64String(v||"")):(re(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Fe.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&function(g){const v=g.code===void 0?ot.UNKNOWN:WE(g.code);return new pt(v,g.message||"")}(f);i=new eA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gd(n,r.document.name),u=Fa(r.document.updateTime),f=r.document.createTime?Fa(r.document.createTime):St.min(),d=new ci({mapValue:{fields:r.document.fields}}),p=Ze.newFoundDocument(o,u,f,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new zc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Gd(n,r.document),u=r.readTime?Fa(r.readTime):St.min(),f=Ze.newNoDocument(o,u),d=r.removedTargetIds||[];i=new zc([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Gd(n,r.document),u=r.removedTargetIds||[];i=new zc([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new nC(o,u),d=r.targetId;i=new tA(d,f)}}return i}function mC(n,t){return{documents:[iA(n,t.path)]}}function pC(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iA(n,o);const u=function(g){if(g.length!==0)return aA(vi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Ua(w.field),direction:vC(w.dir)}}(v))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const d=Rm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function gC(n){let t=fC(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){re(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const w=rA(E);return w instanceof vi&&jE(w)?w.getFilters():[w]}(i.where));let f=[];i.orderBy&&(f=function(E){return E.map(w=>function(q){return new Qc(Ba(q.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(w))}(i.orderBy));let d=null;i.limit&&(d=function(E){let w;return w=typeof E=="object"?E.value:E,gh(w)?null:w}(i.limit));let p=null;i.startAt&&(p=function(E){const w=!!E.before,x=E.values||[];return new Yc(x,w)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const w=!E.before,x=E.values||[];return new Yc(x,w)}(i.endAt)),LR(t,o,f,u,d,"F",p,g)}function yC(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rA(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(i.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(i.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}}(n):n.fieldFilter!==void 0?function(i){return De.create(Ba(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return vi.create(i.compositeFilter.filters.map(r=>rA(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}}(i.compositeFilter.op))}(n):bt(30097,{filter:n})}function vC(n){return rC[n]}function _C(n){return aC[n]}function TC(n){return oC[n]}function Ua(n){return{fieldPath:n.canonicalString()}}function Ba(n){return sn.fromServerFormat(n.fieldPath)}function aA(n){return n instanceof De?function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(W0(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(W0(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:_C(i.op),value:i.value}}}(n):n instanceof vi?function(i){const r=i.getFilters().map(o=>aA(o));return r.length===1?r[0]:{compositeFilter:{op:TC(i.op),filters:r}}}(n):bt(54877,{filter:n})}function oA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,i,r,o,u=St.min(),f=St.min(),d=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.wt=t}}function AC(n){const t=gC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.yn=new bC}addToCollectionParentIndex(t,i){return this.yn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ns.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ns.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class bC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new xe(ee.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(lA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new $a(0)}static ir(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",wC=1048576;function g_([n,t],[i,r]){const o=xt(n,i);return o===0?xt(t,r):o}class RC{constructor(t){this.cr=t,this.buffer=new xe(g_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();g_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ct(p_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?ct(p_,"Ignoring IndexedDB error during garbage collection: ",i):await mh(i)}await this.Ir(3e5)})}}class DC{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return J.resolve(ph.le);const r=new RC(i);return this.Er.forEachTarget(t,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.Er.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(m_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let r,o,u,f,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Pa()<=Ut.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function xC(n,t){return new DC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changes=new qr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Cl(r.mutation,o,Rs.empty(),hn.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,zt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=zt()){const o=Vr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let f=_l();return u.forEach((d,p)=>{f=f.insert(d,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const r=Vr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,zt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,d)=>{i.set(f,d)})})}computeViews(t,i,r,o){let u=Bs();const f=Rl(),d=function(){return Rl()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ah)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Cl(v.mutation,g,v.mutation.getFieldMask(),hn.now())):f.set(g.key,Rs.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new MC(v,(E=f.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const r=Rl();let o=new ge((f,d)=>f-d),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const d of f)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Rs.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||zt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=YE();v.forEach(w=>{if(!u.has(w)){const x=ZE(i.get(w),r.get(w));x!==null&&E.set(w,x),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):UR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):J.resolve(Vr());let d=Ll,p=u;return f.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,zt())).next(v=>({batchId:d,changes:qR(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next(r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=_l();return this.indexManager.getCollectionParents(t,u).next(d=>J.forEach(d,p=>{const g=function(E,w){return new vh(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,w)=>{f=f.insert(E,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Ze.newInvalidDocument(v)))});let d=_l();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Cl(v.mutation,g,Rs.empty(),hn.now()),Th(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return J.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Fa(o.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:AC(o.bundledQuery),readTime:Fa(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.overlays=new ge(vt.comparator),this.Or=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Vr();return J.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Vr(),u=i.length+1,f=new vt(i.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ge((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Vr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Vr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return J.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new eC(i,r));let u=this.Or.get(i);u===void 0&&(u=zt(),this.Or.set(i,u)),this.Or.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Nr=new xe(Le.Br),this.Lr=new xe(Le.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Qr(new Le(t,i))}$r(t,i){t.forEach(r=>this.removeReference(r,i))}Ur(t){const i=new vt(new ee([])),r=new Le(i,t),o=new Le(i,t+1),u=[];return this.Lr.forEachInRange([r,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new vt(new ee([])),r=new Le(i,t),o=new Le(i,t+1);let u=zt();return this.Lr.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(t){const i=new Le(t,0),r=this.Nr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return vt.comparator(t.key,i.key)||xt(t.Gr,i.Gr)}static kr(t,i){return xt(t.Gr,i.Gr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new xe(Le.Br)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tC(u,i,r,o);this.mutationQueue.push(f);for(const d of o)this.zr=this.zr.add(new Le(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,i){return J.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Hr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?pR:this.Jn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([r,o],f=>{const d=this.jr(f.Gr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(xt);return i.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],d=>{r=r.add(d.Gr)})}),J.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new vt(u),0);let d=new xe(xt);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Gr)),!0)},f),J.resolve(this.Jr(d))}Jr(t){const i=[];return t.forEach(r=>{const o=this.jr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){re(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return J.forEach(i.mutations,o=>{const u=new Le(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,i){const r=new Le(i,0),o=this.zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.Zr=t,this.docs=function(){return new ge(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.Zr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=Bs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))}),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Bs();const f=i.path,d=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||hR(cR(v),r)<=0||(o.has(v.key)||Th(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,i,r,o){bt(9500)}Xr(t,i){return J.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new BC(this)}getSize(t){return J.resolve(this.size)}}class BC extends VC{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(t,o)):this.vr.removeEntry(r)}),J.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.persistence=t,this.ei=new qr(i=>lp(i),up),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ti=0,this.ni=new mp,this.targetCount=0,this.ri=$a.rr()}forEachTarget(t,i){return this.ei.forEach((r,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ti&&(this.ti=i),J.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.ar(i),J.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ei.forEach((f,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.ei.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this.ni.qr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this.ni.$r(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ni.Wr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,i){this.ii={},this.overlays={},this.si=new ph(0),this.oi=!1,this.oi=!0,this._i=new PC,this.referenceDelegate=t(this),this.ai=new zC(this),this.indexManager=new SC,this.remoteDocumentCache=function(o){return new UC(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new EC(i),this.ci=new OC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new NC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ii[t.toKey()];return r||(r=new LC(i,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,r){ct("MemoryPersistence","Starting transaction:",t);const o=new jC(this.si.next());return this.referenceDelegate.li(),r(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,i){return J.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,i)))}}class jC extends dR{constructor(t){super(),this.currentSequenceNumber=t}}class pp{constructor(t){this.persistence=t,this.Ti=new mp,this.Ii=null}static Ei(t){return new pp(t)}get di(){if(this.Ii)return this.Ii;throw bt(60996)}addReference(t,i,r){return this.Ti.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ti.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,r=>{const o=vt.fromPath(r);return this.Ai(t,o).next(u=>{u||i.removeEntry(o,St.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return J.or([()=>J.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.Ri=new qr(r=>gR(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=xC(this,i)}static Ei(t,i){return new Zc(t,i)}li(){}hi(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}Vr(t){let i=0;return this.Ar(t,r=>{i++}).next(()=>i)}Ar(t,i){return J.forEach(this.Ri,(r,o)=>this.gr(t,r,o).next(u=>u?J.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,i).next(d=>{d||(r++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.Ri.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),J.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}gr(t,i,r){return J.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.Ri.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ls=r,this.hs=o}static Ps(t,i){let r=zt(),o=zt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Lw()?8:mR(Ow())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.Rs(t,i).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,i,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new kC;return this.fs(t,i,f).next(d=>{if(u.result=d,this.Is)return this.gs(t,i,f,d.size)})}).next(()=>u.result)}gs(t,i,r,o){return r.documentReadCount<this.Es?(Pa()<=Ut.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),J.resolve()):(Pa()<=Ut.DEBUG&&ct("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Pa()<=Ut.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(i))):J.resolve())}Rs(t,i){if(s_(i))return J.resolve(null);let r=fi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Sm(i,null,"F"),r=fi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=zt(...u);return this.As.getDocuments(t,f).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.ps(i,d);return this.ys(i,g,f,p.readTime)?this.Rs(t,Sm(i,null,"F")):this.ws(t,g,i,p)}))})))}Vs(t,i,r,o){return s_(i)||o.isEqual(St.min())?J.resolve(null):this.As.getDocuments(t,r).next(u=>{const f=this.ps(i,u);return this.ys(i,f,r,o)?J.resolve(null):(Pa()<=Ut.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(i)),this.ws(t,f,i,uR(o,Ll)).next(d=>d))})}ps(t,i){let r=new xe(GE(t));return i.forEach((o,u)=>{Th(t,u)&&(r=r.add(u))}),r}ys(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,i,r){return Pa()<=Ut.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",La(i)),this.As.getDocumentsMatchingQuery(t,i,Ns.min(),r)}ws(t,i,r,o){return this.As.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="LocalStore",HC=3e8;class FC{constructor(t,i,r,o){this.persistence=t,this.bs=i,this.serializer=o,this.Ss=new ge(xt),this.Ds=new qr(u=>lp(u),up),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IC(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function GC(n,t,i,r){return new FC(n,t,i,r)}async function cA(n,t){const i=Bt(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Fs(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],d=[];let p=zt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:d}))})})}function hA(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function KC(n,t){const i=Bt(n),r=t.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const d=[];t.targetChanges.forEach((v,E)=>{const w=o.get(E);if(!w)return;d.push(i.ai.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.ai.addMatchingKeys(u,v.addedDocuments,E)));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?x=x.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),o=o.insert(E,x),function(G,F,X){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=HC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(w,x,v)&&d.push(i.ai.updateTargetData(u,x))});let p=Bs(),g=zt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(YC(u,f,t.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!r.isEqual(St.min())){const v=i.ai.getLastRemoteSnapshotVersion(u).next(E=>i.ai.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return J.waitFor(d).next(()=>f.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ss=o,u))}function YC(n,t,i){let r=zt(),o=zt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let f=Bs();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(d,p.readTime),f=f.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(d,p)):ct(yp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function QC(n,t){const i=Bt(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.ai.getTargetData(r,t).next(u=>u?(o=u,J.resolve(o)):i.ai.allocateTargetId(r).next(f=>(o=new Cs(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(r.targetId,r),i.Ds.set(t,r.targetId)),r})}async function Dm(n,t,i){const r=Bt(n),o=r.Ss.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!eo(f))throw f;ct(yp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(o.target)}function y_(n,t,i){const r=Bt(n);let o=St.min(),u=zt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const E=Bt(p),w=E.Ds.get(v);return w!==void 0?J.resolve(E.Ss.get(w)):E.ai.getTargetData(g,v)}(r,f,fi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(f,d.targetId).next(p=>{u=p})}).next(()=>r.bs.getDocumentsMatchingQuery(f,t,i?o:St.min(),i?u:zt())).next(d=>(XC(r,zR(t),d),{documents:d,Ns:u})))}function XC(n,t,i){let r=n.vs.get(t)||St.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.vs.set(t,r)}class v_{constructor(){this.activeTargetIds=GR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $C{constructor(){this.So=new v_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,r){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new v_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class T_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ct(__,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ct(__,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function xm(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",JC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WC{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===Kc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(t,i,r,o,u){const f=xm(),d=this.$o(t,i.toUriEncodedString());ct(Kd,`Sending RPC '${t}' ${f}:`,d,r);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(t,d,p,r).then(g=>(ct(Kd,`Received RPC '${t}' ${f}: `,g),g),g=>{throw Ka(Kd,`RPC '${t}' ${f} failed with error: `,g,"url: ",d,"request:",r),g})}Wo(t,i,r,o,u,f){return this.Qo(t,i,r,o,u)}Uo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}$o(t,i){const r=JC[t];return`${this.Lo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class eD extends WC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,r,o){const u=xm();return new Promise((f,d)=>{const p=new SE;p.setWithCredentials(!0),p.listenOnce(bE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lc.NO_ERROR:const v=p.getResponseJson();ct(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),f(v);break;case Lc.TIMEOUT:ct(Qe,`RPC '${t}' ${u} timed out`),d(new pt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const E=p.getStatus();if(ct(Qe,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const q=function(F){const X=F.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(X)>=0?X:ot.UNKNOWN}(x.status);d(new pt(q,x.message))}else d(new pt(ot.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new pt(ot.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{s_:t,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ct(Qe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ct(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(i,"POST",g,r,15)})}a_(t,i,r){const o=xm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=CE(),d=RE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(Qe,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=f.createWebChannel(v,p);let w=!1,x=!1;const q=new tD({Go:F=>{x?ct(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(w||(ct(Qe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),w=!0),ct(Qe,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},zo:()=>E.close()}),G=(F,X,rt)=>{F.listen(X,$=>{try{rt($)}catch(et){setTimeout(()=>{throw et},0)}})};return G(E,vl.EventType.OPEN,()=>{x||(ct(Qe,`RPC '${t}' stream ${o} transport opened.`),q.t_())}),G(E,vl.EventType.CLOSE,()=>{x||(x=!0,ct(Qe,`RPC '${t}' stream ${o} transport closed`),q.r_())}),G(E,vl.EventType.ERROR,F=>{x||(x=!0,Ka(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.r_(new pt(ot.UNAVAILABLE,"The operation could not be completed")))}),G(E,vl.EventType.MESSAGE,F=>{var X;if(!x){const rt=F.data[0];re(!!rt,16349);const $=rt,et=($==null?void 0:$.error)||((X=$[0])===null||X===void 0?void 0:X.error);if(et){ct(Qe,`RPC '${t}' stream ${o} received error:`,et);const W=et.status;let it=function(R){const M=Ae[R];if(M!==void 0)return WE(M)}(W),D=et.message;it===void 0&&(it=ot.INTERNAL,D="Unknown error status: "+W+" with message "+et.message),x=!0,q.r_(new pt(it,D)),E.close()}else ct(Qe,`RPC '${t}' stream ${o} received:`,rt),q.i_(rt)}}),G(d,wE.STAT_EVENT,F=>{F.stat===pm.PROXY?ct(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===pm.NOPROXY&&ct(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.n_()},0),q}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){return new lC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,i,r=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=i,this.u_=r,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class nD{constructor(t,i,r,o,u,f,d,p){this.bi=t,this.R_=r,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new dA(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===ot.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===i&&this.B_(r,o)},r=>{t(()=>{const o=new pt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(t,i){const r=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ct(E_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(ct(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iD extends nD{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=dC(this.serializer,t),r=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Fa(f.readTime):St.min()}(t);return this.listener.Q_(i,r)}U_(t){const i={};i.database=d_(this.serializer),i.addTarget=function(u,f){let d;const p=f.target;if(d=Am(p)?{documents:mC(u,p)}:{query:pC(u,p).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=cC(u,f.resumeToken);const g=Rm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){d.readTime=uC(u,f.snapshotVersion.toTimestamp());const g=Rm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=yC(this.serializer,t);r&&(i.labels=r),this.F_(i)}K_(t){const i={};i.database=d_(this.serializer),i.removeTarget=t,this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class rD extends sD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Cm(i,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(ot.UNKNOWN,u.toString())})}Wo(t,i,r,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Wo(t,Cm(i,r),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pt(ot.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class aD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Yi(i),this.ea=!1):ct("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class oD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{r.enqueueAndForget(async()=>{Wl(this)&&(ct(Za,"Restarting streams for network reachability change."),await async function(p){const g=Bt(p);g.aa.add(4),await Jl(g),g.la.set("Unknown"),g.aa.delete(4),await bh(g)}(this))})}),this.la=new aD(r,o)}}async function bh(n){if(Wl(n))for(const t of n.ua)await t(!0)}async function Jl(n){for(const t of n.ua)await t(!1)}function mA(n,t){const i=Bt(n);i._a.has(t.targetId)||(i._a.set(t.targetId,t),Ep(i)?Tp(i):no(i).b_()&&_p(i,t))}function vp(n,t){const i=Bt(n),r=no(i);i._a.delete(t),r.b_()&&pA(i,t),i._a.size===0&&(r.b_()?r.v_():Wl(i)&&i.la.set("Unknown"))}function _p(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(n).U_(t)}function pA(n,t){n.ha.Ke(t),no(n).K_(t)}function Tp(n){n.ha=new sC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),no(n).start(),n.la.ta()}function Ep(n){return Wl(n)&&!no(n).w_()&&n._a.size>0}function Wl(n){return Bt(n).aa.size===0}function gA(n){n.ha=void 0}async function lD(n){n.la.set("Online")}async function uD(n){n._a.forEach((t,i)=>{_p(n,t)})}async function cD(n,t){gA(n),Ep(n)?(n.la.ia(t),Tp(n)):n.la.set("Unknown")}async function hD(n,t,i){if(n.la.set("Online"),t instanceof eA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o._a.delete(d),o.ha.removeTarget(d))}(n,t)}catch(r){ct(Za,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await A_(n,r)}else if(t instanceof zc?n.ha.Xe(t):t instanceof tA?n.ha.ot(t):n.ha.nt(t),!i.isEqual(St.min()))try{const r=await hA(n.localStore);i.compareTo(r)>=0&&await function(u,f){const d=u.ha.It(f);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u._a.get(g);v&&u._a.set(g,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach((p,g)=>{const v=u._a.get(p);if(!v)return;u._a.set(p,v.withResumeToken(Fe.EMPTY_BYTE_STRING,v.snapshotVersion)),pA(u,p);const E=new Cs(v.target,p,g,v.sequenceNumber);_p(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){ct(Za,"Failed to raise snapshot:",r),await A_(n,r)}}async function A_(n,t,i){if(!eo(t))throw t;n.aa.add(1),await Jl(n),n.la.set("Offline"),i||(i=()=>hA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ct(Za,"Retrying IndexedDB access"),await i(),n.aa.delete(1),await bh(n)})}async function S_(n,t){const i=Bt(n);i.asyncQueue.verifyOperationInProgress(),ct(Za,"RemoteStore received new credentials");const r=Wl(i);i.aa.add(3),await Jl(i),r&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await bh(i)}async function fD(n,t){const i=Bt(n);t?(i.aa.delete(2),await bh(i)):t||(i.aa.add(2),await Jl(i),i.la.set("Unknown"))}function no(n){return n.Pa||(n.Pa=function(i,r,o){const u=Bt(i);return u.Y_(),new iD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:lD.bind(null,n),Jo:uD.bind(null,n),Zo:cD.bind(null,n),Q_:hD.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),Ep(n)?Tp(n):n.la.set("Unknown")):(await n.Pa.stop(),gA(n))})),n.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,d=new Ap(t,i,f,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yA(n,t){if(Yi("AsyncQueue",`${t}: ${n}`),eo(n))return new pt(ot.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Ia=new ge(vt.comparator)}track(t){const i=t.doc.key,r=this.Ia.get(i);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(i):t.type===1&&r.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):bt(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,r)=>{t.push(r)}),t}}class Ja{constructor(t,i,r,o,u,f,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach(d=>{f.push({type:0,doc:d})}),new Ja(t,i,Ga.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class mD{constructor(){this.queries=w_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,r){const o=Bt(i),u=o.queries;o.queries=w_(),u.forEach((f,d)=>{for(const p of d.Ra)p.onError(r)})})(this,new pt(ot.ABORTED,"Firestore shutting down"))}}function w_(){return new qr(n=>FE(n),_h)}async function vA(n,t){const i=Bt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Va()&&t.ma()&&(r=2):(u=new dD,r=t.ma()?0:1);try{switch(r){case 0:u.Aa=await i.onListen(o,!0);break;case 1:u.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const d=yA(f,`Initialization of query '${La(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Ra.push(t),t.ga(i.onlineState),u.Aa&&t.pa(u.Aa)&&Sp(i)}async function _A(n,t){const i=Bt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function pD(n,t){const i=Bt(n);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const d of f.Ra)d.pa(o)&&(r=!0);f.Aa=o}}r&&Sp(i)}function gD(n,t,i){const r=Bt(n),o=r.queries.get(t);if(o)for(const u of o.Ra)u.onError(i);r.queries.delete(t)}function Sp(n){n.fa.forEach(t=>{t.next()})}var Vm,R_;(R_=Vm||(Vm={})).ya="default",R_.Cache="cache";class TA{constructor(t,i,r){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ja(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const r=i!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.key=t}}class AA{constructor(t){this.key=t}}class yD{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=zt(),this.mutatedKeys=zt(),this.Ua=GE(t),this.Ka=new Ga(this.Ua)}get Wa(){return this.qa}Ga(t,i){const r=i?i.za:new b_,o=i?i.Ka:this.Ka;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const w=o.get(v),x=Th(this.query,E)?E:null,q=!!w&&this.mutatedKeys.has(w.key),G=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let F=!1;w&&x?w.data.isEqual(x.data)?q!==G&&(r.track({type:3,doc:x}),F=!0):this.ja(w,x)||(r.track({type:2,doc:x}),F=!0,(p&&this.Ua(x,p)>0||g&&this.Ua(x,g)<0)&&(d=!0)):!w&&x?(r.track({type:0,doc:x}),F=!0):w&&!x&&(r.track({type:1,doc:w}),F=!0,(p||g)&&(d=!0)),F&&(x?(f=f.add(x),u=G?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{Ka:f,za:r,ys:d,mutatedKeys:u}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((v,E)=>function(x,q){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:F})}};return G(x)-G(q)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(r),o=o!=null&&o;const d=i&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new Ja(this.query,t.Ka,u,f,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new b_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=zt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const i=[];return t.forEach(r=>{this.$a.has(r)||i.push(new AA(r))}),this.$a.forEach(r=>{t.has(r)||i.push(new EA(r))}),i}Xa(t){this.qa=t.Ns,this.$a=zt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return Ja.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const bp="SyncEngine";class vD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class _D{constructor(t){this.key=t,this.tu=!1}}class TD{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new qr(d=>FE(d),_h),this.iu=new Map,this.su=new Set,this.ou=new ge(vt.comparator),this._u=new Map,this.au=new mp,this.uu={},this.cu=new Map,this.lu=$a.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function ED(n,t,i=!0){const r=CA(n);let o;const u=r.ru.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await SA(r,t,i,!0),o}async function AD(n,t){const i=CA(n);await SA(i,t,!0,!1)}async function SA(n,t,i,r){const o=await QC(n.localStore,fi(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await SD(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&i&&mA(n.remoteStore,o),d}async function SD(n,t,i,r,o){n.Pu=(E,w,x)=>async function(G,F,X,rt){let $=F.view.Ga(X);$.ys&&($=await y_(G.localStore,F.query,!1).then(({documents:D})=>F.view.Ga(D,$)));const et=rt&&rt.targetChanges.get(F.targetId),W=rt&&rt.targetMismatches.get(F.targetId)!=null,it=F.view.applyChanges($,G.isPrimaryClient,et,W);return D_(G,F.targetId,it.Ya),it.snapshot}(n,E,w,x);const u=await y_(n.localStore,t,!0),f=new yD(t,u.Ns),d=f.Ga(u.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=f.applyChanges(d,n.isPrimaryClient,p);D_(n,i,g.Ya);const v=new vD(t,i,f);return n.ru.set(t,v),n.iu.has(i)?n.iu.get(i).push(t):n.iu.set(i,[t]),g.snapshot}async function bD(n,t,i){const r=Bt(n),o=r.ru.get(t),u=r.iu.get(o.targetId);if(u.length>1)return r.iu.set(o.targetId,u.filter(f=>!_h(f,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&vp(r.remoteStore,o.targetId),Mm(r,o.targetId)}).catch(mh)):(Mm(r,o.targetId),await Dm(r.localStore,o.targetId,!0))}async function wD(n,t){const i=Bt(n),r=i.ru.get(t),o=i.iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vp(i.remoteStore,r.targetId))}async function bA(n,t){const i=Bt(n);try{const r=await KC(i.localStore,t);t.targetChanges.forEach((o,u)=>{const f=i._u.get(u);f&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?re(f.tu,14607):o.removedDocuments.size>0&&(re(f.tu,42227),f.tu=!1))}),await RA(i,r,t)}catch(r){await mh(r)}}function C_(n,t,i){const r=Bt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ru.forEach((u,f)=>{const d=f.view.ga(t);d.snapshot&&o.push(d.snapshot)}),function(f,d){const p=Bt(f);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const w of E.Ra)w.ga(d)&&(g=!0)}),g&&Sp(p)}(r.eventManager,t),o.length&&r.nu.Q_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RD(n,t,i){const r=Bt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r._u.get(t),u=o&&o.key;if(u){let f=new ge(vt.comparator);f=f.insert(u,Ze.newNoDocument(u,St.min()));const d=zt().add(u),p=new Sh(St.min(),new Map,new ge(xt),f,d);await bA(r,p),r.ou=r.ou.remove(u),r._u.delete(t),wp(r)}else await Dm(r.localStore,t,!1).then(()=>Mm(r,t,i)).catch(mh)}function Mm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.iu.get(t))n.ru.delete(r),i&&n.nu.Tu(r,i);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(r=>{n.au.containsKey(r)||wA(n,r)})}function wA(n,t){n.su.delete(t.path.canonicalString());const i=n.ou.get(t);i!==null&&(vp(n.remoteStore,i),n.ou=n.ou.remove(t),n._u.delete(i),wp(n))}function D_(n,t,i){for(const r of i)r instanceof EA?(n.au.addReference(r.key,t),CD(n,r)):r instanceof AA?(ct(bp,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,t),n.au.containsKey(r.key)||wA(n,r.key)):bt(19791,{Iu:r})}function CD(n,t){const i=t.key,r=i.path.canonicalString();n.ou.get(i)||n.su.has(r)||(ct(bp,"New document in limbo: "+i),n.su.add(r),wp(n))}function wp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const i=new vt(ee.fromString(t)),r=n.lu.next();n._u.set(r,new _D(i)),n.ou=n.ou.insert(i,r),mA(n.remoteStore,new Cs(fi(cp(i.path)),r,"TargetPurposeLimboResolution",ph.le))}}async function RA(n,t,i){const r=Bt(n),o=[],u=[],f=[];r.ru.isEmpty()||(r.ru.forEach((d,p)=>{f.push(r.Pu(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=gp.Ps(p.targetId,g);u.push(E)}}))}),await Promise.all(f),r.nu.Q_(o),await async function(p,g){const v=Bt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,w=>J.forEach(w.ls,x=>v.persistence.referenceDelegate.addReference(E,w.targetId,x)).next(()=>J.forEach(w.hs,x=>v.persistence.referenceDelegate.removeReference(E,w.targetId,x)))))}catch(E){if(!eo(E))throw E;ct(yp,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const x=v.Ss.get(w),q=x.snapshotVersion,G=x.withLastLimboFreeSnapshotVersion(q);v.Ss=v.Ss.insert(w,G)}}}(r.localStore,u))}async function DD(n,t){const i=Bt(n);if(!i.currentUser.isEqual(t)){ct(bp,"User change. New user:",t.toKey());const r=await cA(i.localStore,t);i.currentUser=t,function(u,f){u.cu.forEach(d=>{d.forEach(p=>{p.reject(new pt(ot.CANCELLED,f))})}),u.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await RA(i,r.Ms)}}function xD(n,t){const i=Bt(n),r=i._u.get(t);if(r&&r.tu)return zt().add(r.key);{let o=zt();const u=i.iu.get(t);if(!u)return o;for(const f of u){const d=i.ru.get(f);o=o.unionWith(d.view.Wa)}return o}}function CA(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RD.bind(null,t),t.nu.Q_=pD.bind(null,t.eventManager),t.nu.Tu=gD.bind(null,t.eventManager),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fA(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return GC(this.persistence,new qC,t.initialUser,this.serializer)}Ru(t){return new uA(pp.Ei,this.serializer)}Au(t){return new $C}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class VD extends Jc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){re(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CC(r,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new uA(r=>Zc.Ei(r,i),this.serializer)}}class Im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mD}()}createDatastore(t){const i=fA(t.databaseInfo.databaseId),r=function(u){return new eD(u)}(t.databaseInfo);return function(u,f,d,p){return new rD(u,f,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,f,d){return new oD(r,o,u,f,d)}(this.localStore,this.datastore,t.asyncQueue,i=>C_(this.syncEngine,i,0),function(){return T_.C()?new T_:new ZC}())}createSyncEngine(t,i){return function(o,u,f,d,p,g,v){const E=new TD(o,u,f,d,p,g);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=Bt(o);ct(Za,"RemoteStore shutting down."),u.aa.add(5),await Jl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class MD{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{ct(zs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(ct(zs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yA(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Qd(n,t){n.asyncQueue.verifyOperationInProgress(),ct(zs,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await cA(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function x_(n,t){n.asyncQueue.verifyOperationInProgress();const i=await ID(n);ct(zs,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>S_(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>S_(t.remoteStore,o)),n._onlineComponents=t}async function ID(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(zs,"Using user provided OfflineComponentProvider");try{await Qd(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Qd(n,new Jc)}}else ct(zs,"Using default OfflineComponentProvider"),await Qd(n,new VD(void 0));return n._offlineComponents}async function OD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(zs,"Using user provided OnlineComponentProvider"),await x_(n,n._uninitializedComponentsProvider._online)):(ct(zs,"Using default OnlineComponentProvider"),await x_(n,new Im))),n._onlineComponents}async function xA(n){const t=await OD(n),i=t.eventManager;return i.onListen=ED.bind(null,t.syncEngine),i.onUnlisten=bD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=wD.bind(null,t.syncEngine),i}function ND(n,t,i={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const v=new DA({next:w=>{v.yu(),f.enqueueAndForget(()=>_A(u,E));const x=w.docs.has(d);!x&&w.fromCache?g.reject(new pt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?g.reject(new pt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new TA(cp(d.path),v,{includeMetadataChanges:!0,Fa:!0});return vA(u,E)}(await xA(n),n.asyncQueue,t,i,r)),r.promise}function PD(n,t,i={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const v=new DA({next:w=>{v.yu(),f.enqueueAndForget(()=>_A(u,E)),w.fromCache&&p.source==="server"?g.reject(new pt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new TA(d,v,{includeMetadataChanges:!0,Fa:!0});return vA(u,E)}(await xA(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,t,i){if(!i)throw new pt(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function LD(n,t,i,r){if(t===!0&&r===!0)throw new pt(ot.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function M_(n){if(!vt.isDocumentKey(n))throw new pt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I_(n){if(vt.isDocumentKey(n))throw new pt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function jl(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=UD(n);throw new pt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firestore.googleapis.com",O_=!0;class N_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IA,this.ssl=O_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:O_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wC)throw new pt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tR;switch(r.type){case"firstParty":return new sR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=V_.get(i);r&&(ct("ComponentProvider","Removing Datastore"),V_.delete(i),r.terminate())}(this),Promise.resolve()}}function BD(n,t,i,r={}){var o;const u=(n=jl(n,wh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${i}`;u.host!==IA&&u.host!==d&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:r});if(!Nl(p,f)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=$e.MOCK_USER;else{g=Iw(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new $e(E)}n._authCredentials=new eR(new xE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class di{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new di(this.firestore,t,this._key)}}class Is extends Rh{constructor(t,i,r){super(t,i,cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new di(this.firestore,null,new vt(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function Om(n,t,...i){if(n=dh(n),MA("collection","path",t),n instanceof wh){const r=ee.fromString(t,...i);return I_(r),new Is(n,null,r)}{if(!(n instanceof di||n instanceof Is))throw new pt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return I_(r),new Is(n.firestore,null,r)}}function Wc(n,t,...i){if(n=dh(n),arguments.length===1&&(t=ME.newId()),MA("doc","path",t),n instanceof wh){const r=ee.fromString(t,...i);return M_(r),new di(n,null,new vt(r))}{if(!(n instanceof di||n instanceof Is))throw new pt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ee.fromString(t,...i));return M_(r),new di(n.firestore,n instanceof Is?n.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class L_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new dA(this,"async_queue_retry"),this.ju=()=>{const r=Yd();r&&ct(P_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Ms;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!eo(t))throw t;ct(P_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Yi("INTERNAL UNHANDLED ERROR: ",U_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=i,i}enqueueAfterDelay(t,i,r){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const o=Ap.createAndSchedule(this,t,i,r,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&bt(47125,{ec:U_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function U_(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Rp extends wh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new L_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L_(t),this._firestoreClient=void 0,await t}}}function zD(n,t){const i=typeof n=="object"?n:_E(),r=typeof n=="string"?n:Kc,o=Xl(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Vw("firestore");u&&BD(o,...u)}return o}function OA(n){if(n._terminated)throw new pt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jD(n),n._firestoreClient}function jD(n){var t,i,r;const o=n._freezeSettings(),u=function(d,p,g,v){return new TR(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,VA(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new MD(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this._byteString=t}static fromBase64String(t){try{return new th(Fe.fromBase64String(t))}catch(i){throw new pt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new th(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new pt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new pt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new pt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}const HD=new RegExp("[~\\*/\\[\\]]");function FD(n,t,i){if(t.search(HD)>=0)throw B_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new NA(...t.split("."))._internalPath}catch{throw B_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function B_(n,t,i,r,o){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new pt(ot.INVALID_ARGUMENT,u+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(LA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class GD extends PA{data(){return super.data()}}function LA(n,t){return typeof t=="string"?FD(n,t):t instanceof NA?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YD{convertValue(t,i="none"){switch(Us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return $l(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[vm].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new qD(u)}convertGeoPoint(t){return new kD(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=Ps(t);return new hn(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);re(oA(r),9688,{name:t});const o=new Bl(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(i)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UA extends PA{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(LA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class jc extends UA{data(t={}){return super.data(t)}}class QD{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new jc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const p=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:XD(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function XD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){n=jl(n,di);const t=jl(n.firestore,Rp);return ND(OA(t),n._key).then(i=>$D(t,n,i))}class BA extends YD{constructor(t){super(),this.firestore=t}convertBytes(t){return new th(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,i)}}function Nm(n){n=jl(n,Rh);const t=jl(n.firestore,Rp),i=OA(t),r=new BA(t);return KD(n._query),PD(i,n._query).then(o=>new QD(t,r,n,o))}function $D(n,t,i){const r=i.docs.get(t._key),o=new BA(n);return new UA(n,o,t._key,r,new El(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){to=o})(H2),Os(new Gi("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),d=new Rp(new nR(r.getProvider("auth-internal")),new rR(f,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),hi(k0,q0,t),hi(k0,q0,"esm2017")})();var ZD="firebase",JD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(ZD,JD,"app");const zA="@firebase/installations",Cp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1e4,kA=`w:${Cp}`,qA="FIS_v2",WD="https://firebaseinstallations.googleapis.com/v1",tx=60*60*1e3,ex="installations",nx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jr=new fh(ex,nx,ix);function HA(n){return n instanceof qs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA({projectId:n}){return`${WD}/projects/${n}/installations`}function GA(n){return{token:n.token,requestStatus:2,expiresIn:rx(n.expiresIn),creationTime:Date.now()}}async function KA(n,t){const r=(await t.json()).error;return jr.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function YA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sx(n,{refreshToken:t}){const i=YA(n);return i.append("Authorization",ax(t)),i}async function QA(n){const t=await n();return t.status>=500&&t.status<600?n():t}function rx(n){return Number(n.replace("s","000"))}function ax(n){return`${qA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=FA(n),o=YA(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:i,authVersion:qA,appId:n.appId,sdkVersion:kA},d={method:"POST",headers:o,body:JSON.stringify(f)},p=await QA(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:GA(g.authToken)}}else throw await KA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^[cdef][\w-]{21}$/,Pm="";function cx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=hx(n);return ux.test(i)?i:Pm}catch{return Pm}}function hx(n){return lx(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Map;function ZA(n,t){const i=Ch(n);JA(i,t),fx(i,t)}function JA(n,t){const i=$A.get(n);if(i)for(const r of i)r(t)}function fx(n,t){const i=dx();i&&i.postMessage({key:n,fid:t}),mx()}let Mr=null;function dx(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=n=>{JA(n.data.key,n.data.fid)}),Mr}function mx(){$A.size===0&&Mr&&(Mr.close(),Mr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebase-installations-database",gx=1,kr="firebase-installations-store";let Xd=null;function Dp(){return Xd||(Xd=yE(px,gx,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(kr)}}})),Xd}async function nh(n,t){const i=Ch(n),o=(await Dp()).transaction(kr,"readwrite"),u=o.objectStore(kr),f=await u.get(i);return await u.put(t,i),await o.done,(!f||f.fid!==t.fid)&&ZA(n,t.fid),t}async function WA(n){const t=Ch(n),r=(await Dp()).transaction(kr,"readwrite");await r.objectStore(kr).delete(t),await r.done}async function Dh(n,t){const i=Ch(n),o=(await Dp()).transaction(kr,"readwrite"),u=o.objectStore(kr),f=await u.get(i),d=t(f);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!f||f.fid!==d.fid)&&ZA(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n){let t;const i=await Dh(n.appConfig,r=>{const o=yx(r),u=vx(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Pm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function yx(n){const t=n||{fid:cx(),registrationStatus:0};return tS(t)}function vx(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(jr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=_x(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Tx(n)}:{installationEntry:t}}async function _x(n,t){try{const i=await ox(n,t);return nh(n.appConfig,i)}catch(i){throw HA(i)&&i.customData.serverCode===409?await WA(n.appConfig):await nh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Tx(n){let t=await z_(n.appConfig);for(;t.registrationStatus===1;)await XA(100),t=await z_(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await xp(n);return r||i}return t}function z_(n){return Dh(n,t=>{if(!t)throw jr.create("installation-not-found");return tS(t)})}function tS(n){return Ex(n)?{fid:n.fid,registrationStatus:0}:n}function Ex(n){return n.registrationStatus===1&&n.registrationTime+jA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax({appConfig:n,heartbeatServiceProvider:t},i){const r=Sx(n,i),o=sx(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:kA,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(f)},p=await QA(()=>fetch(r,d));if(p.ok){const g=await p.json();return GA(g)}else throw await KA("Generate Auth Token",p)}function Sx(n,{fid:t}){return`${FA(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(n,t=!1){let i;const r=await Dh(n.appConfig,u=>{if(!eS(u))throw jr.create("not-registered");const f=u.authToken;if(!t&&Rx(f))return u;if(f.requestStatus===1)return i=bx(n,t),u;{if(!navigator.onLine)throw jr.create("app-offline");const d=Dx(u);return i=wx(n,d),d}});return i?await i:r.authToken}async function bx(n,t){let i=await j_(n.appConfig);for(;i.authToken.requestStatus===1;)await XA(100),i=await j_(n.appConfig);const r=i.authToken;return r.requestStatus===0?Vp(n,t):r}function j_(n){return Dh(n,t=>{if(!eS(t))throw jr.create("not-registered");const i=t.authToken;return xx(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function wx(n,t){try{const i=await Ax(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await nh(n.appConfig,r),i}catch(i){if(HA(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await WA(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nh(n.appConfig,r)}throw i}}function eS(n){return n!==void 0&&n.registrationStatus===2}function Rx(n){return n.requestStatus===2&&!Cx(n)}function Cx(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+tx}function Dx(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function xx(n){return n.requestStatus===1&&n.requestTime+jA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(n){const t=n,{installationEntry:i,registrationPromise:r}=await xp(t);return r?r.catch(console.error):Vp(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(n,t=!1){const i=n;return await Ix(i),(await Vp(i,t)).token}async function Ix(n){const{registrationPromise:t}=await xp(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){if(!n||!n.options)throw $d("App Configuration");if(!n.name)throw $d("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw $d(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function $d(n){return jr.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="installations",Nx="installations-internal",Px=n=>{const t=n.getProvider("app").getImmediate(),i=Ox(t),r=Xl(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Lx=n=>{const t=n.getProvider("app").getImmediate(),i=Xl(t,nS).getImmediate();return{getId:()=>Vx(i),getToken:o=>Mx(i,o)}};function Ux(){Os(new Gi(nS,Px,"PUBLIC")),Os(new Gi(Nx,Lx,"PRIVATE"))}Ux();hi(zA,Cp);hi(zA,Cp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="analytics",Bx="firebase_id",zx="origin",jx=60*1e3,kx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new ip("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new fh("analytics","Analytics",qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n){if(!n.startsWith(Mp)){const t=An.create("invalid-gtag-resource",{gtagURL:n});return fn.warn(t.message),""}return n}function iS(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function Fx(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function Gx(n,t){const i=Fx("firebase-js-sdk-policy",{createScriptURL:Hx}),r=document.createElement("script"),o=`${Mp}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Kx(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function Yx(n,t,i,r,o,u){const f=r[o];try{if(f)await t[f];else{const p=(await iS(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){fn.error(d)}n("config",o,u)}async function Qx(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const d=await iS(i);for(const p of f){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){fn.error(u)}}function Xx(n,t,i,r){async function o(u,...f){try{if(u==="event"){const[d,p]=f;await Qx(n,t,i,d,p)}else if(u==="config"){const[d,p]=f;await Yx(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=f;n("consent",d,p)}else if(u==="get"){const[d,p,g]=f;n("get",d,p,g)}else if(u==="set"){const[d]=f;n("set",d)}else n(u,...f)}catch(d){fn.error(d)}}return o}function $x(n,t,i,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Xx(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function Zx(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Mp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=30,Wx=1e3;class tV{constructor(t={},i=Wx){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const sS=new tV;function eV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function nV(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:eV(r)},u=kx.replace("{app-id}",i),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let d="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:f.status,responseMessage:d})}return f.json()}async function iV(n,t=sS,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw An.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new aV;return setTimeout(async()=>{d.abort()},jx),rS({appId:r,apiKey:o,measurementId:u},f,d,t)}async function rS(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=sS){var u;const{appId:f,measurementId:d}=n;try{await sV(r,t)}catch(p){if(d)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:d};throw p}try{const p=await nV(n);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!rV(g)){if(o.deleteThrottleMetadata(f),d)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?M0(i,o.intervalMillis,Jx):M0(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(f,E),fn.debug(`Calling attemptFetch again in ${v} millis`),rS(n,E,r,o)}}function sV(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function rV(n){if(!(n instanceof qs)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class aV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function oV(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,f=Object.assign(Object.assign({},r),{send_to:u});n("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(){if(dE())try{await mE()}catch(n){return fn.warn(An.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return fn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uV(n,t,i,r,o,u,f){var d;const p=iV(n);p.then(x=>{i[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>fn.error(x)),t.push(p);const g=lV().then(x=>{if(x)return r.getId()}),[v,E]=await Promise.all([p,g]);Zx(u)||Gx(u,v.measurementId),o("js",new Date);const w=(d=f==null?void 0:f.config)!==null&&d!==void 0?d:{};return w[zx]="firebase",w.update=!0,E!=null&&(w[Bx]=E),o("config",v.measurementId,w),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t){this.app=t}_delete(){return delete Dl[this.app.options.appId],Promise.resolve()}}let Dl={},k_=[];const q_={};let Zd="dataLayer",hV="gtag",H_,aS,F_=!1;function fV(){const n=[];if(Pw()&&n.push("This is a browser extension environment."),Uw()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=An.create("invalid-analytics-context",{errorInfo:t});fn.warn(i.message)}}function dV(n,t,i){fV();const r=n.options.appId;if(!r)throw An.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Dl[r]!=null)throw An.create("already-exists",{id:r});if(!F_){Kx(Zd);const{wrappedGtag:u,gtagCore:f}=$x(Dl,k_,q_,Zd,hV);aS=u,H_=f,F_=!0}return Dl[r]=uV(n,k_,q_,t,H_,Zd,i),new cV(n)}function mV(n=_E()){n=dh(n);const t=Xl(n,ih);return t.isInitialized()?t.getImmediate():pV(n)}function pV(n,t={}){const i=Xl(n,ih);if(i.isInitialized()){const o=i.getImmediate();if(Nl(t,i.getOptions()))return o;throw An.create("already-initialized")}return i.initialize({options:t})}function gV(n,t,i,r){n=dh(n),oV(aS,Dl[n.app.options.appId],t,i,r).catch(o=>fn.error(o))}const G_="@firebase/analytics",K_="0.10.12";function yV(){Os(new Gi(ih,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return dV(r,o,i)},"PUBLIC")),Os(new Gi("analytics-internal",n,"PRIVATE")),hi(G_,K_),hi(G_,K_,"esm2017");function n(t){try{const i=t.getProvider(ih).getImmediate();return{logEvent:(r,o,u)=>gV(i,r,o,u)}}catch(i){throw An.create("interop-component-reg-failed",{reason:i})}}}yV();const vV={apiKey:"AIzaSyDQvvRrnLaotAF32qtVJ8UUDflq2_f8UbM",authDomain:"vinyl-collection-a201a.firebaseapp.com",projectId:"vinyl-collection-a201a",storageBucket:"vinyl-collection-a201a.firebasestorage.app",messagingSenderId:"1028885539181",appId:"1:1028885539181:web:4d928efef3608fda399264",measurementId:"G-LSBHM95N5S"},oS=vE(vV);mV(oS);const Ir=zD(oS),lS=dt.createContext({});function _V(n){const t=dt.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ip=typeof window<"u",TV=Ip?dt.useLayoutEffect:dt.useEffect,Op=dt.createContext(null),uS=dt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function EV(n=!0){const t=dt.useContext(Op);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=dt.useId();dt.useEffect(()=>{if(n)return o(u)},[n]);const f=dt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,f]:[!0]}function Np(n,t){n.indexOf(t)===-1&&n.push(t)}function Pp(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Qi=(n,t,i)=>i>t?t:i<n?n:i;let Lp=()=>{};const Xi={},cS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),hS=n=>/^0[^.\s]+$/u.test(n);function Up(n){let t;return()=>(t===void 0&&(t=n()),t)}const Bn=n=>n,AV=(n,t)=>i=>t(n(i)),tu=(...n)=>n.reduce(AV),kl=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Bp{constructor(){this.subscriptions=[]}add(t){return Np(this.subscriptions,t),()=>Pp(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=n=>n*1e3,pi=n=>n/1e3;function fS(n,t){return t?n*(1e3/t):0}const dS=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,SV=1e-7,bV=12;function wV(n,t,i,r,o){let u,f,d=0;do f=t+(i-t)/2,u=dS(f,r,o)-n,u>0?i=f:t=f;while(Math.abs(u)>SV&&++d<bV);return f}function eu(n,t,i,r){if(n===t&&i===r)return Bn;const o=u=>wV(u,0,1,n,i);return u=>u===0||u===1?u:dS(o(u),t,r)}const mS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,pS=n=>t=>1-n(1-t),gS=eu(.33,1.53,.69,.99),zp=pS(gS),yS=mS(zp),vS=n=>(n*=2)<1?.5*zp(n):.5*(2-Math.pow(2,-10*(n-1))),jp=n=>1-Math.sin(Math.acos(n)),_S=pS(jp),TS=mS(jp),RV=eu(.42,0,1,1),CV=eu(0,0,.58,1),ES=eu(.42,0,.58,1),DV=n=>Array.isArray(n)&&typeof n[0]!="number",AS=n=>Array.isArray(n)&&typeof n[0]=="number",xV={linear:Bn,easeIn:RV,easeInOut:ES,easeOut:CV,circIn:jp,circInOut:TS,circOut:_S,backIn:zp,backInOut:yS,backOut:gS,anticipate:vS},VV=n=>typeof n=="string",Y_=n=>{if(AS(n)){Lp(n.length===4);const[t,i,r,o]=n;return eu(t,i,r,o)}else if(VV(n))return xV[n];return n},Oc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Q_={value:null};function MV(n,t){let i=new Set,r=new Set,o=!1,u=!1;const f=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){f.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,w=!1,x=!1)=>{const G=x&&o?i:r;return w&&f.add(E),G.has(E)||G.add(E),E},cancel:E=>{r.delete(E),f.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&Q_.value&&Q_.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const IV=40;function SS(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,f=Oc.reduce(($,et)=>($[et]=MV(u,t?et:void 0),$),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:w,render:x,postRender:q}=f,G=()=>{const $=Xi.useManualTiming?o.timestamp:performance.now();i=!1,Xi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min($-o.timestamp,IV),1)),o.timestamp=$,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),w.process(o),x.process(o),q.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(G))},F=()=>{i=!0,r=!0,o.isProcessing||n(G)};return{schedule:Oc.reduce(($,et)=>{const W=f[et];return $[et]=(it,D=!1,b=!1)=>(i||F(),W.schedule(it,D,b)),$},{}),cancel:$=>{for(let et=0;et<Oc.length;et++)f[Oc[et]].cancel($)},state:o,steps:f}}const{schedule:ae,cancel:js,state:qe,steps:Jd}=SS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let kc;function OV(){kc=void 0}const cn={now:()=>(kc===void 0&&cn.set(qe.isProcessing||Xi.useManualTiming?qe.timestamp:performance.now()),kc),set:n=>{kc=n,queueMicrotask(OV)}},bS=n=>t=>typeof t=="string"&&t.startsWith(n),kp=bS("--"),NV=bS("var(--"),qp=n=>NV(n)?PV.test(n.split("/*")[0].trim()):!1,PV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,io={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ql={...io,transform:n=>Qi(0,1,n)},Nc={...io,default:1},xl=n=>Math.round(n*1e5)/1e5,Hp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LV(n){return n==null}const UV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fp=(n,t)=>i=>!!(typeof i=="string"&&UV.test(i)&&i.startsWith(n)||t&&!LV(i)&&Object.prototype.hasOwnProperty.call(i,t)),wS=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,f,d]=r.match(Hp);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(f),alpha:d!==void 0?parseFloat(d):1}},BV=n=>Qi(0,255,n),Wd={...io,transform:n=>Math.round(BV(n))},Or={test:Fp("rgb","red"),parse:wS("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Wd.transform(n)+", "+Wd.transform(t)+", "+Wd.transform(i)+", "+xl(ql.transform(r))+")"};function zV(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Lm={test:Fp("#"),parse:zV,transform:Or.transform},nu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ws=nu("deg"),gi=nu("%"),Et=nu("px"),jV=nu("vh"),kV=nu("vw"),X_={...gi,parse:n=>gi.parse(n)/100,transform:n=>gi.transform(n*100)},za={test:Fp("hsl","hue"),parse:wS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+gi.transform(xl(t))+", "+gi.transform(xl(i))+", "+xl(ql.transform(r))+")"},Xe={test:n=>Or.test(n)||Lm.test(n)||za.test(n),parse:n=>Or.test(n)?Or.parse(n):za.test(n)?za.parse(n):Lm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Or.transform(n):za.transform(n)},qV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HV(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Hp))==null?void 0:t.length)||0)+(((i=n.match(qV))==null?void 0:i.length)||0)>0}const RS="number",CS="color",FV="var",GV="var(",$_="${}",KV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hl(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(KV,p=>(Xe.test(p)?(r.color.push(u),o.push(CS),i.push(Xe.parse(p))):p.startsWith(GV)?(r.var.push(u),o.push(FV),i.push(p)):(r.number.push(u),o.push(RS),i.push(parseFloat(p))),++u,$_)).split($_);return{values:i,split:d,indexes:r,types:o}}function DS(n){return Hl(n).values}function xS(n){const{split:t,types:i}=Hl(n),r=t.length;return o=>{let u="";for(let f=0;f<r;f++)if(u+=t[f],o[f]!==void 0){const d=i[f];d===RS?u+=xl(o[f]):d===CS?u+=Xe.transform(o[f]):u+=o[f]}return u}}const YV=n=>typeof n=="number"?0:n;function QV(n){const t=DS(n);return xS(n)(t.map(YV))}const ks={test:HV,parse:DS,createTransformer:xS,getAnimatableNone:QV};function tm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function XV({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,f=0;if(!t)o=u=f=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=tm(p,d,n+1/3),u=tm(p,d,n),f=tm(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:r}}function sh(n,t){return i=>i>0?t:n}const se=(n,t,i)=>n+(t-n)*i,em=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},$V=[Lm,Or,za],ZV=n=>$V.find(t=>t.test(n));function Z_(n){const t=ZV(n);if(!t)return!1;let i=t.parse(n);return t===za&&(i=XV(i)),i}const J_=(n,t)=>{const i=Z_(n),r=Z_(t);if(!i||!r)return sh(n,t);const o={...i};return u=>(o.red=em(i.red,r.red,u),o.green=em(i.green,r.green,u),o.blue=em(i.blue,r.blue,u),o.alpha=se(i.alpha,r.alpha,u),Or.transform(o))},Um=new Set(["none","hidden"]);function JV(n,t){return Um.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function WV(n,t){return i=>se(n,t,i)}function Gp(n){return typeof n=="number"?WV:typeof n=="string"?qp(n)?sh:Xe.test(n)?J_:nM:Array.isArray(n)?VS:typeof n=="object"?Xe.test(n)?J_:tM:sh}function VS(n,t){const i=[...n],r=i.length,o=n.map((u,f)=>Gp(u)(u,t[f]));return u=>{for(let f=0;f<r;f++)i[f]=o[f](u);return i}}function tM(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Gp(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function eM(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=n.indexes[u][r[u]],d=n.values[f]??0;i[o]=d,r[u]++}return i}const nM=(n,t)=>{const i=ks.createTransformer(t),r=Hl(n),o=Hl(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Um.has(n)&&!o.values.length||Um.has(t)&&!r.values.length?JV(n,t):tu(VS(eM(r,o),o.values),i):sh(n,t)};function MS(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?se(n,t,i):Gp(n)(n,t)}const iM=n=>{const t=({timestamp:i})=>n(i);return{start:()=>ae.update(t,!0),stop:()=>js(t),now:()=>qe.isProcessing?qe.timestamp:cn.now()}},IS=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=n(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},rh=2e4;function Kp(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<rh;)t+=i,r=n.next(t);return t>=rh?1/0:t}function sM(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Kp(r),rh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:pi(o)}}const rM=5;function OS(n,t,i){const r=Math.max(t-rM,0);return fS(i-n(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W_=.001;function aM({duration:n=ce.duration,bounce:t=ce.bounce,velocity:i=ce.velocity,mass:r=ce.mass}){let o,u,f=1-t;f=Qi(ce.minDamping,ce.maxDamping,f),n=Qi(ce.minDuration,ce.maxDuration,pi(n)),f<1?(o=g=>{const v=g*f,E=v*n,w=v-i,x=Bm(g,f),q=Math.exp(-E);return W_-w/x*q},u=g=>{const E=g*f*n,w=E*i+i,x=Math.pow(f,2)*Math.pow(g,2)*n,q=Math.exp(-E),G=Bm(Math.pow(g,2),f);return(-o(g)+W_>0?-1:1)*((w-x)*q)/G}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=lM(o,u,d);if(n=mi(n),isNaN(p))return{stiffness:ce.stiffness,damping:ce.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:f*2*Math.sqrt(r*g),duration:n}}}const oM=12;function lM(n,t,i){let r=i;for(let o=1;o<oM;o++)r=r-n(r)/t(r);return r}function Bm(n,t){return n*Math.sqrt(1-t*t)}const uM=["duration","bounce"],cM=["stiffness","damping","mass"];function tT(n,t){return t.some(i=>n[i]!==void 0)}function hM(n){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...n};if(!tT(n,cM)&&tT(n,uM))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:ce.mass,stiffness:o,damping:u}}else{const i=aM(n);t={...t,...i,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function ah(n=ce.visualDuration,t=ce.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],f=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:w,isResolvedFromDuration:x}=hM({...i,velocity:-pi(i.velocity||0)}),q=w||0,G=g/(2*Math.sqrt(p*v)),F=f-u,X=pi(Math.sqrt(p/v)),rt=Math.abs(F)<5;r||(r=rt?ce.restSpeed.granular:ce.restSpeed.default),o||(o=rt?ce.restDelta.granular:ce.restDelta.default);let $;if(G<1){const W=Bm(X,G);$=it=>{const D=Math.exp(-G*X*it);return f-D*((q+G*X*F)/W*Math.sin(W*it)+F*Math.cos(W*it))}}else if(G===1)$=W=>f-Math.exp(-X*W)*(F+(q+X*F)*W);else{const W=X*Math.sqrt(G*G-1);$=it=>{const D=Math.exp(-G*X*it),b=Math.min(W*it,300);return f-D*((q+G*X*F)*Math.sinh(b)+W*F*Math.cosh(b))/W}}const et={calculatedDuration:x&&E||null,next:W=>{const it=$(W);if(x)d.done=W>=E;else{let D=W===0?q:0;G<1&&(D=W===0?mi(q):OS($,W,it));const b=Math.abs(D)<=r,R=Math.abs(f-it)<=o;d.done=b&&R}return d.value=d.done?f:it,d},toString:()=>{const W=Math.min(Kp(et),rh),it=IS(D=>et.next(W*D).value,W,30);return W+"ms "+it},toTransition:()=>{}};return et}ah.applyToOptions=n=>{const t=sM(n,100,ah);return n.ease=t.ease,n.duration=mi(t.duration),n.type="keyframes",n};function zm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],w={done:!1,value:E},x=b=>d!==void 0&&b<d||p!==void 0&&b>p,q=b=>d===void 0?p:p===void 0||Math.abs(d-b)<Math.abs(p-b)?d:p;let G=i*t;const F=E+G,X=f===void 0?F:f(F);X!==F&&(G=X-E);const rt=b=>-G*Math.exp(-b/r),$=b=>X+rt(b),et=b=>{const R=rt(b),M=$(b);w.done=Math.abs(R)<=g,w.value=w.done?X:M};let W,it;const D=b=>{x(w.value)&&(W=b,it=ah({keyframes:[w.value,q(w.value)],velocity:OS($,b,w.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return D(0),{calculatedDuration:null,next:b=>{let R=!1;return!it&&W===void 0&&(R=!0,et(b),D(b)),W!==void 0&&b>=W?it.next(b-W):(!R&&et(b),w)}}}function fM(n,t,i){const r=[],o=i||Xi.mix||MS,u=n.length-1;for(let f=0;f<u;f++){let d=o(n[f],n[f+1]);if(t){const p=Array.isArray(t)?t[f]||Bn:t;d=tu(p,d)}r.push(d)}return r}function dM(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Lp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=fM(t,r,o),p=d.length,g=v=>{if(f&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const w=kl(n[E],n[E+1],v);return d[E](w)};return i?v=>g(Qi(n[0],n[u-1],v)):g}function mM(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=kl(0,t,r);n.push(se(i,1,o))}}function pM(n){const t=[0];return mM(t,n.length-1),t}function gM(n,t){return n.map(i=>i*t)}function yM(n,t){return n.map(()=>t||ES).splice(0,n.length-1)}function Vl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=DV(r)?r.map(Y_):Y_(r),u={done:!1,value:t[0]},f=gM(i&&i.length===t.length?i:pM(t),n),d=dM(f,t,{ease:Array.isArray(o)?o:yM(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const vM=n=>n!==null;function Yp(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(vM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const _M={decay:zm,inertia:zm,tween:Vl,keyframes:Vl,spring:ah};function NS(n){typeof n.type=="string"&&(n.type=_M[n.type])}class Qp{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const TM=n=>n/100;class PS extends Qp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;if(i&&i.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;NS(t);const{type:i=Vl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:d}=t;const p=i||Vl;p!==Vl&&typeof d[0]!="number"&&(this.mixKeyframes=tu(TM,MS(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=Kp(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:w,repeatDelay:x,type:q,onUpdate:G,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),rt=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,et=r;if(E){const b=Math.min(this.currentTime,o)/d;let R=Math.floor(b),M=b%1;!M&&b>=1&&(M=1),M===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(w==="reverse"?(M=1-M,x&&(M-=x/d)):w==="mirror"&&(et=f)),$=Qi(0,1,M)*d}const W=rt?{done:!1,value:v[0]}:et.next($);u&&(W.value=u(W.value));let{done:it}=W;!rt&&p!==null&&(it=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&it);return D&&q!==zm&&(W.value=Yp(v,this.options,F,this.speed)),G&&G(W.value),D&&this.finish(),W}then(t,i){return this.finished.then(t,i)}get duration(){return pi(this.calculatedDuration)}get time(){return pi(this.currentTime)}set time(t){t=mi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=iM,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function EM(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Nr=n=>n*180/Math.PI,jm=n=>{const t=Nr(Math.atan2(n[1],n[0]));return km(t)},AM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:jm,rotateZ:jm,skewX:n=>Nr(Math.atan(n[1])),skewY:n=>Nr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},km=n=>(n=n%360,n<0&&(n+=360),n),eT=jm,nT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),SM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nT,scaleY:iT,scale:n=>(nT(n)+iT(n))/2,rotateX:n=>km(Nr(Math.atan2(n[6],n[5]))),rotateY:n=>km(Nr(Math.atan2(-n[2],n[0]))),rotateZ:eT,rotate:eT,skewX:n=>Nr(Math.atan(n[4])),skewY:n=>Nr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function sT(n){return n.includes("scale")?1:0}function qm(n,t){if(!n||n==="none")return sT(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=SM,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=AM,o=d}if(!o)return sT(t);const u=r[t],f=o[1].split(",").map(wM);return typeof u=="function"?u(f):f[u]}const bM=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return qm(i,t)};function wM(n){return parseFloat(n.trim())}const so=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ro=new Set(so),rT=n=>n===io||n===Et,RM=new Set(["x","y","z"]),CM=so.filter(n=>!RM.has(n));function DM(n){const t=[];return CM.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Ur={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>qm(t,"x"),y:(n,{transform:t})=>qm(t,"y")};Ur.translateX=Ur.x;Ur.translateY=Ur.y;const Br=new Set;let Hm=!1,Fm=!1,Gm=!1;function LS(){if(Fm){const n=Array.from(Br).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=DM(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,f])=>{var d;(d=r.getValue(u))==null||d.set(f)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fm=!1,Hm=!1,Br.forEach(n=>n.complete(Gm)),Br.clear()}function US(){Br.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Fm=!0)})}function xM(){Gm=!0,US(),LS(),Gm=!1}class Xp{constructor(t,i,r,o,u,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Br.add(this),Hm||(Hm=!0,ae.read(US),ae.resolveKeyframes(LS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,f);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}EM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Br.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Br.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const VM=n=>n.startsWith("--");function MM(n,t,i){VM(t)?n.style.setProperty(t,i):n.style[t]=i}const IM=Up(()=>window.ScrollTimeline!==void 0),OM={};function NM(n,t){const i=Up(n);return()=>OM[t]??i()}const BS=NM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Al=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,aT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function zS(n,t){if(n)return typeof n=="function"?BS()?IS(n,t):"ease-out":AS(n)?Al(n):Array.isArray(n)?n.map(i=>zS(i,t)||aT.easeOut):aT[n]}function PM(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=zS(d,o);Array.isArray(E)&&(v.easing=E);const w={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(v,w)}function jS(n){return typeof n=="function"&&"applyToOptions"in n}function LM({type:n,...t}){return jS(n)&&BS()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class UM extends Qp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Lp(typeof t.type!="string");const g=LM(t);this.animation=PM(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Yp(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):MM(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return pi(Number(t))}get time(){return pi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=mi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&IM()?(this.animation.timeline=t,Bn):i(this)}}const kS={anticipate:vS,backInOut:yS,circInOut:TS};function BM(n){return n in kS}function zM(n){typeof n.ease=="string"&&BM(n.ease)&&(n.ease=kS[n.ease])}const oT=10;class jM extends UM{constructor(t){zM(t),NS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...f}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new PS({...f,autoplay:!1}),p=mi(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-oT).value,d.sample(p).value,oT),d.stop()}}const lT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ks.test(n)||n==="0")&&!n.startsWith("url("));function kM(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function qM(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],f=lT(o,t),d=lT(u,t);return!f||!d?!1:kM(n)||(i==="spring"||jS(i))&&r}const HM=new Set(["opacity","clipPath","filter","transform"]),FM=Up(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GM(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:f}=n;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return FM()&&i&&HM.has(i)&&(i!=="transform"||!p)&&!d&&!r&&o!=="mirror"&&u!==0&&f!=="inertia"}const KM=40;class YM extends Qp{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){var q;super(),this.stop=()=>{var G,F;this._animation?(this._animation.stop(),(G=this.stopTimeline)==null||G.call(this)):(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=cn.now();const w={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:f,name:p,motionValue:g,element:v,...E},x=(v==null?void 0:v.KeyframeResolver)||Xp;this.keyframeResolver=new x(d,(G,F,X)=>this.onKeyframesResolved(G,F,w,!X),p,g,v),(q=this.keyframeResolver)==null||q.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=cn.now(),qM(t,u,f,d)||((Xi.instantAnimations||!p)&&(v==null||v(Yp(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>KM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},x=!g&&GM(w)?new jM({...w,element:w.motionValue.owner.current}):new PS(w);x.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||xM(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const QM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XM(n){const t=QM.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function qS(n,t,i=1){const[r,o]=XM(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const f=u.trim();return cS(f)?parseFloat(f):f}return qp(o)?qS(o,t,i+1):o}function $p(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const HS=new Set(["width","height","top","left","right","bottom",...so]),$M={test:n=>n==="auto",parse:n=>n},FS=n=>t=>t.test(n),GS=[io,Et,gi,ws,kV,jV,$M],uT=n=>GS.find(FS(n));function ZM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||hS(n):!0}const JM=new Set(["brightness","contrast","saturate","opacity"]);function WM(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Hp)||[];if(!r)return n;const o=i.replace(r,"");let u=JM.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const tI=/\b([a-z-]*)\(.*?\)/gu,Km={...ks,getAnimatableNone:n=>{const t=n.match(tI);return t?t.map(WM).join(" "):n}},cT={...io,transform:Math.round},eI={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:ws,skewX:ws,skewY:ws,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:ql,originX:X_,originY:X_,originZ:Et},Zp={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...eI,zIndex:cT,fillOpacity:ql,strokeOpacity:ql,numOctaves:cT},nI={...Zp,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:Km,WebkitFilter:Km},KS=n=>nI[n];function YS(n,t){let i=KS(n);return i!==Km&&(i=ks),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const iI=new Set(["auto","none","0"]);function sI(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!iI.has(u)&&Hl(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=YS(i,o)}class rI extends Xp{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),qp(g))){const v=qS(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!HS.has(r)||t.length!==2)return;const[o,u]=t,f=uT(o),d=uT(u);if(f!==d)if(rT(f)&&rT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ur[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||ZM(t[o]))&&r.push(o);r.length&&sI(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ur[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,f=r[u];r[u]=Ur[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function aI(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const{schedule:Jp}=SS(queueMicrotask,!1),Gn={x:!1,y:!1};function QS(){return Gn.x||Gn.y}function oI(n){return n==="x"||n==="y"?Gn[n]?null:(Gn[n]=!0,()=>{Gn[n]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}function XS(n,t){const i=aI(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function hT(n){return!(n.pointerType==="touch"||QS())}function lI(n,t,i={}){const[r,o,u]=XS(n,i),f=d=>{if(!hT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{hT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",f,o)}),u}const $S=(n,t)=>t?n===t?!0:$S(n,t.parentElement):!1,Wp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cI(n){return uI.has(n.tagName)||n.tabIndex!==-1}const Sl=new WeakSet;function fT(n){return t=>{t.key==="Enter"&&n(t)}}function nm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hI=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=fT(()=>{if(Sl.has(i))return;nm(i,"down");const o=fT(()=>{nm(i,"up")}),u=()=>nm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function dT(n){return Wp(n)&&!QS()}function fI(n,t,i={}){const[r,o,u]=XS(n,i),f=d=>{const p=d.currentTarget;if(!dT(d)||Sl.has(p))return;Sl.add(p);const g=t(p,d),v=(x,q)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",w),!(!dT(x)||!Sl.has(p))&&(Sl.delete(p),typeof g=="function"&&g(x,{success:q}))},E=x=>{v(x,p===window||p===document||i.useGlobalTarget||$S(p,x.target))},w=x=>{v(x,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",w,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",f,o),d instanceof HTMLElement&&(d.addEventListener("focus",g=>hI(g,o)),!cI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}const mT=30,dI=n=>!isNaN(parseFloat(n));class mI{constructor(t,i={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var f,d;const u=cn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((f=this.events.change)==null||f.notify(this.current)),o&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Bp);const r=this.events[t].add(i);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,mT);return fS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(n,t){return new mI(n,t)}const pI=[...GS,Xe,ks],gI=n=>pI.find(FS(n)),ZS=(n,t)=>t&&typeof n=="number"?t.transform(n):n,JS=dt.createContext({strict:!1}),pT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const n in pT)Wa[n]={isEnabled:t=>pT[n].some(i=>!!t[i])};function yI(n){for(const t in n)Wa[t]={...Wa[t],...n[t]}}const vI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||vI.has(n)}let WS=n=>!oh(n);function _I(n){n&&(WS=t=>t.startsWith("on")?!oh(t):n(t))}try{_I(require("@emotion/is-prop-valid").default)}catch{}function TI(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(WS(o)||i===!0&&oh(o)||!t&&!oh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function EI(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const xh=dt.createContext({});function Vh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Gl(n){return typeof n=="string"||Array.isArray(n)}const tg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eg=["initial",...tg];function Mh(n){return Vh(n.animate)||eg.some(t=>Gl(n[t]))}function t1(n){return!!(Mh(n)||n.variants)}function AI(n,t){if(Mh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Gl(i)?i:void 0,animate:Gl(r)?r:void 0}}return n.inherit!==!1?t:{}}function SI(n){const{initial:t,animate:i}=AI(n,dt.useContext(xh));return dt.useMemo(()=>({initial:t,animate:i}),[gT(t),gT(i)])}function gT(n){return Array.isArray(n)?n.join(" "):n}const bI=Symbol.for("motionComponentSymbol");function ja(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function wI(n,t,i){return dt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):ja(i)&&(i.current=r))},[t])}const ng=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RI="framerAppearId",e1="data-"+ng(RI),n1=dt.createContext({});function CI(n,t,i,r,o){var G,F;const{visualElement:u}=dt.useContext(xh),f=dt.useContext(JS),d=dt.useContext(Op),p=dt.useContext(uS).reducedMotion,g=dt.useRef(null);r=r||f.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=dt.useContext(n1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&DI(g.current,i,o,E);const w=dt.useRef(!1);dt.useInsertionEffect(()=>{v&&w.current&&v.update(i,d)});const x=i[e1],q=dt.useRef(!!x&&!((G=window.MotionHandoffIsComplete)!=null&&G.call(window,x))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,x)));return TV(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Jp.render(v.render),q.current&&v.animationState&&v.animationState.animateChanges())}),dt.useEffect(()=>{v&&(!q.current&&v.animationState&&v.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{var X;(X=window.MotionHandoffMarkAsComplete)==null||X.call(window,x)}),q.current=!1))}),v}function DI(n,t,i,r){const{layoutId:o,layout:u,drag:f,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:i1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||d&&ja(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function i1(n){if(n)return n.options.allowProjection!==!1?n.projection:i1(n.parent)}function xI({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){n&&yI(n);function u(d,p){let g;const v={...dt.useContext(uS),...d,layoutId:VI(d)},{isStatic:E}=v,w=SI(d),x=r(d,E);if(!E&&Ip){MI();const q=II(v);g=q.MeasureLayout,w.visualElement=CI(o,x,v,t,q.ProjectionNode)}return ut.jsxs(xh.Provider,{value:w,children:[g&&w.visualElement?ut.jsx(g,{visualElement:w.visualElement,...v}):null,i(o,d,wI(x,w.visualElement,p),x,E,w.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const f=dt.forwardRef(u);return f[bI]=o,f}function VI({layoutId:n}){const t=dt.useContext(lS).id;return t&&n!==void 0?t+"-"+n:n}function MI(n,t){dt.useContext(JS).strict}function II(n){const{drag:t,layout:i}=Wa;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Kl={};function OI(n){for(const t in n)Kl[t]=n[t],kp(t)&&(Kl[t].isCSSVariable=!0)}function s1(n,{layout:t,layoutId:i}){return ro.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Kl[n]||n==="opacity")}const Je=n=>!!(n&&n.getVelocity),NI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PI=so.length;function LI(n,t,i){let r="",o=!0;for(let u=0;u<PI;u++){const f=so[u],d=n[f];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(f.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=ZS(d,Zp[f]);if(!p){o=!1;const v=NI[f]||f;r+=`${v}(${g}) `}i&&(t[f]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function ig(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let f=!1,d=!1;for(const p in t){const g=t[p];if(ro.has(p)){f=!0;continue}else if(kp(p)){o[p]=g;continue}else{const v=ZS(g,Zp[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(f||i?r.transform=LI(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(n,t,i){for(const r in t)!Je(t[r])&&!s1(r,i)&&(n[r]=t[r])}function UI({transformTemplate:n},t){return dt.useMemo(()=>{const i=sg();return ig(i,t,n),Object.assign({},i.vars,i.style)},[t])}function BI(n,t){const i=n.style||{},r={};return r1(r,i,n),Object.assign(r,UI(n,t)),r}function zI(n,t){const i={},r=BI(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const jI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rg(n){return typeof n!="string"||n.includes("-")?!1:!!(jI.indexOf(n)>-1||/[A-Z]/u.test(n))}const kI={offset:"stroke-dashoffset",array:"stroke-dasharray"},qI={offset:"strokeDashoffset",array:"strokeDasharray"};function HI(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?kI:qI;n[u.offset]=Et.transform(-r);const f=Et.transform(t),d=Et.transform(i);n[u.array]=`${f} ${d}`}function a1(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...d},p,g,v){if(ig(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:w}=n;E.transform&&(w.transform=E.transform,delete E.transform),(w.transform||E.transformOrigin)&&(w.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&HI(E,o,u,f,!1)}const o1=()=>({...sg(),attrs:{}}),l1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function FI(n,t,i,r){const o=dt.useMemo(()=>{const u=o1();return a1(u,t,l1(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};r1(u,n.style,n),o.style={...u,...o.style}}return o}function GI(n=!1){return(i,r,o,{latestValues:u},f)=>{const p=(rg(i)?FI:zI)(r,u,f,i),g=TI(r,typeof i=="string",n),v=i!==dt.Fragment?{...g,...p,ref:o}:{},{children:E}=r,w=dt.useMemo(()=>Je(E)?E.get():E,[E]);return dt.createElement(i,{...v,children:w})}}function yT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function ag(n,t,i,r){if(typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function qc(n){return Je(n)?n.get():n}function KI({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:YI(i,r,o,n),renderState:t()}}const u1=n=>(t,i)=>{const r=dt.useContext(xh),o=dt.useContext(Op),u=()=>KI(n,t,r,o);return i?u():_V(u)};function YI(n,t,i,r){const o={},u=r(n,{});for(const w in u)o[w]=qc(u[w]);let{initial:f,animate:d}=n;const p=Mh(n),g=t1(n);t&&g&&!p&&n.inherit!==!1&&(f===void 0&&(f=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||f===!1;const E=v?d:f;if(E&&typeof E!="boolean"&&!Vh(E)){const w=Array.isArray(E)?E:[E];for(let x=0;x<w.length;x++){const q=ag(n,w[x]);if(q){const{transitionEnd:G,transition:F,...X}=q;for(const rt in X){let $=X[rt];if(Array.isArray($)){const et=v?$.length-1:0;$=$[et]}$!==null&&(o[rt]=$)}for(const rt in G)o[rt]=G[rt]}}}return o}function og(n,t,i){var u;const{style:r}=n,o={};for(const f in r)(Je(r[f])||t.style&&Je(t.style[f])||s1(f,n)||((u=i==null?void 0:i.getValue(f))==null?void 0:u.liveStyle)!==void 0)&&(o[f]=r[f]);return o}const QI={useVisualState:u1({scrapeMotionValuesFromProps:og,createRenderState:sg})};function c1(n,t,i){const r=og(n,t,i);for(const o in n)if(Je(n[o])||Je(t[o])){const u=so.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const XI={useVisualState:u1({scrapeMotionValuesFromProps:c1,createRenderState:o1})};function $I(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const f={...rg(r)?XI:QI,preloadedFeatures:n,useRender:GI(o),createVisualElement:t,Component:r};return xI(f)}}function Yl(n,t,i){const r=n.getProps();return ag(r,t,i!==void 0?i:r.custom,n)}const Ym=n=>Array.isArray(n);function ZI(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Fl(i))}function JI(n){return Ym(n)?n[n.length-1]||0:n}function WI(n,t){const i=Yl(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const f in u){const d=JI(u[f]);ZI(n,f,d)}}function t4(n){return!!(Je(n)&&n.add)}function Qm(n,t){const i=n.getValue("willChange");if(t4(i))return i.add(t);if(!i&&Xi.WillChange){const r=new Xi.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function h1(n){return n.props[e1]}const e4=n=>n!==null;function n4(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(e4),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const i4={type:"spring",stiffness:500,damping:25,restSpeed:10},s4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),r4={type:"keyframes",duration:.8},a4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o4=(n,{keyframes:t})=>t.length>2?r4:ro.has(n)?n.startsWith("scale")?s4(t[1]):i4:a4;function l4({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const lg=(n,t,i,r={},o,u)=>f=>{const d=$p(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-mi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:w=>{t.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{f(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};l4(d)||Object.assign(v,o4(n,v)),v.duration&&(v.duration=mi(v.duration)),v.repeatDelay&&(v.repeatDelay=mi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(E=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const w=n4(v.keyframes,d);if(w!==void 0){ae.update(()=>{v.onUpdate(w),v.onComplete()});return}}return new YM(v)};function u4({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function f1(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:f,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),w=d[v];if(w===void 0||g&&u4(g,v))continue;const x={delay:i,...$p(u||{},v)},q=E.get();if(q!==void 0&&!E.isAnimating&&!Array.isArray(w)&&w===q&&!x.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const X=h1(n);if(X){const rt=window.MotionHandoffAnimation(X,v,ae);rt!==null&&(x.startTime=rt,G=!0)}}Qm(n,v),E.start(lg(v,E,w,n.shouldReduceMotion&&HS.has(v)?{type:!1}:x,n,G));const F=E.animation;F&&p.push(F)}return f&&Promise.all(p).then(()=>{ae.update(()=>{f&&WI(n,f)})}),p}function Xm(n,t,i={}){var p;const r=Yl(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(f1(n,r,i)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:w}=o;return c4(n,t,v+g,E,w,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,v]=d==="beforeChildren"?[u,f]:[f,u];return g().then(()=>v())}else return Promise.all([u(),f(i.delay)])}function c4(n,t,i=0,r=0,o=1,u){const f=[],d=(n.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(h4).forEach((g,v)=>{g.notify("AnimationStart",t),f.push(Xm(g,t,{...u,delay:i+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(f)}function h4(n,t){return n.sortNodePosition(t)}function f4(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Xm(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Xm(n,t,i);else{const o=typeof t=="function"?Yl(n,t,i.custom):t;r=Promise.all(f1(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function d1(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const d4=eg.length;function m1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?m1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<d4;i++){const r=eg[i],o=n.props[r];(Gl(o)||o===!1)&&(t[r]=o)}return t}const m4=[...tg].reverse(),p4=tg.length;function g4(n){return t=>Promise.all(t.map(({animation:i,options:r})=>f4(n,i,r)))}function y4(n){let t=g4(n),i=vT(),r=!0;const o=p=>(g,v)=>{var w;const E=Yl(n,v,p==="exit"?(w=n.presenceContext)==null?void 0:w.custom:void 0);if(E){const{transition:x,transitionEnd:q,...G}=E;g={...g,...G,...q}}return g};function u(p){t=p(n)}function f(p){const{props:g}=n,v=m1(n.parent)||{},E=[],w=new Set;let x={},q=1/0;for(let F=0;F<p4;F++){const X=m4[F],rt=i[X],$=g[X]!==void 0?g[X]:v[X],et=Gl($),W=X===p?rt.isActive:null;W===!1&&(q=F);let it=$===v[X]&&$!==g[X]&&et;if(it&&r&&n.manuallyAnimateOnMount&&(it=!1),rt.protectedKeys={...x},!rt.isActive&&W===null||!$&&!rt.prevProp||Vh($)||typeof $=="boolean")continue;const D=v4(rt.prevProp,$);let b=D||X===p&&rt.isActive&&!it&&et||F>q&&et,R=!1;const M=Array.isArray($)?$:[$];let O=M.reduce(o(X),{});W===!1&&(O={});const{prevResolvedValues:L={}}=rt,V={...L,...O},ye=nt=>{b=!0,w.has(nt)&&(R=!0,w.delete(nt)),rt.needsAnimating[nt]=!0;const ht=n.getValue(nt);ht&&(ht.liveStyle=!1)};for(const nt in V){const ht=O[nt],It=L[nt];if(x.hasOwnProperty(nt))continue;let I=!1;Ym(ht)&&Ym(It)?I=!d1(ht,It):I=ht!==It,I?ht!=null?ye(nt):w.add(nt):ht!==void 0&&w.has(nt)?ye(nt):rt.protectedKeys[nt]=!0}rt.prevProp=$,rt.prevResolvedValues=O,rt.isActive&&(x={...x,...O}),r&&n.blockInitialAnimation&&(b=!1),b&&(!(it&&D)||R)&&E.push(...M.map(nt=>({animation:nt,options:{type:X}})))}if(w.size){const F={};if(typeof g.initial!="boolean"){const X=Yl(n,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(F.transition=X.transition)}w.forEach(X=>{const rt=n.getBaseTarget(X),$=n.getValue(X);$&&($.liveStyle=!0),F[X]=rt??null}),E.push({animation:F})}let G=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(G=!1),r=!1,G?t(E):Promise.resolve()}function d(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(w=>{var x;return(x=w.animationState)==null?void 0:x.setActive(p,g)}),i[p].isActive=g;const v=f(p);for(const w in i)i[w].protectedKeys={};return v}return{animateChanges:f,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=vT(),r=!0}}}function v4(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!d1(t,n):!1}function Cr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vT(){return{animate:Cr(!0),whileInView:Cr(),whileHover:Cr(),whileTap:Cr(),whileDrag:Cr(),whileFocus:Cr(),exit:Cr()}}class Hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class _4 extends Hs{constructor(t){super(t),t.animationState||(t.animationState=y4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let T4=0;class E4 extends Hs{constructor(){super(...arguments),this.id=T4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A4={animation:{Feature:_4},exit:{Feature:E4}};function Ql(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function iu(n){return{point:{x:n.pageX,y:n.pageY}}}const S4=n=>t=>Wp(t)&&n(t,iu(t));function Ml(n,t,i,r){return Ql(n,t,S4(i),r)}function p1({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function b4({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function w4(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const g1=1e-4,R4=1-g1,C4=1+g1,y1=.01,D4=0-y1,x4=0+y1;function rn(n){return n.max-n.min}function V4(n,t,i){return Math.abs(n-t)<=i}function _T(n,t,i,r=.5){n.origin=r,n.originPoint=se(t.min,t.max,n.origin),n.scale=rn(i)/rn(t),n.translate=se(i.min,i.max,n.origin)-n.originPoint,(n.scale>=R4&&n.scale<=C4||isNaN(n.scale))&&(n.scale=1),(n.translate>=D4&&n.translate<=x4||isNaN(n.translate))&&(n.translate=0)}function Il(n,t,i,r){_T(n.x,t.x,i.x,r?r.originX:void 0),_T(n.y,t.y,i.y,r?r.originY:void 0)}function TT(n,t,i){n.min=i.min+t.min,n.max=n.min+rn(t)}function M4(n,t,i){TT(n.x,t.x,i.x),TT(n.y,t.y,i.y)}function ET(n,t,i){n.min=t.min-i.min,n.max=n.min+rn(t)}function Ol(n,t,i){ET(n.x,t.x,i.x),ET(n.y,t.y,i.y)}const AT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:AT(),y:AT()}),ST=()=>({min:0,max:0}),me=()=>({x:ST(),y:ST()});function Un(n){return[n("x"),n("y")]}function im(n){return n===void 0||n===1}function $m({scale:n,scaleX:t,scaleY:i}){return!im(n)||!im(t)||!im(i)}function xr(n){return $m(n)||v1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function v1(n){return bT(n.x)||bT(n.y)}function bT(n){return n&&n!=="0%"}function lh(n,t,i){const r=n-i,o=t*r;return i+o}function wT(n,t,i,r,o){return o!==void 0&&(n=lh(n,o,r)),lh(n,i,r)+t}function Zm(n,t=0,i=1,r,o){n.min=wT(n.min,t,i,r,o),n.max=wT(n.max,t,i,r,o)}function _1(n,{x:t,y:i}){Zm(n.x,t.translate,t.scale,t.originPoint),Zm(n.y,i.translate,i.scale,i.originPoint)}const RT=.999999999999,CT=1.0000000000001;function I4(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,f;for(let d=0;d<o;d++){u=i[d],f=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ha(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,_1(n,f)),r&&xr(u.latestValues)&&Ha(n,u.latestValues))}t.x<CT&&t.x>RT&&(t.x=1),t.y<CT&&t.y>RT&&(t.y=1)}function qa(n,t){n.min=n.min+t,n.max=n.max+t}function DT(n,t,i,r,o=.5){const u=se(n.min,n.max,o);Zm(n,t,i,u,r)}function Ha(n,t){DT(n.x,t.x,t.scaleX,t.scale,t.originX),DT(n.y,t.y,t.scaleY,t.scale,t.originY)}function T1(n,t){return p1(w4(n.getBoundingClientRect(),t))}function O4(n,t,i){const r=T1(n,i),{scroll:o}=t;return o&&(qa(r.x,o.offset.x),qa(r.y,o.offset.y)),r}const E1=({current:n})=>n?n.ownerDocument.defaultView:null,xT=(n,t)=>Math.abs(n-t);function N4(n,t){const i=xT(n.x,t.x),r=xT(n.y,t.y);return Math.sqrt(i**2+r**2)}class A1{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=rm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=N4(E.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:q}=E,{timestamp:G}=qe;this.history.push({...q,timestamp:G});const{onStart:F,onMove:X}=this.handlers;w||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,E)},this.handlePointerMove=(E,w)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=sm(w,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(E,w)=>{this.end();const{onEnd:x,onSessionEnd:q,resumeAnimation:G}=this.handlers;if(this.dragSnapToOrigin&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=rm(E.type==="pointercancel"?this.lastMoveEventInfo:sm(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(E,F),q&&q(E,F)},!Wp(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const f=iu(t),d=sm(f,this.transformPagePoint),{point:p}=d,{timestamp:g}=qe;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,rm(d,this.history)),this.removeListeners=tu(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function sm(n,t){return t?{point:t(n.point)}:n}function VT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function rm({point:n},t){return{point:n,delta:VT(n,S1(t)),offset:VT(n,P4(t)),velocity:L4(t,.1)}}function P4(n){return n[0]}function S1(n){return n[n.length-1]}function L4(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=S1(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>mi(t)));)i--;if(!r)return{x:0,y:0};const u=pi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function U4(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?se(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?se(i,n,r.max):Math.min(n,i)),n}function MT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function B4(n,{top:t,left:i,bottom:r,right:o}){return{x:MT(n.x,i,o),y:MT(n.y,t,r)}}function IT(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function z4(n,t){return{x:IT(n.x,t.x),y:IT(n.y,t.y)}}function j4(n,t){let i=.5;const r=rn(n),o=rn(t);return o>r?i=kl(t.min,t.max-r,n.min):r>o&&(i=kl(n.min,n.max-o,t.min)),Qi(0,1,i)}function k4(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Jm=.35;function q4(n=Jm){return n===!1?n=0:n===!0&&(n=Jm),{x:OT(n,"left","right"),y:OT(n,"top","bottom")}}function OT(n,t,i){return{min:NT(n,t),max:NT(n,i)}}function NT(n,t){return typeof n=="number"?n:n[t]||0}const H4=new WeakMap;class F4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(iu(v).point)},u=(v,E)=>{const{drag:w,dragPropagation:x,onDragStart:q}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oI(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(F=>{let X=this.getAxisMotionValue(F).get()||0;if(gi.test(X)){const{projection:rt}=this.visualElement;if(rt&&rt.layout){const $=rt.layout.layoutBox[F];$&&(X=rn($)*(parseFloat(X)/100))}}this.originPoint[F]=X}),q&&ae.postRender(()=>q(v,E)),Qm(this.visualElement,"transform");const{animationState:G}=this.visualElement;G&&G.setActive("whileDrag",!0)},f=(v,E)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:q,onDrag:G}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:F}=E;if(x&&this.currentDirection===null){this.currentDirection=G4(F),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),G&&G(v,E)},d=(v,E)=>this.stop(v,E),p=()=>Un(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new A1(t,{onSessionStart:o,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:E1(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&ae.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Pc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(f=U4(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&ja(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=B4(r.layoutBox,t):this.constraints=!1,this.elastic=q4(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Un(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=k4(r.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ja(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=O4(r,o.root,this.visualElement.getTransformPagePoint());let f=z4(o.layout.layoutBox,u);if(i){const d=i(b4(f));this.hasMutatedConstraints=!!d,d&&(f=p1(d))}return f}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Un(v=>{if(!Pc(v,i,this.currentDirection))return;let E=p&&p[v]||{};f&&(E={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,q={type:"inertia",velocity:r?t[v]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,q)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Qm(this.visualElement,t),r.start(lg(t,r,0,i,this.visualElement,!1))}stopAnimation(){Un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Un(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Un(i=>{const{drag:r}=this.getProps();if(!Pc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:f,max:d}=o.layout.layoutBox[i];u.set(t[i]-se(f,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ja(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Un(f=>{const d=this.getAxisMotionValue(f);if(d&&this.constraints!==!1){const p=d.get();o[f]=j4({min:p,max:p},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(f=>{if(!Pc(f,t,null))return;const d=this.getAxisMotionValue(f),{min:p,max:g}=this.constraints[f];d.set(se(p,g,o[f]))})}addListeners(){if(!this.visualElement.current)return;H4.set(this.visualElement,this);const t=this.visualElement.current,i=Ml(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();ja(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const f=Ql(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Un(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{f(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=Jm,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:d}}}function Pc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function G4(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class K4 extends Hs{constructor(t){super(t),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new F4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const PT=n=>(t,i)=>{n&&ae.postRender(()=>n(t,i))};class Y4 extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(t){this.session=new A1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:PT(t),onStart:PT(i),onMove:r,onEnd:(u,f)=>{delete this.session,o&&ae.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const yl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Et.test(n))n=parseFloat(n);else return n;const i=LT(n,t.target.x),r=LT(n,t.target.y);return`${i}% ${r}%`}},Q4={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=ks.parse(n);if(o.length>5)return r;const u=ks.createTransformer(n),f=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+f]/=d,o[1+f]/=p;const g=se(d,p,.5);return typeof o[2+f]=="number"&&(o[2+f]/=g),typeof o[3+f]=="number"&&(o[3+f]/=g),u(o)}};class X4 extends dt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;OI($4),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:f}=r;return f&&(f.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||ae.postRender(()=>{const d=f.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Jp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function b1(n){const[t,i]=EV(),r=dt.useContext(lS);return ut.jsx(X4,{...n,layoutGroup:r,switchLayoutGroup:dt.useContext(n1),isPresent:t,safeToRemove:i})}const $4={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:Q4};function Z4(n,t,i){const r=Je(n)?n:Fl(n);return r.start(lg("",r,t,i)),r.animation}function J4(n){return n instanceof SVGElement&&n.tagName!=="svg"}const W4=(n,t)=>n.depth-t.depth;class tO{constructor(){this.children=[],this.isDirty=!1}add(t){Np(this.children,t),this.isDirty=!0}remove(t){Pp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W4),this.isDirty=!1,this.children.forEach(t)}}function eO(n,t){const i=cn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(js(r),n(u-t))};return ae.setup(r,!0),()=>js(r)}const w1=["TopLeft","TopRight","BottomLeft","BottomRight"],nO=w1.length,UT=n=>typeof n=="string"?parseFloat(n):n,BT=n=>typeof n=="number"||Et.test(n);function iO(n,t,i,r,o,u){o?(n.opacity=se(0,i.opacity??1,sO(r)),n.opacityExit=se(t.opacity??1,0,rO(r))):u&&(n.opacity=se(t.opacity??1,i.opacity??1,r));for(let f=0;f<nO;f++){const d=`border${w1[f]}Radius`;let p=zT(t,d),g=zT(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||BT(p)===BT(g)?(n[d]=Math.max(se(UT(p),UT(g),r),0),(gi.test(g)||gi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=se(t.rotate||0,i.rotate||0,r))}function zT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const sO=R1(0,.5,_S),rO=R1(.5,.95,Bn);function R1(n,t,i){return r=>r<n?0:r>t?1:i(kl(n,t,r))}function jT(n,t){n.min=t.min,n.max=t.max}function Ln(n,t){jT(n.x,t.x),jT(n.y,t.y)}function kT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function qT(n,t,i,r,o){return n-=t,n=lh(n,1/i,r),o!==void 0&&(n=lh(n,1/o,r)),n}function aO(n,t=0,i=1,r=.5,o,u=n,f=n){if(gi.test(t)&&(t=parseFloat(t),t=se(f.min,f.max,t/100)-f.min),typeof t!="number")return;let d=se(u.min,u.max,r);n===u&&(d-=t),n.min=qT(n.min,t,i,d,o),n.max=qT(n.max,t,i,d,o)}function HT(n,t,[i,r,o],u,f){aO(n,t[i],t[r],t[o],t.scale,u,f)}const oO=["x","scaleX","originX"],lO=["y","scaleY","originY"];function FT(n,t,i,r){HT(n.x,t,oO,i?i.x:void 0,r?r.x:void 0),HT(n.y,t,lO,i?i.y:void 0,r?r.y:void 0)}function GT(n){return n.translate===0&&n.scale===1}function C1(n){return GT(n.x)&&GT(n.y)}function KT(n,t){return n.min===t.min&&n.max===t.max}function uO(n,t){return KT(n.x,t.x)&&KT(n.y,t.y)}function YT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function D1(n,t){return YT(n.x,t.x)&&YT(n.y,t.y)}function QT(n){return rn(n.x)/rn(n.y)}function XT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class cO{constructor(){this.members=[]}add(t){Np(this.members,t),t.scheduleRender()}remove(t){if(Pp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hO(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,f=(i==null?void 0:i.z)||0;if((o||u||f)&&(r=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:w,skewX:x,skewY:q}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),w&&(r+=`rotateY(${w}deg) `),x&&(r+=`skewX(${x}deg) `),q&&(r+=`skewY(${q}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const am=["","X","Y","Z"],fO={visibility:"hidden"},$T=1e3;let dO=0;function om(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function x1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=h1(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&x1(r)}function V1({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(f={},d=t==null?void 0:t()){this.id=dO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gO),this.nodes.forEach(EO),this.nodes.forEach(AO),this.nodes.forEach(yO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new tO)}addEventListener(f,d){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Bp),this.eventHandlers.get(f).add(d)}notifyListeners(f,...d){const p=this.eventHandlers.get(f);p&&p.notify(...d)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=J4(f),this.instance=f;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const E=()=>this.root.updateBlockedByResize=!1;n(f,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=eO(E,250),Hc.hasAnimatedSinceResize&&(Hc.hasAnimatedSinceResize=!1,this.nodes.forEach(JT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const q=this.options.transition||g.getDefaultTransition()||CO,{onLayoutAnimationStart:G,onLayoutAnimationComplete:F}=g.getProps(),X=!this.targetLayout||!D1(this.targetLayout,x),rt=!E&&w;if(this.options.layoutRoot||this.resumeFrom||rt||E&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,rt);const $={...$p(q,"layout"),onPlay:G,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else E||JT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SO),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}this.isUpdating||this.nodes.forEach(_O),this.isUpdating=!1,this.nodes.forEach(TO),this.nodes.forEach(mO),this.nodes.forEach(pO),this.clearAllSnapshots();const d=cn.now();qe.delta=Qi(0,1e3/60,d-qe.timestamp),qe.timestamp=d,qe.isProcessing=!0,Jd.update.process(qe),Jd.preRender.process(qe),Jd.render.process(qe),qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vO),this.sharedNodes.forEach(bO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!C1(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;f&&this.instance&&(d||xr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return f&&(p=this.removeTransform(p)),DO(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:f}=this.options;if(!f)return me();const d=f.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(xO))){const{scroll:v}=this.root;v&&(qa(d.x,v.offset.x),qa(d.y,v.offset.y))}return d}removeElementScroll(f){var p;const d=me();if(Ln(d,f),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:w}=v;v!==this.root&&E&&w.layoutScroll&&(E.wasRoot&&Ln(d,f),qa(d.x,E.offset.x),qa(d.y,E.offset.y))}return d}applyTransform(f,d=!1){const p=me();Ln(p,f);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ha(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),xr(v.latestValues)&&Ha(p,v.latestValues)}return xr(this.latestValues)&&Ha(p,this.latestValues),p}removeTransform(f){const d=me();Ln(d,f);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!xr(g.latestValues))continue;$m(g.latestValues)&&g.updateSnapshot();const v=me(),E=g.measurePageBox();Ln(v,E),FT(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return xr(this.latestValues)&&FT(d,this.latestValues),d}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var w;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=qe.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Ol(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),_1(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Ol(this.relativeTargetOrigin,this.target,x.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$m(this.parent.latestValues)||v1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var q;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||(q=this.parent)!=null&&q.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===qe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ln(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,w=this.treeScale.y;I4(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=me());const{target:x}=f;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),Il(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==w||!XT(this.projectionDelta.x,this.prevProjectionDelta.x)||!XT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),f){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(f,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=me(),x=p?p.source:void 0,q=this.layout?this.layout.source:void 0,G=x!==q,F=this.getStack(),X=!F||F.members.length<=1,rt=!!(G&&!X&&this.options.crossfade===!0&&!this.path.some(RO));this.animationProgress=0;let $;this.mixTargetDelta=et=>{const W=et/1e3;WT(E.x,f.x,W),WT(E.y,f.y,W),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ol(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wO(this.relativeTarget,this.relativeTargetOrigin,w,W),$&&uO(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=me()),Ln($,this.relativeTarget)),G&&(this.animationValues=v,iO(v,g,this.latestValues,W,rt,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Hc.hasAnimatedSinceResize=!0,this.currentAnimation=Z4(0,$T,{...f,onUpdate:d=>{this.mixTargetDelta(d),f.onUpdate&&f.onUpdate(d)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=f;if(!(!d||!p||!g)){if(this!==f&&this.layout&&g&&M1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||me();const E=rn(this.layout.layoutBox.x);p.x.min=f.target.x.min,p.x.max=p.x.min+E;const w=rn(this.layout.layoutBox.y);p.y.min=f.target.y.min,p.y.max=p.y.min+w}Ln(d,p),Ha(d,v),Il(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(f,d){this.sharedNodes.has(f)||this.sharedNodes.set(f,new cO),this.sharedNodes.get(f).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var d;const{layoutId:f}=this.options;return f?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:f}=this.options;return f?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),f&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let d=!1;const{latestValues:p}=f;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&om("z",f,g,this.animationValues);for(let v=0;v<am.length;v++)om(`rotate${am[v]}`,f,g,this.animationValues),om(`skew${am[v]}`,f,g,this.animationValues);f.render();for(const v in g)f.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);f.scheduleRender()}getProjectionStyles(f){if(!this.instance||this.isSVG)return;if(!this.isVisible)return fO;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=qc(f==null?void 0:f.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=qc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!xr(this.latestValues)&&(x.transform=p?p({},""):"none",this.hasProjected=!1),x}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=hO(this.projectionDeltaWithTransform,this.treeScale,v),p&&(d.transform=p(v,d.transform));const{x:E,y:w}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const x in Kl){if(v[x]===void 0)continue;const{correct:q,applyTo:G,isCSSVariable:F}=Kl[x],X=d.transform==="none"?v[x]:q(v[x],g);if(G){const rt=G.length;for(let $=0;$<rt;$++)d[G[$]]=X}else F?this.options.visualElement.renderState.vars[x]=X:d[x]=X}return this.options.layoutId&&(d.pointerEvents=g===this?qc(f==null?void 0:f.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var d;return(d=f.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function mO(n){n.updateLayout()}function pO(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,f=t.source!==n.layout.source;u==="size"?Un(E=>{const w=f?t.measuredBox[E]:t.layoutBox[E],x=rn(w);w.min=r[E].min,w.max=w.min+x}):M1(u,t.layoutBox,r)&&Un(E=>{const w=f?t.measuredBox[E]:t.layoutBox[E],x=rn(r[E]);w.max=w.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+x)});const d=ka();Il(d,r,t.layoutBox);const p=ka();f?Il(p,n.applyTransform(o,!0),t.measuredBox):Il(p,r,t.layoutBox);const g=!C1(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:w,layout:x}=E;if(w&&x){const q=me();Ol(q,t.layoutBox,w.layoutBox);const G=me();Ol(G,r,x.layoutBox),D1(q,G)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=G,n.relativeTargetOrigin=q,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function gO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function yO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function vO(n){n.clearSnapshot()}function ZT(n){n.clearMeasurements()}function _O(n){n.isLayoutDirty=!1}function TO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function JT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function EO(n){n.resolveTargetDelta()}function AO(n){n.calcProjection()}function SO(n){n.resetSkewAndRotation()}function bO(n){n.removeLeadSnapshot()}function WT(n,t,i){n.translate=se(t.translate,0,i),n.scale=se(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function tE(n,t,i,r){n.min=se(t.min,i.min,r),n.max=se(t.max,i.max,r)}function wO(n,t,i,r){tE(n.x,t.x,i.x,r),tE(n.y,t.y,i.y,r)}function RO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const CO={duration:.45,ease:[.4,0,.1,1]},eE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),nE=eE("applewebkit/")&&!eE("chrome/")?Math.round:Bn;function iE(n){n.min=nE(n.min),n.max=nE(n.max)}function DO(n){iE(n.x),iE(n.y)}function M1(n,t,i){return n==="position"||n==="preserve-aspect"&&!V4(QT(t),QT(i),.2)}function xO(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const VO=V1({attachResizeListener:(n,t)=>Ql(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lm={current:void 0},I1=V1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!lm.current){const n=new VO({});n.mount(window),n.setOptions({layoutScroll:!0}),lm.current=n}return lm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MO={pan:{Feature:Y4},drag:{Feature:K4,ProjectionNode:I1,MeasureLayout:b1}};function sE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ae.postRender(()=>u(t,iu(t)))}class IO extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=lI(t,(i,r)=>(sE(this.node,r,"Start"),o=>sE(this.node,o,"End"))))}unmount(){}}class OO extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tu(Ql(this.node.current,"focus",()=>this.onFocus()),Ql(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ae.postRender(()=>u(t,iu(t)))}class NO extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=fI(t,(i,r)=>(rE(this.node,r,"Start"),(o,{success:u})=>rE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wm=new WeakMap,um=new WeakMap,PO=n=>{const t=Wm.get(n.target);t&&t(n)},LO=n=>{n.forEach(PO)};function UO({root:n,...t}){const i=n||document;um.has(i)||um.set(i,{});const r=um.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(LO,{root:n,...t})),r[o]}function BO(n,t,i){const r=UO(t);return Wm.set(n,i),r.observe(n),()=>{Wm.delete(n),r.unobserve(n)}}const zO={some:0,all:1};class jO extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,f={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:zO[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),w=g?v:E;w&&w(p)};return BO(this.node.current,f,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(kO(t,i))&&this.startObserver()}unmount(){}}function kO({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const qO={inView:{Feature:jO},tap:{Feature:NO},focus:{Feature:OO},hover:{Feature:IO}},HO={layout:{ProjectionNode:I1,MeasureLayout:b1}},tp={current:null},O1={current:!1};function FO(){if(O1.current=!0,!!Ip)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>tp.current=n.matches;n.addListener(t),t()}else tp.current=!1}const GO=new WeakMap;function KO(n,t,i){for(const r in t){const o=t[r],u=i[r];if(Je(o))n.addValue(r,o);else if(Je(u))n.addValue(r,Fl(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const f=n.getValue(r);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=n.getStaticValue(r);n.addValue(r,Fl(f!==void 0?f:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const aE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YO{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=cn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Mh(i),this.isVariantNode=t1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const w in E){const x=E[w];p[w]!==void 0&&Je(x)&&x.set(p[w],!1)}}mount(t){this.current=t,GO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),O1.current||FO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ro.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wa){const i=Wa[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<aE.length;r++){const o=aE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=KO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Fl(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cS(r)||hS(r))?r=parseFloat(r):!gI(r)&&ks.test(i)&&(r=YS(t,i)),this.setBaseTarget(t,Je(r)?r.get():r)),Je(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const f=ag(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);f&&(r=f[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Je(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Bp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class N1 extends YO{constructor(){super(...arguments),this.KeyframeResolver=rI}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Je(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function P1(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const u in i)n.style.setProperty(u,i[u])}function QO(n){return window.getComputedStyle(n)}class XO extends N1{constructor(){super(...arguments),this.type="html",this.renderInstance=P1}readValueFromInstance(t,i){if(ro.has(i))return bM(t,i);{const r=QO(t),o=(kp(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return T1(t,i)}build(t,i,r){ig(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return og(t,i,r)}}const L1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $O(n,t,i,r){P1(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(L1.has(o)?o:ng(o),t.attrs[o])}class ZO extends N1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=me}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ro.has(i)){const r=KS(i);return r&&r.default||0}return i=L1.has(i)?i:ng(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return c1(t,i,r)}build(t,i,r){a1(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){$O(t,i,r,o)}mount(t){this.isSVGTag=l1(t.tagName),super.mount(t)}}const JO=(n,t)=>rg(n)?new ZO(t):new XO(t,{allowProjection:n!==dt.Fragment}),WO=$I({...A4,...qO,...MO,...HO},JO),uh=EI(WO),oE=({vinyl:n,artistName:t,genreName:i})=>{const r=n["release-date"]?n["release-date"].split("-"):[];return ut.jsxs(uh.div,{layout:!0,className:`bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex ${n.expanded?"flex-row":"flex-col"} ${n.expanded?"h-full":""}`,style:{fontFamily:"Roboto Condensed, sans-serif"},children:[ut.jsx("div",{className:`aspect-square ${n.expanded?"w-1/2":"w-full"} overflow-hidden`,children:ut.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),ut.jsx("div",{className:`p-4 ${n.expanded?"w-1/2":"w-full"} flex flex-col text-gray-800`,children:n.expanded?ut.jsxs(ut.Fragment,{children:[ut.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),ut.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),ut.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripción no disponible."}),ut.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[ut.jsxs("p",{children:[ut.jsx("strong",{children:"Género:"})," ",i||"Género no disponible"]}),ut.jsxs("p",{children:[ut.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",r.length===3?`${r[0]}/${r[1]}/${r[2]}`:"Fecha no disponible"]})]})]}):ut.jsxs(ut.Fragment,{children:[ut.jsx("h3",{className:"text-xl font-semibold",children:n.name}),ut.jsx("p",{className:"text-sm mt-2",children:t||"Cargando artista..."}),ut.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[i||"Cargando género..."," · ",r[2]||"Fecha no disponible"]})]})})]})},tN=({searchTerm:n="",selectedGenreId:t="",sortOption:i="name",sortOrder:r="asc"})=>{const[o,u]=dt.useState([]),[f,d]=dt.useState({}),[p,g]=dt.useState({}),[v,E]=dt.useState(!0),[w,x]=dt.useState(null),[q,G]=dt.useState(4);if(dt.useEffect(()=>{const et=()=>{const W=window.innerWidth;W<640?G(1):W<768?G(2):W<1024?G(3):G(4)};return et(),window.addEventListener("resize",et),()=>window.removeEventListener("resize",et)},[]),dt.useEffect(()=>{const et=async(it,D)=>{try{if(!f[it]){const b=await eh(Wc(Ir,"artist",it));b.exists()&&d(R=>({...R,[it]:b.data().name}))}if(!p[D]){const b=await eh(Wc(Ir,"genere",D));b.exists()&&g(R=>({...R,[D]:b.data().name}))}}catch(b){console.error("Error al obtener datos de artista o género:",b)}};(async()=>{try{const it=Om(Ir,"vinyl"),b=(await Nm(it)).docs.map(R=>R.data());b.forEach(R=>{const{"artist-id":M,"genre-id":O}=R;M&&O&&et(M,O)}),u(b),E(!1)}catch(it){console.error("Error al obtener vinilos:",it)}})()},[]),v)return ut.jsx("div",{className:"text-center mt-10 text-lg",children:"Cargando vinilos..."});const F=et=>{const[W,it,D]=et.split("-").map(Number);return{year:D,month:it,day:W}},rt=o.filter(et=>{var M,O;const W=((M=f[et["artist-id"]])==null?void 0:M.toLowerCase())||"",it=((O=et.name)==null?void 0:O.toLowerCase())||"",D=et["genre-id"];return(it.includes(n.toLowerCase())||W.includes(n.toLowerCase()))&&(!t||D===t)}).sort((et,W)=>{var b,R;let it="",D="";switch(i){case"year":const M=F(et["release-date"]),O=F(W["release-date"]);return M.year!==O.year?r==="asc"?M.year-O.year:O.year-M.year:M.month!==O.month?r==="asc"?M.month-O.month:O.month-M.month:r==="asc"?M.day-O.day:O.day-M.day;case"name":it=et.name.toLowerCase(),D=W.name.toLowerCase();break;case"artist":it=((b=f[et["artist-id"]])==null?void 0:b.toLowerCase())||"",D=((R=f[W["artist-id"]])==null?void 0:R.toLowerCase())||"";break}return r==="asc"?it<D?-1:it>D?1:0:it>D?-1:it<D?1:0}),$=[];for(let et=0;et<rt.length;et+=q){const W=rt.slice(et,et+q);if(w!==null&&w>=et&&w<et+q){const it=rt[w];$.push(ut.jsx(uh.div,{layout:!0,className:"col-span-full",onClick:()=>x(null),children:ut.jsx(oE,{vinyl:{...it,expanded:!0},artistName:f[it["artist-id"]],genreName:p[it["genre-id"]]})},"expanded-"+w))}W.forEach((it,D)=>{const b=et+D;b!==w&&$.push(ut.jsx(uh.div,{layout:!0,onClick:()=>x(b),children:ut.jsx(oE,{vinyl:{...it,expanded:!1},artistName:f[it["artist-id"]],genreName:p[it["genre-id"]]})},b))})}return ut.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:$})};var U1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lE=Pr.createContext&&Pr.createContext(U1),eN=["attr","size","title"];function nN(n,t){if(n==null)return{};var i=iN(n,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function iN(n,t){if(n==null)return{};var i={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;i[r]=n[r]}return i}function ch(){return ch=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},ch.apply(this,arguments)}function uE(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,r)}return i}function hh(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(i),!0).forEach(function(r){sN(n,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):uE(Object(i)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))})}return n}function sN(n,t,i){return t=rN(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function rN(n){var t=aN(n,"string");return typeof t=="symbol"?t:t+""}function aN(n,t){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var r=i.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function B1(n){return n&&n.map((t,i)=>Pr.createElement(t.tag,hh({key:i},t.attr),B1(t.child)))}function Ih(n){return t=>Pr.createElement(oN,ch({attr:hh({},n.attr)},t),B1(n.child))}function oN(n){var t=i=>{var{attr:r,size:o,title:u}=n,f=nN(n,eN),d=o||i.size||"1em",p;return i.className&&(p=i.className),n.className&&(p=(p?p+" ":"")+n.className),Pr.createElement("svg",ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,f,{className:p,style:hh(hh({color:n.color||i.color},i.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&Pr.createElement("title",null,u),n.children)};return lE!==void 0?Pr.createElement(lE.Consumer,null,i=>t(i)):t(U1)}function lN(n){return Ih({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function uN(n){return Ih({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function cN(n){return Ih({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function hN(n){return Ih({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}const fN=({vinyl:n,artistName:t,genreName:i,onClose:r})=>{const o=n["release-date"]?n["release-date"].split("-"):[];return ut.jsxs(uh.div,{layout:!0,className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-row h-full",style:{fontFamily:"Roboto Condensed, sans-serif"},children:[ut.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white bg-gray-800 rounded-full p-2",children:ut.jsx(hN,{})}),ut.jsx("div",{className:"aspect-square w-1/2 overflow-hidden",children:ut.jsx("img",{src:n.coverImageUrl,alt:`${n.name} cover`,className:"w-full h-full object-cover"})}),ut.jsxs("div",{className:"p-4 w-1/2 flex flex-col text-gray-800",children:[ut.jsx("h3",{className:"text-3xl font-bold mb-2",children:n.name}),ut.jsx("p",{className:"text-xl text-gray-700 mb-4",children:t||"Cargando artista..."}),ut.jsx("p",{className:"text-base text-gray-700 mb-6 text-justify",children:n.description||"Descripción no disponible."}),ut.jsxs("div",{className:"mt-auto text-sm text-gray-500",children:[ut.jsxs("p",{children:[ut.jsx("strong",{children:"Género:"})," ",i||"Género no disponible"]}),ut.jsxs("p",{children:[ut.jsx("strong",{children:"Fecha de Lanzamiento:"})," ",o.length===3?`${o[0]}/${o[1]}/${o[2]}`:"Fecha no disponible"]})]})]})]})},dN=()=>{const[n,t]=dt.useState(""),[i,r]=dt.useState([]),[o,u]=dt.useState(""),[f,d]=dt.useState("name"),[p,g]=dt.useState("asc"),[v,E]=dt.useState(null),[w,x]=dt.useState({});dt.useEffect(()=>{(async()=>{try{const $=(await Nm(Om(Ir,"genere"))).docs.map(et=>({id:et.id,name:et.data().name}));r($)}catch(rt){console.error("Error al obtener géneros:",rt)}})()},[]);const q=X=>{f===X?g(p==="asc"?"desc":"asc"):(d(X),g("asc"))},G=async()=>{try{const $=(await Nm(Om(Ir,"vinyl"))).docs.map(et=>({id:et.id,...et.data()})).filter(et=>{var M,O;const W=((M=w[et["artist-id"]])==null?void 0:M.toLowerCase())||"",it=((O=et.name)==null?void 0:O.toLowerCase())||"",D=et["genre-id"];return(it.includes(n.toLowerCase())||W.includes(n.toLowerCase()))&&(!o||D===o)});if($.length>0){const et=$[Math.floor(Math.random()*$.length)],[W,it]=await Promise.all([eh(Wc(Ir,"artist",et["artist-id"])),eh(Wc(Ir,"genere",et["genre-id"]))]),D=W.exists()?W.data().name:"Artista desconocido",b=it.exists()?it.data().name:"Género desconocido";E({...et,artistName:D,genreName:b})}else alert("No hay vinilos que coincidan con los filtros aplicados.")}catch(X){console.error("Error al obtener vinilo aleatorio:",X)}},F=()=>E(null);return ut.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-serif px-8 py-12",children:[ut.jsx("div",{className:"text-center mb-16",children:ut.jsxs("div",{className:"flex items-center justify-center mb-4",children:[ut.jsx("h1",{className:"text-6xl font-bold text-white mr-4",style:{fontFamily:"Oswald, sans-serif"},children:"COLECCIÓN DE VINILOS"}),ut.jsx("img",{src:"./vinyl.png",alt:"Vinyl Record",className:"w-24 h-24"})]})}),ut.jsxs("div",{className:"max-w-2xl mx-auto mb-12",children:[ut.jsxs("div",{className:"relative mb-8",children:[ut.jsx(cN,{className:"absolute top-1/2 left-4 transform -translate-y-1/2 text-gray-500"}),ut.jsx("input",{type:"text",placeholder:"Buscar por nombre o artista...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-800 text-white text-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:X=>t(X.target.value)})]}),ut.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[ut.jsx("div",{className:"relative",children:ut.jsxs("select",{value:o,onChange:X=>u(X.target.value),className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg",children:[ut.jsx("option",{value:"",children:"Todos los géneros"}),i.map(X=>ut.jsx("option",{value:X.id,children:X.name},X.id))]})}),ut.jsxs("div",{className:"flex items-center gap-6",children:[ut.jsxs("select",{value:f,onChange:X=>q(X.target.value),className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg",children:[ut.jsx("option",{value:"name",children:"Nombre"}),ut.jsx("option",{value:"year",children:"Año"}),ut.jsx("option",{value:"artist",children:"Artista"})]}),ut.jsx("button",{onClick:()=>g(p==="asc"?"desc":"asc"),className:"py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:p==="asc"?ut.jsx(lN,{}):ut.jsx(uN,{})})]})]}),ut.jsx("div",{className:"text-center mt-4",children:ut.jsxs("button",{className:"w-full py-3 px-4 rounded-xl bg-gray-800 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg flex justify-between items-center",onClick:G,children:[ut.jsx("span",{children:"Escuchar Vinilo Aleatorio"}),ut.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1.2em",width:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:ut.jsx("path",{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"})})]})})]}),v&&ut.jsx("div",{className:"max-w-7xl mx-auto mb-12 relative",children:ut.jsx(fN,{vinyl:v,artistName:v.artistName,genreName:v.genreName,onClose:F})}),ut.jsx("div",{className:"max-w-7xl mx-auto",children:ut.jsx(tN,{searchTerm:n,selectedGenreId:o,sortOption:f,sortOrder:p})}),ut.jsx("p",{className:"text-xl font-light text-gray-400 text-center",children:"by Facundin"})]})};_w.createRoot(document.getElementById("root")).render(ut.jsx(dt.StrictMode,{children:ut.jsx(dN,{})}));
